1 REM ****************************
2 REM *                          *
3 REM *    The Knights Tour      *
5 REM *      31st March 95       *
7 REM *      (cknight.BAS)       *
8 REM ****************************
9 'this is sknight  speed CRTL thru gosub 9900
10  CLEAR , 32768!, 2000
15  CLS
20 GOSUB 9900
50 REM join
53 SCREEN 7: COLOR 8, 7
56 '
59 REM ------------------------------------------------------
62 REM 4 TYPES K-ing, R-ook,  B-ishop,   N-knight  . 2nd ltr B-lack:W-hite
65 REM 4 TYPES Q-ueen,C-astle,M-inister, H-orse    , 2nd ltr B-lack:W-hite
68 REM 1 TYPE  P-awn                               . 2nd ltr B-lack:W-hite
71 KB$ = "BM +4,+1 c1 U2E2R2F1 g4e4 U3L1U1R1U1R1D1R1D1L1D3 f4h4 E1R2F2D2 G2D1F1D1 L9d1r9u1l9 U1E1U1H2 f2 r7 d1 l7"
72 K2W$ = "BM +4,+1 s8c4 U2E2R2F1 g4e4 U3L1U1R1U1R1D1R1D1L1D3 f4h4 E1R2F2D2 G2D1F1D1 L9d1r9u1l9 U1E1U1H2 f2 r7 d1 l7"
73 K2B$ = "BM +4,+1 s8c1 U2E2R2F1 g4e4 U3L1U1R1U1R1D1R1D1L1D3 f4h4 E1R2F2D2 G2D1F1D1 L9d1r9u1l9 U1E1U1H2 f2 r7 d1 l7"
74 KW$ = "BM +4,+1 c4 U2E2R2F1 g4e4 U3L1U1R1U1R1D1R1D1L1D3 f4h4 E1R2F2D2 G2D1F1D1 L9d1r9u1l9 U1E1U1H2 f2 r7 d1 l7"
77 NB$ = "BM +5,+1 c1 H1U1e1U1E2U1EFE1 F6 D5G2 L9d1r9u1l9 E6 H1 L2G1l1 bm +2,-3 l0"
80 HB$ = "BM +5,+1 c1 H1U1e1U1E2U1EFE1 F6 D5G2 L9d1r9u1l9 E6 H1 L2G1l1 bm +2,-3 l1"
83 NW$ = "BM +5,+1 c4 H1U1e1U1E2U1EFE1 F6 D5G2 L9d1r9u1l9 E6 H1 L2G1l1 bm +2,-3 l0"
86 HW$ = "BM +5,+1 c4 H1U1e1U1E2U1EFE1 F6 D5G2 L9d1r9u1l9 E6 H1 L2G1l1 bm +2,-3 l1"
89 PB$ = "BM +7,0 c1 E2U1H1U1E1 R2 F1D1G1D1 F2D1G2F3  L8d1r8u1l8 E3H2U1"
92 PW$ = "BM +7,0 c4 E2U1H1U1E1 R2 F1D1G1D1 F2D1G2F3  L8d1r8u1l8 E3H2U1"
95 BB$ = "BM +5,0 c1 U1E4U2R2D2F4D1G2 L6D1R6U1D1 G1D1R1F1rE1D2 L12 U2F1R1E1R1U1H1 U1H2"
98 MB$ = "BM +5,0 c1 U1E4U2R2D2F4D1G2 L6D1R6U1D1 G1D1R1F1rE1D2 L12 U2F1R1E1R1U1H1 U1H2"
101 BW$ = "BM +5,0 c4 U1E4U2R2D2F4D1G2 L6D1R6U1D1 G1D1R1F1rE1D2 L12 U2F1R1E1R1U1H1 U1H2"
104 MW$ = "BM +5,0 c4 U1E4U2R2D2F4D1G2 L6D1R6U1D1 G1D1R1F1rE1D2 L12 U2F1R1E1R1U1H1 U1H2"
107 QW$ = "BM +6,0  c4 H2U2R1F2 U3E1F1D3 F1E1 U3E1F1D3 E2R1D2G2 L8R8 D2G1 L6R6 F2D1 L10d1r10u1l10 U1E2H1U2 BM +3,+2 R2D1L2U1"
110 QB$ = "BM +6,0  c1 H2U2R1F2 U3E1F1D3 F1E1 U3E1F1D3 E2R1D2G2 L8R8 D2G1 L6R6 F2D1 L10d1r10u1l10 U1E2H1U2 BM +3,+2 R2D1L2U1"
113 RW$ = "BM +6,0 c4 U2L2U4R2D2 R2U2R3D2R2 U2R2D4 L8R6 D6R2D2 L11d1r11u1l11 U2 R9L7 U4 r1"
116 CW$ = "BM +6,0 c4 U2L2U4R2D2 R2U2R3D2R2 U2R2D4 L8R6 D6R2D2 L11d1r11u1l11 U2 R9L7 U4"
119  SW$ = "c5 r20d20l20u20 bf6 p14,5"     ' white square fill
122  SB$ = "c5 r20d20l20u20 bf6 p3,5"      ' black square fill
123  ZZ$ = "c5 r20d20l20u20 bf6 p8,5"      ' black square fill
125 FLASH$ = "c15 r20d20l20u20"            ' flashing border
128 RB$ = "BM +6,0 c1 U2L2U4R2D2 R2U2R3D2R2 U2R2D4 L8R6 D6R2D2 L11d1r11u1l11 U2 R9L7 U4 r1"
131 CB$ = "BM +6,0 c1 U2L2U4R2D2 R2U2R3D2R2 U2R2D4 L8R6 D6R2D2 L11d1r11u1l11 U2 R9L7 U4"
134 REM --------------------------------------------------------------
135  GOSUB 5000 'intro
137 '
140 GOSUB 8000   'The empty CHESSBOARD
158 '*******************************
200 REM START
210  PSET (200, 20), 8: DRAW NW$: FOR W = 1 TO PAUSE1: NEXT
213 MOVE = 0: TM = PAUSE1
215 LOCATE 12, 31: PRINT "Use Keys"
216 LOCATE 14, 31: PRINT "F1..to"
217 LOCATE 15, 31: PRINT "go FAST"
218 LOCATE 17, 31: PRINT "F2..to"
219 LOCATE 18, 31: PRINT "go SLOW"
225 FOR W = 1 TO TM: NEXT 'JOIN POINT OF LOOP ******************
250 ' FOR W=1 TO TM  :NEXT
255 Z$ = INKEY$
257 ON KEY(1) GOSUB 500    'speed up F1
258 ON KEY(2) GOSUB 550    'slow down F2
260 KEY(1) ON
262 KEY(2) ON
265 IF TM >= 4 * PAUSE1 THEN TM = 4 * PAUSE1
266 IF TM <= PAUSE6 THEN TM = PAUSE6
270 MOVE = MOVE + 1
271 COLOR 14: LOCATE 5, 32: PRINT "MOVE"; MOVE: COLOR 6
275 '
300 READ MV$
305 IF MV$ = "**" THEN 1000
322 IF LEN(MV$) = 4 THEN 4500           'same col pawn
330 '
400 REM  DATA STATEMENTS ************
404 'REM
406  DATA h8g6,g6h4,h4g2,g2e1,e1c2,c2a1,a1b3,b3a5,a5b7
408  DATA b7d8,d8f7,f7h6,h6g4,g4h2,h2f1,f1d2,d2b1,b1a3
410  DATA a3b5,b5a7,a7c8,c8e7,e7g8,g8f6,f6h5,h5g3,g3h1
412  DATA h1f2,f2d1,d1b2,b2a4,a4b6,b6a8,a8c7,c7e8,e8g7
414  DATA g7e6,e6f8,f8h7,h7g5,g5h3,h3g1,g1e2,e2c1,c1a2
416  DATA a2b4,b4a6,a6b8,b8d7,d7c5,c5d3,d3f4,f4d5,d5c3
418  DATA c3e4,e4d6,d6c4,c4e3,e3f5,f5d4,d4c6,c6e5,e5f3,**
500 REM speed up
505 TM = TM - PAUSE3
510 RETURN
545 '
550 REM slow down
555 TM = TM + PAUSE3
560 RETURN
578 '
586 '
800 REM parameters for pset(x1,y1)
805  X1 = 40 + (COF * 20)
810  Y1 = 180 - (ROF * 20)
815 RETURN
820 '
975 '
980 '
1000 REM End of game
1005 COLOR 14: FOR SP = 14 TO 18: LOCATE SP, 30: PRINT SPACE$(10): NEXT
1010 LOCATE 15, 31: PRINT " Press"
1015 LOCATE 17, 31: PRINT "<ENTER>"
1020 FOR W = 1 TO PAUSE3: NEXT
1025 I$ = INKEY$: IF I$ <> CHR$(13) THEN LOCATE 17, 30: PRINT SPACE$(9): FOR W = 1 TO PAUSE3: NEXT: GOTO 1015
1030 SCREEN 0, 0: COLOR 1, 3, 3: CLS
1035 COLOR 14: LOCATE 2, 9: PRINT "THE KNIGHTS GRAND TOUR": COLOR 1
1040 LOCATE 4, 3: PRINT "This classical problem has several "
1045 LOCATE 6, 3: PRINT "solutions but the one given here is "
1050 LOCATE 8, 3: PRINT "probably the earliest one obtained "
1052 LOCATE 10, 3: PRINT "     by De Moivre around 1840."
1060 COLOR 5: LOCATE 15, 13: PRINT "Do You Want:": COLOR 4
1065 LOCATE 17, 6: PRINT "*  A REPEAT ......... (r) or"
1070 LOCATE 19, 6: PRINT "*  Return to Menu     (m)"
1075 COLOR 21: LOCATE 21, 12: PRINT "Input `r' or `m'"
1080 I$ = INKEY$: IF I$ = "" THEN 1080
1085 IF I$ = "r" THEN COLOR 1: GOTO 10
1090 IF I$ <> "m" THEN 1075
1091 KEY(1) OFF
1092 KEY(2) OFF
1095 COLOR 8: CLS
1100 SCREEN 0, 0: WIDTH 80: LOAD "smenu5", R
1105 '************ END **************
1110 '
2970 '
3045 '
4000 REM icon movement and values
4010 X2 = 40 + (M * 20): Y2 = 170 - (N * 20)
4020 PSET (X2, Y2): DRAW FLASH$: FOR W = 1 TO PAUSE1: NEXT'the old cell flashed
4030 PSET (X2, Y2): DRAW BLANC$      'the old icon blanked
4040 FOR W = 1 TO PAUSE2: NEXT
4050 PSET (X1, Y1): DRAW STA$: SOUND 9000, .7'new cell prints icon
4060 IF CHK$ = "Y" THEN GOSUB 1400
4070 Z$(CO, RO) = Z$(M, N)           'the new cell taken this icon
4080 Z$(M, N) = ""                   'old icon cell empty
4090 RETURN
4100 '
4110 '
4500 REM nite  * MV$= h8g6 means nite on h8 goes to g6
4510 STA$ = NW$
4530 CFROM$ = MID$(MV$, 1, 2)   'h8
4540 CTO$ = MID$(MV$, 3, 2)     'g6
4550 CF$ = LEFT$(CFROM$, 1)    'h
4555 CT$ = LEFT$(CTO$, 1)       'g
4559 FROMROW$ = RIGHT$(CFROM$, 1)'8
4560 TOROW$ = RIGHT$(CTO$, 1)   '6
4575 COF = ASC(CF$) - 96: ROF = VAL(FROMROW$)
4580 COT = ASC(CT$) - 96: ROT = VAL(TOROW$)
4590 X1 = 40 + (COT * 20)
4600 Y1 = 180 - (ROT * 20)
4610 'RO=VAL (FROMROW$)           '6
4620 X2 = 40 + (COF * 20): Y2 = 170 - (ROF * 20)
4630 IF CELL$(CO, RO) = "B" THEN BLANC$ = ZZ$: GOTO 4650
4640 IF CELL$(CO, RO) = "W" THEN BLANC$ = ZZ$
4650 PSET (X2, Y2): DRAW FLASH$: FOR W = 1 TO PAUSE2: NEXT'flashing prev cell
4660 PSET (X2, Y2): DRAW ZZ$: FOR W = 1 TO PAUSE3: NEXT'old pawn blanked
4670 PSET (X1, Y1): DRAW STA$: SOUND 9000, .7
4690  GOTO 225    ' REM join
5000 REM intro
5010 TT$ = CHR$(85) + CHR$(34)
5012 PSET (35, 60), 3: DRAW NW$
5013 PSET (245, 60), 3: DRAW NB$
5020 LINE (10, 30)-(310, 150), , B
5030 LINE (28, 38)-(292, 142), , B
5040 PAINT (24, 34), TT$
5050 COLOR 14: LOCATE 8, 10: PRINT "KNIGHT's GRAND TOUR"
5060 COLOR 11: LOCATE 11, 8: PRINT "The problem is to move the "
5070          LOCATE 13, 8: PRINT "Knight in successive steps"
5080          LOCATE 15, 6: PRINT "over the complete Chess-board"
5090 LOCATE 17, 5: PRINT "stepping only once on each cell."
5100 COLOR 5: LOCATE 22, 9: PRINT "Press Return to observe."
5110 FOR W = 1 TO PAUSE3: NEXT
5120 I$ = INKEY$: IF I$ <> CHR$(13) THEN LOCATE 22, 9: PRINT SPACE$(26): FOR W = 1 TO PAUSE3: NEXT: GOTO 5100
5130 FOR W = 1 TO PAUSE3: NEXT
5140 CLS
5150 RETURN
5160 '
8000 REM THE CHESS BOARD
8010 REM Horizontal Barlines(magenta)
8020 FOR Y = 10 TO 170 STEP 20 '9 hor
8030 LINE (60, Y)-(220, Y), 5: NEXT
8040 '
8050 REM Vertical Barlines(magenta)
8060 FOR X = 60 TO 220 STEP 20 '9 ver
8070 LINE (X, 10)-(X, 170), 5: NEXT
8080 '
8090 REM the white(yellow) chequered SW$
8100 REM the Black(cyan) chequered SL$
8110 '
8120 REM all white(yellow squares)with sw$
8130 FOR X = 60 TO 180 STEP 40
8140 FOR Y = 10 TO 150 STEP 40: PSET (X, Y): DRAW SW$: NEXT: NEXT
8150 FOR X = 80 TO 200 STEP 40
8160 FOR Y = 30 TO 170 STEP 40: PSET (X, Y): DRAW SW$: NEXT: NEXT
8170 '
8180 REM all black(cyan squares ) with sB$
8190 FOR X = 80 TO 200 STEP 40
8200 FOR Y = 10 TO 150 STEP 40: PSET (X, Y): DRAW SB$: NEXT: NEXT
8210 FOR X = 60 TO 180 STEP 40
8220 FOR Y = 30 TO 170 STEP 40: PSET (X, Y): DRAW SB$: NEXT: NEXT
8230 '
8240 REM Colours of the cells B or W - Cell$(column,row)
8250 FOR I = 1 TO 8 STEP 2
8260  FOR J = 2 TO 8 STEP 2
8270   CELL$(I, J) = "W"
8280 NEXT: NEXT
8290 FOR I = 2 TO 8 STEP 2
8300  FOR J = 1 TO 8 STEP 2
8310   CELL$(I, J) = "W"
8320 NEXT: NEXT
8330 FOR I = 1 TO 8 STEP 2
8340  FOR J = 1 TO 8 STEP 2
8350   CELL$(I, J) = "B"
8360 NEXT: NEXT
8370 FOR I = 2 TO 8 STEP 2
8380  FOR J = 2 TO 8 STEP 2
8390   CELL$(I, J) = "B"
8400 NEXT: NEXT
8410 RETURN
9900 REM filename speedsub.bas  : Games programming in GWBASIC
9904 REM Objective to compensate a pause varying from system to system
9908 REM The : FOR <a character -say W>=1 TO <a number -say 800 >:NEXT
9912 REM My pauses in a prg vary from 10 to 20000 and hence varies
9916 REM considerably. So  REQUIRES THE INTERNAL CLOCK SPEED.
9920 STARTER#=TIMER
9924 FOR T=1 TO 8000:NEXT T
9928 STOPPER#=TIMER
9932 DELAY=(STOPPER#-STARTER#)
9936 PAUSE1=  INT( 1.55/(DELAY) * 8000)
9940 'the no 1.55 is the DELAY on my 386 for 8000 loop :called pause1
9944 PAUSE2=INT(PAUSE1/2)                          'for 4000 (4000-5000)
9948 PAUSE3=INT(PAUSE1/4)                          'for 2000 (1500-2500)
9952 PAUSE4=INT(PAUSE1/10)                         'for  800 (500-1000)
9956 PAUSE5=INT(PAUSE1/25)                         'for  320 (200-400)
9960 PAUSE6=INT(PAUSE1/320)                        'for   25  (20-40)
9964 REM on my 386 turbo DELAY( 8000 loop)is around 1.54 to 1.56  on 16mhz
9968 REM on my 386 non turbo DELAY(8000 loop) is +-  3.18 to 3.23  on 8mhz
9975 RETURN

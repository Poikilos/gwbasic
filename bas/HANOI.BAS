5 KEY OFF : CLS
10 ' Torre de Hanoi
20 LOCATE 20,1 : PRINT"лллллллллллллллллллллллллллллллл"
30 LOCATE 21,8: PRINT"1":LOCATE 21,16:PRINT"2":LOCATE 21,24:PRINT"3"
40 FOR X=10 TO 19
50 LOCATE X,5: PRINT"   л       л       л"
55 'LOCATE X,8: PRINT"л":LOCATE X,16:PRINT"л":LOCATE X,24:PRINT"л"
60 NEXT X
70 DIM A(3,4)
80 DIM A$(4)
90 '
100 '
110 '
120 LET A$(1)="   л   "
130 LET A$(2)="  ллл  "
140 LET A$(3)=" ллллл "
150 LET A$(4)="ллллллл"
160 FOR Z=4 TO 1 STEP -1
170  LET A(1,Z)=1
180  LET A(2,Z)=Z
190  LET A(3,Z)=1
200 NEXT Z
210 LET C=1
220 FOR Z=1 TO 3
230  FOR Y=4 TO 1 STEP -1
240   LOCATE Y+12,Z*8-3:PRINT A$(A(Z,Y))
250  NEXT Y
260 NEXT Z
270 LOCATE 1,15:PRINT"MOVIMENTO No.";C
280 IF A(1,2)=2 OR A(3,2)=2 THEN 600
290 LOCATE 1,1 : PRINT"DE ?         "
300 INPUT J
310 LOCATE 1,1 : PRINT"PARA ?"
320 INPUT K
330 LOCATE 1,1 : PRINT"DE ";J;" PARA ";K
340 IF J>3 OR J<1 OR K>3 OR K<1 THEN 530
350 IF K=J THEN 530
360 FOR D=1 TO 4
370  IF A(J,D)=1 THEN 410
380  LET P=D
390  LET Q=A(J,D)
400  GOTO 430
410 NEXT D
420 GOTO 530
430 FOR D=1 TO 4
440  IF A(K,D)=1 THEN GOTO 470
450  IF A(K,D)<Q THEN GOTO 530
460  IF A(J,P)>1 THEN GOTO 480
470 NEXT D
480 LET D=D-1
490 LET A(K,D)=A(J,P)
500 LET A(J,P)=1
510 LET C=C+1
520 GOTO 220
530 FOR U=0 TO 10000
540 NEXT U
550 LOCATE 1,1 :PRINT"MOVIMENTO INVALIDO"
560 FOR U=0 TO 10000
570 NEXT U
580 LOCATE 1,1 :PRINT"                        "
590 GOTO 290
600 LOCATE 1,1 :PRINT"VOCE COPLETOU A TORRE DE HANOI EM ";C-1;" MOVIMENTOS"
610 PRINT
620 PRINT"DESEJA JOGAR NOVAMENTE?"
625 INPUT R$
630 IF R$="S" THEN RUN
640 IF R$="N" THEN GOTO 660
650 GOTO 630
660 CLS
670 LOCATE 11,11: PRINT"FIM"
680 END






David Ahl's
Basic Computer Adventures

PUBLISHED BY 
Microsoft Press 
A Division of Microsoft Corporation 
16011 N.E. 36th Way, Box 97017 
Redmond, Washington 98073-9717
Copyright © 1986 by David Ahl 
All rights reserved. No part of the contents of this book may be reproduced or transmitted in any form or by any means without the written permission of the publisher.
Library of Congress Cataloging in Publication Data 
Ahl, David H. 
Ahl's BASIC computer adventures. 
Bibliography: p. 
1. Computer adventure games. 2. BASIC (Computer program language). 
I. Title. II. Title: BASIC computer adventures. 
GV1469.22.A35 1986 794'.8 86-18095 
ISBN 0-914845-92-6
Printed and bound in the United States of America.
1 2 3 4 5 6 7 8 9 MLML 8 9 0 9 8 7 6
Distributed to the book trade in the United States by Harper & Row.
Distributed to the book trade in Canada by General Publishing Company, Ltd.
Distributed to the book trade outside the United States and Canada by Penguin Books Ltd.
Penguin Books Ltd., Harmondsworth, Middlesex, England
Penguin Books Australia Ltd., Ringwood, Victoria, Australia
Penguin Books N.Z. Ltd., 182-190 Wairau Road, Auckland 10, New Zealand
British Cataloging in Publication Data available
Apple® is a registered trademark of, and Macintosh™ is a trademark licensed to Apple Computer, Incorporated.
Atari® is a registered trademark of Atari, Incorporated.
Commodore™ is a trademark of Commodore Business Machines, Incorporated.
Microsoft® is a registered trademark of Microsoft Corporation.

DEDICATION
To Amelia Earhart, Francis Parkman, Marco Polo and the many other bold and resolute adventurers who proved that no frontier is beyond the reach of man.
PREFACE
Although one can trace the origins of digital computers to the Analytical Engine of Charles Babbage or the punched card tabulating machines of Herman Hollerith, the real beginning of the computer age was in the late 1930s and early 1940s, sparked in large part by various aspects of World War II. In Britian, Alan Turing's group at Bletchley Park was trying to build a computer for code-breaking purposes. In Germany, Konrad Zuse built a relay-type machine that could store 64 floating point numbers for rocketry calculations. In the U.S., several developments were proceeding in parallel, but by far the most influential was the work of John Mauchly and J. Presper Eckert at the University of Pennsylvania on a machine which was eventually christened ENIAC (Electronic Numerical Integrator and Computer).
The Purpose of ENIAC was to integrate ballistic equations for gunnery tables. Such tables show the required angle of elevation of a gun for various target distances, shell weights, and wind speeds. A significant accomplishment at the dedication of ENIAC in February 1946 was the computation of the trajectory of a 16" naval shell in less than real time. Since World War II had ended by the time ENIAC was operational, there was no longer the urgent need for the firing tables that motivated its design. Thus, after it was moved to Aberdeen Proving Ground, it was put to use in atomic energy calculations, cosmic ray studies, thermal ignition research, wind tunnel design, and weather prediction as well as for its original purpose of computing ballistic tables for the Army and Air Force.
Unfortunately, today we tend to get a somewhat distorted view of the history of digital computers. Books written by writers in the computer field tend to focus on the early technology (vacuum tubes, mercury delay lines, paper tape), capacity, speed, and occasionally, people. On the other hand, general history books tend to focus on data processing and financial applications, and ignore the incredibly important role of the military in perhaps the most momentous development of the 20th century.
Equally salient is the fact that virtually all of the early applications of digital computers were simulations—of an artillery weapon, a nuclear reaction, a wind tunnel, the weather. It was not until some years later that computers were put to work in data processing, financial applications, and communications.
MY EARLY INVOLVEMENT
In 1957, just 11 years after the first digital computer was demonstrated, in my sophomore year at Cornell University, I got my first taste of computing. By then, of course, computers were being widely used for data processing and related applications, but I was far more fascinated with their ability to simulate the real world. Summers during college, I worked at Grumman Aircraft refurbishing war-worn airplanes, testing antenna configurations, and writing programs with the computer group. I'll never forget the countless hours I spent in the computer room as our project team tried to simulate the actions of an airplane pilot in various situations.
The following summer, I was in a group charged with writing programs to simulate the movements of an early satellite, the orbiting astronomical observatory (OAO). The experience I gained working on these simulations put me in a good position to undertake my senior project at Cornell, a massive program (in ALGOL) that simulated the acoustics of a concert hall. Given the size, shape, seating configuration, wall covering, and ceiling material of the hall, the program calculated the acoustical properties of various seating locations. Today, such a program seems almost primitive, but in 1960 it was a major accomplishment.
A year later, in the MBA program at Carnegie-Mellon University, I had the opportunity to work with the team that wrote the first management game, a simulation of three companies competing in the detergent market. Since then, as my career has progressed through positions at Management Science Associates, Digital Equipment Corp., AT&T, and Creative Computing, I have had fewer and fewer opportunities to program. However, over the years, in the back of my mind I tucked away ideas for future programs.
Thus, when Ziff-Davis decided to fold Creative Computing magazine, it was with a sense of anticipation that I remembered some of these program ideas. Claudette Moore, formerly an editor at Creative Computing, now at Microsoft Press, and I were chatting one day and I mentioned the idea of doing a series of travel simulations. She, with some enthusiasm, asked me to put together a proposal for a book. I did, and this is it. Now, I can only hope that you, the reader, learn as much from the stories and have as much fun taking the simulated journeys as I had researching and writing them.
In closing let me thank Betsy Staples for her enormous help and fanatic attention to detail in editing the manuscript, Claudette Moore for encouraging me to write the book in the first place, and Jody Gilbert, David Rygmyr, and all the other folks at Microsoft Press for seeing the project through to completion.

INTRODUCTION
WRITING A SIMULATION
When writing a large and complex program, the first question always is where to start? The answer is, start with a pad of paper and DON'T turn on the computer.
Writing a computer simulation of some real or imaginary system is not especially difficult. The much bigger job is gathering the data and learning as much as possible about the system so you can define the relationships among its various facets. Once you understand the whole system, you must then break it down into the smallest possible pieces, analyze each piece in depth, determine how to model it, and combine the pieces back into the whole.
In developing the algorithms and writing the programs for each piece, you must determine the most accurate and efficient way to proceed. Is it an exact process that can be represented by a mathematical formula? Is the process continuous or discontinuous? Is it ever interrupted abruptly? Are there random elements involved?
An enormous amount of time must be spent testing each piece. Does the simulation behave in a sensible way? What happens at various extremes? These same questions must be asked again and again as all of the pieces are combined into the whole system.
Like most real-world systems, most of the simulations in this book are a combination of well-defined processes and random elements. For example, Amelia Earhart's airplane flies and consumes fuel according to well-defined physical principles. On the other hand, in Southeast Asia in July, she has a 30% chance of running into a torrential rainstorm. If it occurs, the problems she faces will be quite different from those on a sunny day.
There are five distinct parts to each of the simulations: an introduction to the game, historical background, program notes, program variables, and the progam listings. I encourage you to read The Story (historical background) before taking each computerized journey. By doing so, you will have a much better understanding of the original journey and you will make better decisions as you go along.
Later, if you want to see why the program works the way it does, examine how a routine operates, or even modify the program, the program notes and the list of variables will serve as your guide. You may also find in these programs many interesting and useful routines that you can use in programs of your own.
The ten simulations in this book are rather diverse. Some require many decisions on the part of the player, and some require relatively few decisions. In some, they are easy to make, but random hazards make it difficult to finish the journey. In others, the decisions are more difficult, but the journey itself is easier.
The programs are arranged in chronological order ranging from Marco Polo (1271) to Voyage to Neptune (2100). I suggest you play them in the order in which they appear. Following is a brief preview of what to expect in each simulation. Other aspects of the programs are summarized in the following table:
The GameThe DateThe Mode of TransportationThe DurationMarco Polo1271Camel, foot3 yearsWestward Ho!1847Wagon, oxen6 monthsThe Longest Automobile Race1908Automobile6 monthsThe Orient Express1923Train4 daysAmelia Earhart1937Airplane1 monthTour de FrancepresentBicycle3 weeksAppalachian TrailpresentFoot5 monthsSubway ScavengerpresentSubway train8 hoursHong Kong Hustle1997Mixed (bus, tram, ferry, train, subway)1 dayVoyage to Neptune2100Spaceship6 yearsSUMMARY OF THE ADVENTURE SIMULATIONS
* Marco Polo simulates a three-year journey over the Silk Road in 1271. It is easy to play once you get the hang of using jewels in place of money. However, it is a challenge to complete the journey in three years and have enough jewels remaining for trading.
* Westward Ho! simulates a six-month journey over the Oregon Trail in 1850. It uses the same framework as Marco Polo but, because you have fewer resources, it is slightly more difficult to finish the trip.
* The Longest Automobile Race simulates the 1908 auto race from New York to Paris (east to west). In those days, the cars were unreliable, the roads were nothing more than cart tracks, and, as always, the weather was unpredictable. It is not too difficult to reach Paris, but quite difficult to win the race.
* The Orient Express simulates a mystery case aboard the famous train in 1923. You will almost always complete the trip, but the mystery is extremely difficult to solve.
* Amelia Earhart simulates the around-the-world flight attempt of the famous aviatrix in 1937. If you load enough fuel and pay attention to maintenance and repairs, you will have no trouble reaching Southeast Asia. From there on, it is tough going.
* Tour de France simulates the famous three-week bicycle race. Along with intelligent decisions, this game requires manual dexterity on the keyboard. It is reasonably easy to finish, but quite difficult to win.
* Appalachian Trail simulates the trek of a hiker walking from Georgia to Maine. Preparation is half the key to completing the hike, but sensible decisions along the Trail about eating, walking speed, and walking hours are important also.
* Subway Scavenger simulates the rounds of a messenger using the New York subway system. During the first few plays of the game, you must develop a map of the subway system. Even with the help of a map, you will find this an extremely challenging game to finish.
* Hong Kong Hustle simulates the Tai Pan collecting bags of gold from various locations around Hong Kong. Using the same framework as Subway Scavenger, you must first develop a map, then go for the gold.
* Voyage to Neptune simulates an imaginary journey to Neptune in the year 2100. It is a game of trading and tradeoffs. It is not difficult to get to Neptune; it is very difficult to do so in six years or less and have enough fuel left for the return trip.
Following the ten simulations is a section on machine requirements and converting the programs to other versions of BASIC. Be warned that converting programs as long as these is a major undertaking.
I hope you have fun trekking through this volume. Good luck on your computerized journeys!


COMPANION DISK TO BASIC COMPUTER ADVENTURES
To save you hours of typing in the programs—and the additional hours of finding those inevitable typos—David Ahl has created a special program disk for BASIC Computer Adventures. The disk contains all 10 programs included in the book, plus loading instructions for the IBM PC, PCjr, and PC-compatible computers.
This disk is only available directly from David Ahl. To order, send $20.00 (plus $1.00 per disk for domestic postage and handling charges, $2.00 for foreign orders) to: David Ahl, 12 Indian Head Road, Morristown, NJ 07960. Payment must be in U.S. funds. You may pay by check or money order (payable to David Ahl). Please allow 4 weeks for delivery.


THE GAME
In Marco Polo you are the leader of a group of merchants leaving on a business trip from Venice, Italy to Shang-tu, China. After sailing to Armenia at the east end of the Mediterranean Sea, you set out by camel on a 6000-mile trek across Asia to the court of the Great Kublai Khan in Shang-tu near the Pacific Ocean. To get your party safely to Shang-tu, you must know the rules of the Silk Road; the more important ones are noted here:
* At the beginning of the game, you are asked to rank your shooting ability. Since the program cannot really test your prowess with a crossbow, shooting ability is measured by how fast you can type a random shooting sound. A rating of I describes a reasonably good typist, while 4 should be reserved for those who use no more than two fingers. The game will be more fun if you rank yourself 1 or 2.
* Approximately every two months during your trip, you come upon a village that has a market where you may replenish your provisions. As prices vary widely from place to place, it is best to maintain a modest stock of goods so you are not forced to buy at high prices.
* Deciding how well to eat during each two-month period involves some tradeoffs. Eating better allows you to walk longer and cover more ground; you are also less susceptible to disease. However, food costs money (jewels), and your camels have a limited carrying capacity. If you run out of food on the trip, you can always eat a camel (assuming you have one left).
* Balm and unguents are used for treating wounds. If you run out, you face a much higher risk of getting a fatal infection.
* As a merchant, you are not a skilled hunter. However, occasionally you may be offered an opportunity to hunt. Count it a blessing if you get food in this way, but remember that your crossbow is the only weapon you have with which to drive off bandits. Hence, you should always keep a small supply of arrows in reserve.
Many hazards and surprises await you along the road to Shang-tu, so stay alert and keep your wits about you. The Polos completed the land journey in approximately 36 months. In the game, this means arriving at Shang-tu in March 1274. If you make only the best decisions and encounter no delays, it is possible to complete the computer journey in 24 months, but a more realistic goal is to complete the trip in the same 36 months it took the Polos. Can you do it?

THE STORY
Today, a traveler flying into Venice, Italy lands at Marco Polo Airport. At the Doge's Palace in Piazza San Marco, one can view magnificent tapestries, porcelain, and jade carvings from China—the rewards of being at the western terminus of the "Silk Road" to the Far East, a route first traveled by Marco Polo in 1271.
Yet upon his return from his now famous journey to the Far East, Marco Polo's tales of strange people and far off places met with disbelief. For hundreds of years, to call something a "Marco Polo" was to label it a tall tale or even an outright falsehood. Even after they were published, his stories were thought to be largely fictional accounts. Indeed, there is little to indicate that a single one of Marco Polo's contemporaries believed much of his story. And, on his deathbed his friends pleaded with him, for the peace of his soul, to retract some of the incredible statements made in his book. Instead, he refused and is said to have replied, "I have not told half of what I saw."
As his accounts were set down many years before the development of printing, the volumes were copied by hand, and variations in wording and numerous embellishments crept into the work.
In all, more than 100 different manuscripts were produced—some in Italian, some in Latin, and some in French. The earliest printed edition is dated 1559, and an English translation did not appear until 1818.
Not until the late 1800's did scholars attempt to piece together a truly original edition, as reports from later travelers and explorers began to indicate that the majority of Marco Polo's accounts were accurate and unexaggerated. Unfortunately, not one edition treating the entire work as a travel narrative has ever appeared, nor has the story ever been translated into contemporary English. Thus, to this day, for most Americans, the myths and the realities remain intertwined.
Marco Polo was born in Venice in 1254, son of Niccolò, one of the great merchants and noblemen of the city. An uncle, Maffeo, worked directly with his father, and together the team of brothers traveled to many distant lands.
Niccolò Polo and his brother Maffeo made their first great journey east in 1260. They visited their third brother in Constantinople and from there set out on a trading trip along the Tigris River to the great city of Bokhara in the Persian Empire (today, the city of Bukhara is in south central Russia). There they met an ambassador of the Great Khan (Supreme Lord), Kublai, son of the conquering Gengis Khan, who lived at the eastern extremity of the continent in Shang-tu (today, the inconsequential town of Shangdu about 200 miles northwest of Beijing, China).
Kublai Khan had never seen a native of Italy and requested an audience with the two brothers. Convinced that they had no choice in the matter, the brothers made an incredible year-long journey across Tibet and Mongolia to the eastern-most part of the Empire of the Great Khan (Cathay, or China).
As the first Europeans to set foot in the court of the Great Khan, they were entertained with feasts and plied with extravagant gifts. Kublai Khan questioned the brothers at length and became convinced that his Empire could benefit greatly from European learning (although, it should be mentioned, the Khanates were in many respects better governed and more civilized than much of Europe at that time). Consequently, Kublai Khan asked the brothers to relay to the Pope a request for 100 men of learning who could be stationed throughout his extensive empire to disseminate the best of Western culture.

Although furnished with escorts, provisions, and everything necessary for their return journey, the Polos remained subject to the hazards of travel—extreme cold, snow, floods, deserts, and diseases—and it was three years before they reached the seaport of Laissus in Armenia and set sail for Venice.
Back in Italy, they found that Pope Clement IV had just died.
Two years passed before they could relay the Khan's request to the new Pope, Gregory X, who, instead of furnishing 100 men of learning, dispatched two friars of the Order of Preachers to accompany the Polos on their return trip. Having heard accounts of warring tribes along the route, the friars feared for their lives and, after just a few days' journey, turned back. This was not the only time this happened; as H.G. Wells in The Outline of History reports, "This abortive mission was only one of a number of attempts to communicate, and always they were feeble and feeble-spirited attempts, with nothing of the conquering fire of the earlier Christian missions."
Manuel Komroff in The Travels of Marco Polo goes further. "A hundred cultured men living in China at this time and returning home at various periods would have changed the course of human events. Europe was just awakening from a long, barbaric sleep, while China was already cultured in many fields. Marco Polo came to exchange merchandise, while 100 cultured men would have returned to exchange ideas. It is the traffic of ideas that is of greater profit to humanity."
On the second journey, the two Polo brothers decided to bring Niccolò's 16-year-old son, Marco, along. Marco was, first and foremost, a merchant, and much of his journals discuss trade, finance, risk, and profit. He also had an eye for nature and described many varieties of birds, trees, and other plants and animals. But beyond the realms of commerce and nature he was largely without vision and simply reported what he saw in a matter-of-fact style with little analysis of the underlying whys and wherefores.
The second journey of the Polos resembled the first—the main difference being the eyewitness account provided by young Marco's notes. As mentioned, these notes are not in the form of a travel narrative, but rather a description of things and places. Moreover, in setting down his account, Marco rearranged his notes to tell of a country (or city) and its immediate neighbors, thus making it difficult to define the actual route taken.
However, by comparing Marco's accounts with other historical information, excavations, and legends, historians have accurately reconstructed the route of this second legendary journey. Rather than starting in Constantinople, the second journey started in the port of Laissus in Lower Armenia (today, near Adana in south central Turkey). From there the travelers headed northeast along the Euphrates River and then turned southward along the Tigris River to Babylon (Baghdad) and continued on south to the Persian Gulf.
From there they continued south to Hormuz, where the caravan turned almost due north to cross the Dasht-e Lut and Dasht-e Kavir desert regions of Persia to Herat (then in the Khanate of Persia, today in Afghanistan). Next they followed a difficult trek across the mountains of Afghanistan, skirting north of Kashmir to Kashgir, the capital city of the Khanate of Chaghadai (today, Kashi, China).
Continuing in the mountains, the Polos then descended and crossed the narrowest part of the desert of Lop, which took a month. As Marco described, "During these days the journey is invariably over either sandy plains or barren mountains. In this tract, neither beasts or birds are met with, because there is no kind of food for them." He also described "excessive troubles and dangers that must unavoidably be encountered" such as mirages, malevolent spirits, eerie noises, and the danger of losing the path. This is one of the only places in which Marco Polo discussed the dangers of the route, so it must be supposed that they made a great impression on him. To this day this bone-strewn and barren waste has been crossed by very few travelers, and it remains one of the most desolate regions of the world.
The caravan then continued into the province of Tanguth in the Khanate of the Great Khan along what is today the border of Tibet (Xizang) and Sinkiang (Xinjiang). They continued generally eastward, veering off to the north before reaching Xian, the legendary eastern terminus of the Silk Road. The northern route followed the Yellow River for 550 miles, but unfortunately it also obliged the Polos to cross a portion of the Gobi Desert to reach Shang-tu. Marco did not dwell as long on the Gobi Desert as he did on the Lop, although he did mention that one must "lay in provisions for at least 40 days because that space of time is employed in traversing the desert, where there is not any appearance of a dwelling, nor are there any inhabitants."
Finally, after traveling for three and a half years, the Polos arrived in the court of the Great Khan and bowed low before the emperor. In place of 100 learned men, they had with them a few letters from the new Pope, a little sacred oil from the Holy Land, and a few items to trade. By this time Marco was 21, the year, 1275.
Kublai Khan took a liking to Marco Polo, who at once applied himself to learning the written and spoken languages of the country. The Emperor, seeing that the young man was both clever and tactful, began to send him on public missions to other parts of the empire.
Marco Polo had observed that the Khan was often bored by the dry reports of his administrators but enjoyed hearing about the manners and oddities of people in other regions. Thus Marco started to keep small notebooks of strange facts that were likely to amuse and interest Kublai Khan. It was from these notebooks that Marco eventually transcribed the account of his travels back in Italy.
The Polos prospered in the court of Kublai Khan, and the Khan became very attached to them. Although they wanted to return to Italy, the Khan apparently felt that in a small way they were serving in place of the 100 men he had requested and declined to let them go.
However, 20 years later the Khan of Persia lost his favorite wife and asked Kublai Khan to send him another from the same Mongol tribe from which she had come. The Polos, who were expert navigators, proposed to the Khan that they be allowed to pilot the ships that would carry the party to Persia. Reluctantly, the Khan consented.
The Polos exchanged all their acquired possessions for jewels and set sail on a long and dangerous two-year voyage through the South China Sea and the Indian Ocean to Persia.
A year later, after having left the spectacular court of Kublai Khan, Niccolò, Maffeo, and Marco Polo arrived in their old home, Venice. Their clothes were tattered and foreign, their faces reflected the ravages of travel, and they had practically forgotten their native tongue. They had long been thought dead, and the distant relatives occupying their house refused to admit them after their absence of 26 years.
They finally succeeded in convincing their kindred that they were not imposters, and a great feast was arranged. All their old friends and relatives were invited. The Polos dressed in new velvet and damask garments for the meal, but when the table had been cleared and all the servants asked to leave, Marco Polo produced the coarse, shabby costumes they had worn on their arrival. Then, taking sharp knives, they ripped the seams and let fall to the table quantities of rubies, sapphires, diamonds, pearls, and other jewels. The guests were amazed and dumbfounded, the story spread, and the Polos became the most illustrious merchants of Venice.
Because the Polos were merchants, they immediately set themselves up in business and again began to trade. At the time, there were fierce rivalries among the great Italian merchant cities of Venice, Pisa, and Genoa. These rivalries had reached the point of open warfare, and most merchant families maintained one or more war galleys to protect their harbors and trading ships from both pirates and truculent rivals.
In a major battle, the Venetian and Genoese fleets met on September 7, 1298, just three years after the Polos' return from the Far East. In the battle, the Genoese captured the entire Venetian fleet and took 7000 Venetians, including Marco Polo, prisoner. Most were released in exchange for ransom, but the Genoese refused to release Marco Polo.
Thus, in a Genoese jail, Marco Polo dictated the notes of his travels to a fellow prisoner, Rusticien, a scribe from Pisa, and they were set down on parchment. Within a year, the merchant war between Venice and Genoa was over, Marco Polo was released, and the world got its first, disbelieving glimpse of the strange and fascinating land of Asia.
BIBLIOGRAPHY
Fairbank, J. K., Reischauer, E. O., and Craig, A. M. East Asia: Tradition and Transformation. Boston: Houghton Mifflin, 1973.
Komroff, Manuel. The Travels of Marco Polo. New York: The Modern Library, 1953.
Wells, H. G. The Outline of History: A Plain History of Life and Mankind. Boston: Doubleday, 1971.
THE PROGRAM
The Marco Polo program consists of a very short main program that simply calls a series of ten major subroutines. Ten shorter subroutines perform frequently used operations such as checking for a yes/no answer or centering a printed line. The program uses the same framework as the Westward Ho! program which includes extensive program notes; hence these notes describe only those sections that are unique. Both the subroutine to deal with the purchase of initial supplies (Lines 720–880) and the one to deal with bartering for supplies along the way (Lines 1190–1380) require the player to specify quantities of six items. These quantities must be in a range, the lower limit of which is usually zero and the upper limit of which is defined by the number of jewels the player has. Hence, before each INPUT statement, the upper limit is set:
A2 = (INT(JL / RN))
in which A2 is the upper limit, JL is the number of jewels, and RN is the cost of the item. The cost is a random function which varies over a small range. After setting the limit, an INPUT statement gets the answer, following which a subroutine (Lines 3790–3820), which checks to see if the answer is within the acceptable range, is called. If not, a message saying, "That is too few" or "That is too many," is printed and the input request is stated again.
Consider the expression in Line 1580:
FR = INT(.5 + 10 * (F - FE)) / 10
The purpose of this expression is to calculate a fractional value (to 1/10) of the food reserve (FR), which is food (F) less food eaten (FE). This function is necessary because the computer may not calculate fractional values absolutely correctly (2/5 may come out 0.40000001, for example) and we do not want to print these extraneous digits or, worse yet, compound the error as the program proceeds. Because the integer (INT) function actually truncates the decimal places, it is necessary to add 0.5 to ten times the number to retain the correct decimal value. Try calculating the value of FR with and without the 0.5 for values of F–FE equal to 3.299999 and 3.300001.
Another expression frequently used in the program is found at Line 2160:
IF FC = 1 THEN X$ = "" ELSE X$ = "S"
This is used when printing the reference to an item, in this case sacks of food, that could have a value of zero, one, or more. When printing, we want the singular or plural form of the item to correspond to the numeric value, i.e., "I sack" and "2 sacks." Thus, the PRINT statement uses the string X$ as follows:
PRINT "You'll have to sell" FC "sack" X$ "of food
Notice the spacing. When a numeric value (FC) is printed, it is automatically preceded and followed by a space; thus, we enclose no spaces in the quotes on either side of a numeric value. However, a string (X$) has no automatic spaces and because we want a space following the word "sack" or "sacks," we leave a space inside the quotes following X$.
Compare the method of reading the probabilities of events occurring in this program (Lines 3570–3580) with that in Westward Ho! (Lines 3710–3720). The effect is the same, but the Marco Polo approach makes it easier to change the probabilities.
3570 FOR I = 1 TO 14 : READ A : EPT = EPT + A : EP(I) = EPT : NEXT I
3580 DATA 6, 4, 4, 6, 6, 6, 6, 4, 4, 1, 6, 8, 18, 10
The probability of the first event occurring is arbitrarily set to 6. The next event is only two-thirds as likely to happen as the first; it is assigned a value of four. The 13th event is three times as likely to happen as the first; it is assigned a value of 18.
The cumulative value of these events is then read into the array EP. EP(1) = 6, EP(2) = 6 + 4 or 10, EP(3) = 14, and so on.
The function in Line 1950 determines which event occurs:
RN = INT(EPT * RND(1))
This function selects a value between 1 and EPT. If RN is between 1 and 6, event 1 occurs; between 6 and 10, event 2; between 10 and 14, event 3; and so on.
The function in Westward Ho! does the same thing but it requires you to calculate in advance the value of EPT and all the values of EP(n). Consequently, it is not nearly as easy to see the relationship between various events. Nor is it as easy to change things around, because changing one value at the beginning of the list will affect all later values.
The shooting subroutines in Marco Polo (Lines 3620–3700) and Westward Ho! are also very similar. First, a random shooting word (SPLAT, TWACK, etc.) is selected in Line 3630 which you are directed to type. Then, the current time (in seconds) is read from the real-time clock of the computer in Line 3640; this is the starting time. An INPUT statement in Line 3650 accepts your typed word which is then compared with the requested word. If the two words match, the ending time is read from the real-time clock, the starting time subtracted from it, and the resulting elapsed time is used to calculate your ranking as a marksman.
If the word you entered did not match the requested word (the comparison is done in uppercase), the routine then checks to see whether you might have typed the word in lowercase letters. Lines 3660–3670 convert the letters of the requested word. If there is still no match, you are told, "That's not it. Try again."
At the beginning of the program when you were asked to rank your shooting ability (Lines 600–700), the number that you input (HX) effectively becomes the number of seconds you have to type the requested shooting word in order to be ranked as an excellent marksman. Hence, if you claimed to be able to "hit a charging boar at 300 paces," in order to hit a bandit or animal dead center, you will have to type the correct word in one second or less. Actually, because of the way the real-time clock works, the allowable time may be as much as 1.99 seconds. Of course, you can "cheat" and rank yourself as a poor marksman (which will give you more time to type the correct word), but doing so makes the game less challenging and fun.
Many of the shorter subroutines are explained in the program notes in the next three chapters. Be sure to read them if you are having trouble understanding how anything works in this program.


PROGRAM VARIABLES
A	Answer to input query, numeric
A$	Answer to input query, string
A1, A2	Upper and lower limit to input answer
B	Beasts (camels)
BA	Beast quality
BL	Beast load capacity
BSK	Beast sickness indicator
C	Clothes (changes)
CZ	No clothes indicator
D	Distance (miles per trip segment)
DT	Distance, total
DZ	Desert indicator
EP(n)	Event probabilities (n = 1, 14)
F	Food (sacks)
FA$(n)	Food, names of animals for hunting
FC	Food carrying capacity of beast
FE	Food eaten on current trip segment
FP	Food eaten on previous trip segment
FQ	Food quality on current and previous trip segment
FR	Food reserve
HX	Hunting expertise level
I	Iteration variable
J	Trip segments (2-month periods)
K	Iteration variable
JL	Jewels
L	Oil (skins)
M	Medicines (bottles of balm)
MO	Month
MO$(n)	Month name (n = -1, 6)
PFD	Person food indicator
PSK	Person sickness indicator
PSKT	Person sickness total
PWD	Person wound indicator
PWDT	Person wounds total
R	Rate of speed
RN	Random number variable
S$(n)	Shooting words (n = 1, 4)
S1, S2	Shooting timer start and stop
SR	Shooting response
W	Weapons (crossbow arrows)
X$	Temporary string variable
XA$	Temporary string variable
YR	Year


THE GAME
In Westward Ho! you are the head of a family of five setting out from Independence, Missouri, in the spring of 1847 on the Oregon Trail. Your objective is to arrive safely in Oregon City, Oregon.
Having saved about $420 you must purchase a wagon for $70, and with the remaining money you must also buy enough equipment, supplies, and livestock to sustain you on your strenuous 2000-mile journey. As you travel, you encounter the same hazards and conditions that American pioneers faced during the Great Migration: wagon fires, polluted water, wild animals, bad weather, illness, and topographical obstacles. The following hints will help you on the Trail:
* In Independence you decide how much of your money to spend on the things you need for the trip. You can spend all of your money there, but if you do, you will not be able to buy supplies at forts along the way.
* The trip is divided into two-week segments. Between segments you have an opportunity to stop and hunt for game. Hunting may augment your food supply, but it always consumes valuable time.
* At the beginning of the game, you are asked to rank your shooting (typing) ability. When you are hunting or being attacked by hostile Indians, you are asked to type a word that sounds like a gunshot; the faster you type it, the more likely you are to hit your target. Of course, not all Indians that approach your wagon are hostile, and shooting at friendly Indians costs you time and ammunition.
If you make the correct decisions along the way, you and your family will join the hundreds of thousands of pioneers who settled and developed the land west of the Rockies. If you prepare poorly or if you make foolish decisions, your bones will serve as a warning to those who come after you on the Oregon Trail. Good luck!

THE STORY
No one can say when it began. A thousand little rivulets of water trickling downhill go unnoticed until they merge into a thundering river. So it was at the beginning of the greatest mass migration of people that this country, or any other, has ever known. There was only one way to go: west. West to farmlands in Ohio, west along the Erie Canal to the Great Lakes, west to the tributaries of the Mississippi and Ohio rivers, and west to the rolling hills of Kentucky.
By 1825, steamboats were plying the Mississippi and Ohio rivers, and the states of Michigan, Illinois, and Indiana were considered settled. Settlers pushed west into Iowa and Missouri until, by 1830, Independence, Missouri, then the westernmost post office in the United States, defined the boundary of the frontier.
Independence was on the very threshold of the frontier, and for more than a decade it remained the focal point for the western march of the pioneers. Independence was ideally situated for such a role. It was three miles south of the big bend in the Missouri River, where, after flowing southeast for 2000 miles from its headwaters in the Rocky Mountains, the great river changed direction and flowed due east to join the Mississippi a few miles north of St. Louis. A few miles to the west began the vast undulating prairies and high plains that stretched unbroken to the distant Rockies.
With the lands east of the Mississippi settled, adventurers, either by choice or compulsion, gravitated to an even newer frontier—the lands west of the Mississippi. Like their fathers, they were traders, trappers, hunters, and explorers—almost certainly not farmers or settlers.
An early lure of the west was the lower Rio Grande, where inexpensive Spanish and Mexican linens and fabrics could be bought from Spanish traders. New England textile merchants smacked their lips at the thought of profits from capturing that trade. Trade with various Indian tribes was also of interest, and by 1825 a regular route across the Kansas prairie, along the Arkansas and Purgatoire Rivers, and across the Sangre de Cristo Mountains, had been established from Independence to Santa Fe, New Mexico. This, the first of the major trails west, was known as the Santa Fe Trail.
By 1830, adventurers had started looking westward to destinations other than New Mexico. In 1831, Joseph Smith, Jr., set out from Independence and, upon reaching what is now Salt Lake City, declared, "This is the place." Tens of thousands of Mormons followed in his footsteps over the next three decades to escape religious persecution in Ohio and Missouri.
Meanwhile, Stephen Watts Kearney, a determined U.S. Army general, had pushed west over a southern route from Santa Fe through Arizona to San Diego, and other people had extended the northern trails west across the mountains to San Francisco (the Overland Trail) and to Willamette Valley (the Oregon Trail). In addition, steamboats of the American Fur Company had been able to navigate up the Missouri as far as Fort Pierre, South Dakota, while smaller vessels had gotten to Fort Benton, Montana. To cement its foothold, this privately owned company was busy establishing outposts and forts throughout the northern states.

Independence, absorbed with the Santa Fe trade to the south and the fur trade to the north, had paid little attention to the trickle of emigrants who, for several years, had been setting out for California and Oregon. However, as glowing reports began to come back from the early pioneers, the trickle swelled to a flood—900 emigrants left Independence in 1843, 3000 in 1845, and more than 5000 in 1847. These new pioneers bore little resemblance to the traders plying the Santa Fe Trail or to the trappers in the North. They were men of the land, traveling with their wives and children. They were movers, but they had a destination, a promised land called Oregon—about which they knew as little as they knew about the road that would take them there.
Historically, the Conestoga wagon, which originated in eastern Pennsylvania, has always been associated with the great migration to Oregon and is depicted in scores of paintings. The truth, however, is much less colorful. The Conestoga wagon was in fact far too heavy for the long haul across the prairies and mountains, and a flatbed farm wagon, sometimes fitted with high wheels and a tent of waterproof sheeting, was generally the transport of choice. Such a wagon, sometimes called a Murphy wagon, required a team of six to ten mules or oxen to pull it when heavily laden. Most families also had a cow or two, a saddle horse, and a plow lashed to the rear of the wagon.
A bare-bones Murphy wagon cost about $50 to $70; high wheels, a waterproof covering, yokes, harnesses, and spare parts could bring the total cost up to $100. A team of two oxen cost about $25; most travelers bought six to ten animals. Although horse teams could travel faster than oxen, ox teams were sturdy, dependable, and less likely to be stolen by Indians. And if worst came to worst and food ran out, the oxen could be eaten.
A guidebook of the time recommended the following food supplies for one adult for the five- to six-month journey: 150 lbs. of flour, 25 lbs. of bacon or pork, 15 lbs. of coffee, 25 lbs. of sugar, and smaller quantities of rice, beans, dried fruit, molasses, vinegar, salt, pepper, tea, spices, and baking soda. Also on the recommended list were tobacco, soap, whiskey, medicines, and matches.
It was essential that the wagon carry spare parts and tools such as oxen yokes, harnesses, lead bars, open chain links, horseshoes, nails, ropes, hammers, axes, mallets, saws, and spades. Tar buckets were also necessary, some filled with resin and grease to use on the axles, and others filled with tar to seal and waterproof the wagon before fording or floating it across a river.
When they arrived in Independence, most families already had some supplies and clothing. However, tales of harsh weather in the mountains inspired all but the most foolhardy travelers to procure additional warm clothing.
For protection as well as hunting, travelers carried breech loading rifles, Colt revolvers, and a plentiful supply of ammunition. Most also took along mirrors, ribbons, cloth, tobacco, and assorted trinkets for trading with the Indians.
Most families joined others in Independence and made up wagon trains of from four to as many as 100 wagons. Each season, the first of these trains set out as soon as the winter snows melted and was followed by a steady stream of departures throughout the spring and into early summer.
The wagon trains usually went only a short distance the first day, making a sort of trial run. While they were still close to Independence, the men could ride back if necessary to buy supplies that had been forgotten.
The first weeks of travel in the spring were generally very difficult. The men frequently were not experienced at handling teams, wagons, or weapons. The snows had just melted, so the trails were like mud bogs. Most families had no idea how to pack and wound up with dangerously top-heavy or unbalanced loads. Oxen became entangled in their ropes at night and sometimes, breaking free, wandered off.
The first stop for most travelers, usually reached in two or three days, was the Shawnee Methodist Mission only 15 miles from Independence. Once this was left behind, travelers would not see any signs of civilization for many long miles. After leaving the Mission, the wagon trains lumbered over the rolling prairie south of the Kansas River, following the deep ruts of the Santa Fe Trail as far as the present-day town of Gardner, Kansas. There a sign bore the simple legend "Road to Oregon."
From there on, the wagons kept to the high prairies as much as possible, although there were many streams and rivers to be crossed. The Wakarusa, Kansas, Red Vermillion, Black Vermillion, and Big Blue rivers were especially difficult for the travelers; smaller streams could be forded, but it was a daylong ordeal to cross a river. First, the wagons had to be unloaded and the joints and seams packed with tar. After that, they were let down the bank with ropes and floated across. Supplies were floated by makeshift raft or carried by horse. Frequently tools and heavier provisions slid into the river. After the oxen had crossed, they were taken to the top of the bank, harnessed by long ropes to the wagon, and, with them pulling and all the family members pushing, the wagon inched to the top of the bank.
Indians, particularly the Pawnee in the area of the Red Vermillion river, did not welcome the constant stream of white men crossing their hunting grounds. In 1849, for example, after a cholera epidemic for which the Indians blamed the whites, the Pawnee, Oglala, and Sioux began attacking wagon trains with great frequency. Wagons were particularly vulnerable when crossing rivers, so the Indians often chose fords for their attacks.
In a sense, the Indians were correct about the source of cholera. It had been carried from Asia to the U.S. by sailors and passengers on ships. It reached the frontier by way of New Orleans and the Mississippi and traveled west with the wagon trains. No amount of planning or preparation could save the settlers from this hazard. Afflicted with severe pain, vomiting, and cramps, a person might display the first symptoms in the morning and be dead by noon.
In 1852, Ezra Meeker kept a log and estimated that more than 5000 people had died of cholera on the trail that year.
Living in fear of disease, the emigrants were prone to dose themselves with large quantities of medicine at the first sign of any illness, on the theory that the larger the dose the quicker the recovery that might be expected. In fact, many patients were killed rather than cured by the injudicious use of medicine.
River crossings slowed the journey through Kansas and Nebraska, and most wagon trains took about three weeks to travel the 175 miles to the ford across the Big Blue River in southern Nebraska known as Independence Crossing. About six miles northwest of this crossing, trails from St. Joseph and Fort Leavenworth converged, thence following the Platte River to Fort Kearney. Having reached the Platte, the pioneers could follow its valley west, past Chimney Rock, Scott's Bluff, and to the last outposts of civilization, Fort Laramie and Fort Fetterman.
The Platte River marked the beginning of buffalo country, and few men missed the chance to enjoy some good hunting and to add to their food supply. Unfortunately, most of them had no idea how to preserve the meat. The animals were generally shot in midafternoon and left in the hot sun until sunset, when they were gutted. Perhaps one was roasted that night, but the rest were left unskinned and undivided to rot and provide a meal for the scavengers of the plain.
Along the North Platte River Valley, the wagons could generally make a speed of about two miles per hour, thus covering, in a good day, about 15 to 18 miles. If it had been possible to maintain this speed for the entire journey, the 2040 miles from Independence to Oregon City could have been covered in about 4 1/2 months. However, everything seemed to conspire to slow the trip: river crossings, Indian and bandit attacks, hunting, burying the dead, wagon breakdowns, muddy trails, oxen wandering off, and losing the trail.
Some wagon trains even rested on Sunday, observing it as a day of worship and, more often than not, repair.
Fort Laramie stood at the fork of the Laramie and North Platte rivers in eastern Wyoming. There the traveler had his first opportunity in many weeks to send letters home, buy provisions, and get information about the trail ahead. There, too, was a place to relax a bit from the constant caution so necessary on the march.
After Fort Laramie, the next objective was the Sweetwater River Valley in central Wyoming, the entrance to which was marked by Independence Rock, on which thousands of emigrants carved their names. "The Great Register of the Desert," Father Pierre Jean de Smet, a Jesuit missionary, called it. If things were going well, most travelers had reached the rock by July 4.
Looking west from Independence Rock, the emigrants could see, six miles in the distance, a V-shaped split in a rocky ridge known as Devil's Gate. The preferred route skirted Devil's Gate Canyon, but there was no question that it marked the beginning of a new and more difficult phase of the journey. Although there were many alternative routes to the Sweetwater Valley, all trails converged there for the long ascent to South Pass across the Continental Divide. Even in mid-July, the steep mountain walls often blocked the sun, and snow and ice frequently covered the ground. The ascent from the Sweetwater Valley was long and gradual, and the South Pass many miles in width. Hence the only real hindrances to good progress were the occasional snow and damage to wagon wheels from the rocky trail. The travelers, having left the boredom of the plains and knowing that they had reached the halfway point of the trip, were usually in good spirits as they entered South Pass.
Beyond the South Pass, the trail began a gradual but rocky descent of about 60 miles, across the Green River near the Wyoming-Idaho border. This crossing was an extremely dangerous one; the river was wide, deep, powerful, and ice cold. Those who successfully made this crossing were much relieved to follow the Bear River Valley for a way to Soda Springs, whence they headed northwest for 50 miles to Fort Hall, Idaho, on the Snake River. There they were forced to decide whether to continue on to Oregon or turn south to California.
Fort Hall was a welcome stop for the wagon trains. Originally built by Captain Nathaniel J. Wyeth of Boston in 1834, the fort offered needed supplies and protection from the hostile Blackfoot Indians. After leaving the fort, the trail crossed the Portneuf River and Bannock Creek and then passed the American Falls on the Snake River. This treacherous crossing led, a few miles on, to two enormous rocks known as Massacre Rocks because hostile Indians often used them as a place from which to ambush wagon trains.
The trail then followed the Snake River for some 300 miles as it traced its circuitous course across the barren, lava-covered Snake River Plains; it finally broke out of the canyon at the mouth of the Little Boise River near the Oregon border. As they crossed the Snake at Fort Boise, the travelers took their first steps in Oregon.
But one more barrier loomed between the settlers and the Promised Land: the terrible Blue Mountains. Several times during the crossing of these mountains, wagons had to be lowered with ropes from one part of the trail to another, and canyon walls too narrow for the wagons frequently had to be chipped away. Wagons were often abandoned, their occupants continuing the journey on foot. Others, searching for a better route, became hopelessly lost and eventually died of hunger and thirst.
John Kerns, in his diary, recorded this about the Blue Mountains: "…it was the roughest road we have encountered on the journey, being up and down sidling mountains, into the brush and across a creek every 200 or 300 yards, and over stony places enough to hide all despairing sinners."
Those pioneers who traversed the final obstacle, Deadman's Pass, saw the trail emerge from the mountains and wind down the bald face of Emigrant Hill from which they were treated to one of the most spectacular views in the world. Mt. Hood and Mt. Adams could be seen in the distance, while in the foreground lay the rolling hills and fertile valleys of the Columbia River Basin.
From Walla Walla, Washington, on, still 250 miles across Oregon to the coastal settlements, most travelers kept going, driven by sheer exhilaration and determination. By all accounts, it was one of the most difficult parts of the journey. As Medorem Crawford, an emigrant traveler, recorded, "From Walla Walla to Willamette Falls (Oregon City) occupied about 20 days, and, all things considered, was the hardest part of the entire journey—what with drifting sands, rocky cliffs, and rapid streams along the Columbia, and the gorges, torrents, and thickets of the Cascade Mountains, it seems incredible how, with our worn out and emaciated animals, we ever reached our destination." But many did, and they were well rewarded for their perseverance.
J.M. Shively, writer of one of the guidebooks about the trail, closed with the thought, "Be of good cheer—you will find a country in Oregon that will fill your desires, and repay you for all your toil."
BIBLIOGRAPHY
Coons, Frederica B. The Trail to Oregon. Portland, OR: Binfords & Mort, 1954.
Ghent, William J. The Road to Oregon. New York: Longmans, Green & Co., 1929.
Meeker, Ezra. Ox Team Days on the Oregon Trail. New York: E. Meeker, 1907.
Morgan, Dale L. Overland in 1846. Georgetown, CA: Talisman Press, 1963.
Parkman, Francis. The Oregon Trail. Boston, MA: Little, Brown & Co., 1925.
Rawitsch, Dan. MECC Oregon User Manual. Lauderdale, MN: Minnesota Educational Computer Consortium, 1977.
THE PROGRAM
Westward Ho! is a substantial revision of the Oregon Trail program written by Dan Rawitsch and Bill Heinemann in 1972–73 on the Hewlett Packard 2000 timesharing system of the Minnesota Educational Computer Consortium. The original Oregon Trail program was subsequently converted to Microsoft BASIC and appeared in Creative Computing magazine in 1977. Play of the game is similar in this new version, but the program has been structured (to some extent), simplified, and shortened by more than 300 lines.
The program consists of a main section, initialization and closing sections with five related subroutines, eight major subroutines, and six minor subroutines.
The initialization section dimensions variables, puts data in them, displays the initial scenario, and asks you for your initial purchases. At the outset, you have $420, the average amount of money that a family setting out on the Oregon Trail had in 1847. A wagon costs $70, and you can spend the rest of your money on oxen, food, ammunition, clothing, and miscellaneous supplies such as medicine, bandages, and repair parts. You can spend all of your money at the outset, or you can save some to spend at forts along the way to replenish supplies when they run low. This is a tradeoff: Supplies cost 50% more at the forts. However, if you lose supplies while fording a river or in a bandit attack, you may not have enough to continue.
Food is important to maintain the strength and health of your family. A guidebook of the time recommends for each adult 150 lbs. of flour, 25 lbs. of sugar, 25 lbs. of bacon, 15 lbs. of coffee, and smaller quantities of other staples. The average family of five (your family in the simulation) eats about as much as four adults. The above commodities in 1850 cost about 10 cents a pound in Missouri; thus an adequate food stock for your family would cost about $60 to $100. Of course, along the way you will hunt for fresh meat and, hopefully, find some edible plants and berries.
Although you are wearing some clothes, most travelers had to purchase additional clothing for the cold weather they would encounter in the mountains. In 1850, $15 would buy several warm outfits; thus an appropriate budget for clothes would be at least $50 or so for your family of five.
You will want to have plenty of ammunition for your rifle to hunt, ward off attacks by wild animals, and defend yourself against bandits and hostile Indians. A belt of bullets costs $1, and in general you can expect to use one or two belts per week on the trail.
A brief explanation of these purchases is displayed in the subroutine in Lines 490–670, and the amounts are accepted as input in the subroutine at Lines 690–900. Note the conditional (IF) statements in this subroutine that do not allow you to buy less than the minimum you need, or to spend more than you have.
The main program (Lines 250–470) iterates through the journey in two-week segments. If you have been on the trail for more than 20 weeks, the program branches to an end-game routine. Under normal circumstances, at the beginning of a two-week trip segment, the date will be printed, injuries and illnesses treated (assuming you have enough money to pay a doctor), the mileage updated, and your inventory of supplies printed.
The expected mileage over the next two weeks is then calculated in Line 390. In general, you will travel 200 miles plus some additional distance which depends upon the quality of your team of oxen. This mileage figure is an ideal, assuming nothing goes wrong. If you run into problems, mileage is subtracted from this ideal figure; the revised total is printed at the start of the next trip segment.
You are then asked whether you wish to hunt, continue on, or, if it is an even-numbered trip segment, stop at a fort. In 1847, forts and missions were spaced about 300 to 400 miles apart along the Oregon Trail. On average you will cover about 75 miles a week and thus you can expect to hit a fort about every four weeks (or every other trip segment). Note the function in Line 1010 that determines whether or not you are on an even-numbered trip segment; if the integer value of J/2 equals J/2, J is even; if not, J is odd.
If you stop at a fort (Lines 1100–1180), you have an opportunity to purchase supplies, but they cost 50% more than at the start. The running total of most items in your inventory is kept in dollars. Your supply of ammunition, however, is expressed as a number of bullets. This makes it easier to calculate ammunition consumption when you use your gun to hunt, fight, or scare off animals.
If you decide to hunt, the subroutine at Lines 1200–1290 is called. If you have fewer than 40 bullets, you do not have enough to hunt and you are given the option of stopping at a fort (if there is one on this trip segment) or continuing on. Hunting costs several days of travel (45 miles) and, of course, some ammunition.
Since there is no good way to determine how skilled a marksman you are, the program asks you to rank yourself at the start of the trip (Lines 920–980). From then on, each time you are confronted with a situation in which you must use your rifle, you will be asked to type in a word that sounds like a gunshot (pow, blam, or bang).
The faster you type the word and hit Return, the better luck you will have in hitting your target.
The shooting subroutine is found at Lines 3870–3930. When this subroutine is entered, a random shooting word is selected in Line 3880. Then a timer is started. The timer uses the real-time clock of the computer to get a starting time in seconds; this equals 60 times the current clock minutes plus the current clock seconds. You then type in the shooting word, which is compared to the requested word. If your typing was in error, you are asked to type the word again. This continues until the word is typed correctly, at which time the time in seconds is again calculated. The starting time is subtracted from the ending time, and the resulting elapsed time in seconds less your ranking as a marksman is put into variable BR. A good typist should be able to type a four-letter word in two seconds or less, while a less skilled, hunt-and-peck typist might take four or five seconds.
Control is then returned to the hunting subroutine, and ammunition consumption calculated as a function of the value of BR. The slower you shoot (the higher the value of BR), the greater the probability that you are unsuccessful in your hunting (see function in Line 1240).
The eating subroutine is called next (Lines 1310–1370). In it you are asked how well you want to eat, and your food consumption is calculated in Line 1350. If you do not have enough food to eat as well as you would like, you must choose to eat at a diminished level.
Next, a subroutine is called to determine whether or not you are attacked by bandits or Indians (Lines 1390–1780). The probability of attack is determined by the function in Line 1400. Toward the beginning of your journey, especially around 400 to 500 miles from Independence in what is now western Nebraska and Wyoming, you have the highest probability of encountering bandits and Indians. As you get into the mountains, these probabilities decrease drastically (see graph on page 36). The function within the IF … THEN statement increases the probability from 20% at 0 miles to a maximum of 50% at 500 miles and then gradually decreases the rest of the way.
If riders approach, you may choose one of four strategies: run, attack, ignore them, or circle wagons. Each strategy has a different cost in miles and supplies and also depends upon whether the riders were hostile or friendly. If you choose to attack, the program again goes to the shooting subroutine. If you are slow on the draw, you may pick up a flesh wound, which sets the injury flag and requires treatment by a doctor the next time you stop.
The longest subroutine (Lines 1800–2620) deals with hazards and special events. A random number selected in Line 1810 determines which event occurs; the program then branches to the appropriate routine to handle that event. The probability of each event is determined by the difference between successive numbers in the event array (Line 3720). For example, if a random number between 0 and 6 is selected, event 1 occurs; between 6 and 11, event 2; between 11 and 13, event 3; and so on. Thus we see that there is the highest probability that event 19 (value between 69 and 95) will occur; this event has to do with illness from not eating well.

Most events are handled in a very straightforward manner: A message is printed, mileage subtracted, and supplies used. On the other hand, four of the events are more complicated: cold weather, bandit attack, wild-animal attack, and illness.
The cold-weather routine (Lines 2130–2160) checks to see if you have adequate clothing to keep warm. If not, the illness subroutine (Lines 2880–2970) is called. This routine is also called if you are not eating well enough (Lines 2560–2590).
In the illness routine, depending upon how well you have been eating, you may contract a mild, bad, or very serious illness. Mild and bad illness can be treated with your own medicine—if you have any left—whereas serious illness requires the services of a doctor (the illness flag, KS, is set) at the start of the next trip segment.
The bandits attack routine (Lines 2180–2270) is very similar to the attack by Indians routine in the previous section, except that bandits are always bad and you have no choice but to fight them.
The last major subroutine called by the main program deals with travel through the mountains (Lines 2640–2860). In the mountains, you are vulnerable to cave-ins along the trail, losing your way, and just plain slow going. In addition, you must traverse the South Pass and the Blue Mountains. The probability is set to 80% that you will get stuck in the South Pass when you first reach it, but a flag (KP) prevents you from being stuck there for the entire journey. Likewise, you have a 70% chance of getting stuck in the Blue Mountains, but you will eventually get through. Blizzards, on the other hand, can occur on every trip segment while you are in the mountains, and there is a good chance that this will happen.
If you do not have adequate food, clothing, ammunition, or medical supplies when you encounter the various hazards of the journey, chances are very high that you will die on the trail (Lines 2990–3170). If you die, a short message is displayed telling you what happened, how far you traveled, and your remaining inventory of supplies. You are then given a chance to play again (Lines 3300–3330).
It is not known today what percentage of the travelers who set out on the Oregon Trail actually reached their destination. Certainly it was fewer than 50%, and perhaps fewer than 20%. If you are among the lucky few, the program will give you a congratulatory message (Lines 3190–3280), tell you how long it took, and display your remaining supplies, if any.
It is not easy to reach Oregon. Your decisions must be well reasoned, and Lady Luck must be traveling with you. But if you don't make it, you, unlike actual families in 1847, at least, will get a chance to try again.
PROGRAM VARIABLES
A	Money spent on animals
AS	Money to question (Y or N), user input
B	Money spent on ammo, also number of bullets
BR	Response time for typing shooting word
C	Money spent for clothing
C1	Flag for insufficient clothes
D	Total days traveled
DD	Days of last month
DM	Total months traveled
DA$(n)	Date, n = 1 - 20
DR	Shooting expertise level
E	Eating quality
EP(n)	Event probability, n = 1 - 20
EV	Event counter
F	Money spent on food
GH	Riders description (0 hostile, 1 friendly)
GT	Choice of tactics when riders approach
I	Temporary iteration variable
J	Trip segment counter
KB	Flag for blizzard
KF	Flag for stop at fort
KH	Flag for injury
KM	Flag for Blue Mountains
KP	Flag for South Pass
KQ	Flag for not enough ammo to hunt
KS	Flag for illness
M	Total trip mileage
MA	Mileage through previous turn
MP	Mileage flag for South Pass
P	Amount spent at fort
R	Money for medicine and repair parts
RN	Random number for choosing events
S$(n)	Shooting words, n = 1 - 4
S1, S2	Response time temporary variables
T	Cash
X	Choice of action, temporary
X$	Temporary string variable


THE GAME
The Longest Automobile Race puts you in the driver's seat. In this simulation of a 1908 race from New York to Paris—across the U.S., Japan, Russia, and Europe—you are the captain of the American team. It is your job to get the Thomas Flyer to Paris as quickly as possible—and before your money runs out.
Soon after your departure on February 12, 1908, you encounter some of the worst snows of the decade. From Chicago on, you face a different array of problems: accidents, fatigue, mechanical breakdowns, and more bad weather. Japan and Russia have their own problems (narrow cart tracks in Japan, no gas or lubricants in Russia).
Your chances of beating the other contestants to Paris will be increased if you note the following:
* Buy as much gas as you need, but no more. Prices are high between stops, and any gas remaining at the end of a segment goes to waste. Your car gets approximately 14 miles per gallon, but with changing terrain your mileage could vary by 20%.
* At speeds in excess of 35 mph, the probability of mechanical breakdown increases dramatically. Likewise, driving more than six and a half hours per day increases your chances of having an accident.
* If you get stuck in a snowdrift, a ditch, or mud, you can either pay someone to pull you out or try to extricate yourself. The former costs you money; the latter, time.
* You can choose whether to repair a mechanical problem on the spot or nurse the car along to the next city. On-the-spot repairs are generally more costly, but a second malfunction on top of the first forces you to retire from the race.
On July 30, 1908, nearly six months after starting the race, the weary Thomas Flyer crew limped down the Champs-Elysees and was declared the winner of the race. Can you improve on the performance of the American team—or will your opponents pass as you are permanently bogged down in Siberian mud?

THE STORY
In 1908, barely 15 years after the automobile was invented, the seemingly preposterous suggestion that an automobile race be run from New York to Paris was made. This race, proposed by newspapermen of the New York Times and Le Matin of Paris, was to be made over untried roads; the sponsors believed it would be possible to drive in Alaska by widening dog trails and, in the far North, driving on the crust of the snow that, according to one Times document, "froze so solidly overnight that it would bear the weight of a car." They also believed that contestants would be able to drive a car on frozen rivers and to cross the Bering Strait between Alaska and Siberia on an ice bridge.

This sort of misinformation, coupled with the daring, adventuresome spirit of early automobile makers and the promise of honor and glory, lured thirteen contestants to sign up for the race.
However, on February 12, 1908, the day the race was to begin, only six teams actually showed up. The entrants included three cars made in France and one each made in Italy, Germany, and the United States.
The French entries included a 30 hp Motobloc, a big De Dion, and a tiny one-cylinder, 15 hp Sizaire-Naudin. Italy was represented by a Zust, Germany by a big Protos, and the U.S. by a year-old, 60 hp Thomas Flyer. All of the cars had four cylinders (except the Sizaire-Naudin), open bodies with no windshields, narrow spoked wheels, no heaters, and only the most basic seating for driver and passengers.
Each team consisted of a driver and one or more mechanics. In addition, each car was required to carry a writer/observer from one of the sponsoring newspapers.
The race got underway in front of the Times Building on 43rd Street at 11:15 A.M. on Abraham Lincoln's birthday, 1908.
The Sizaire-Naudin driven by Auguste Pons led the procession up Broadway and onto the Albany Post Road. It was the only time Pons had the lead; while climbing a hill only 40 miles from the city, his car broke an axle. There were no spare parts available for his car, and Pons spoke no English. Thus the race ended for him on the very first day.
Language was also a problem for the crew of the French Motobloc. They stopped for lunch at a hotel in Dobbs Ferry, New York, and after waiting two hours to be served, became furious and accused the proprietor of overcharging and delaying them. To add injury to insult, just a few miles north at Peekskill, the Motobloc skidded in the snow and landed in a ditch, delaying it further. Snow and language difficulties continued to plague the Motobloc team, and they finally dropped out of the race three weeks later in western Iowa.
The remaining four cars fought on—although their battles were as much or more with Mother Nature as with one another.
From the newspaper stories, one can piece together a fascinating description of the race. However, a somewhat more coherent account is found in the book, The Longest Auto Race, by George Schuster, the mechanic on the American Thomas Flyer. Moreover, Schuster and the Flyer team stayed in the race long after even the hardiest newspapermen had dropped out.
Schuster records constant problems with snow as the cars progressed along the route from New York to Albany, Buffalo, Erie, Cleveland, South Bend, and Chicago. In fact, Ohio and Indiana had one of the worst blizzards of the decade just after the cars left Buffalo.
What should have been a two- or three-day trip from Buffalo to Chicago became a week-long ordeal for the Flyer team: in and out of snow drifts, driving on railroad tracks, hiring teams of horses to pull the car a few miles, and dealing with every sort of mechanical problem.
Beyond South Bend, the team was forced to hire teams of six or eight horses to drag the car along. On February 22 Schuster spent $80 on horse teams and covered only 15 miles. The next day, the Flyer team struggled for 22 hours and covered a grand total of eight miles.
The chores of draining the water from the cooling system every night (antifreeze had not yet been invented) and making constant small repairs added to the frustration of slow progress.
Finally, at 4:25 P.M. on February 25, the Flyer team reached the South Shore Country Club, the official arrival point in Chicago. Schuster notes that it took 13 1/2 days to travel the 1403 miles from New York, eight days of which were required to cover the last 256 miles. All of the teams spent a few days in Chicago recuperating and making needed repairs before starting westward on "tracks of half-frozen ruts" on the morning of February 28.
Now the battle was with thick, gooey mud, which the wheels and tires threw in big gobs onto the fenders, running boards, and interior of the car. Schuster records that when the Flyer team pulled into Clarence, Iowa, to stop for the night, someone suggested that they take the car to the fire station to get the mud washed off. The high-pressure three-inch stream was so effective that the Flyer crew visited fire stations whenever they could from then on. The thrill of the trip had worn thin for the Times correspondent, and a day later in Cedar Rapids he bade the American crew good bye and returned to New York.
The Plains States brought more rain and mud, which, as the cars reached the mountains, turned into sleet, hail, and snow.
Conditions were so bad in Utah and eastern Nevada that it became clear that crossing the Sierra Nevada Mountains (the direct route to San Francisco) would be impossible. So the Flyer team took a 700-mile detour south through the Nevada desert and Death Valley to Bakersfield, California and back up along the San Joaquin Valley to San Francisco.
The Flyer team made it to San Francisco on March 24, a total of 3836 miles and 41 days after leaving New York. At the time, the Italian Zust was in Utah and the French De Dion and the German Protos were in Wyoming, all pushing west. With the help of the Thomas Flyer dealer in San Francisco, that car was prepared, as much as possible, for the unknown rigors of Alaska and Siberia that lay ahead. Springs, transmission, wheels, drive chains, and many other parts were replaced in the three days before the car was loaded on the steamer City of Pueblo for the three-day voyage to Seattle. There, five tires—all that could be found—were purchased and Schuster wired owner Mr. Thomas at the factory for additional funds.
The crew and car sailed north on a leisurely seven-day voyage to Valdez, Alaska. There they learned the truth about the proposed route: Dog trails didn't exist, snow would not support a car, and there was no ice bridge across the Bering Strait. They telegraphed this information to New York and soon received a response: "Return to Seattle. Route changed. Go by steamer to Vladivostock." Meanwhile, the Zust and the De Dion had arrived in San Francisco, while the Protos, much in need of repairs, had been shipped by its crew aboard a railroad flatcar from Idaho across the Sierra Nevadas to Seattle, avoiding the 700-mile "detour" taken by the other cars.
The Protos sailed immediately for Vladivostock; the other teams, unable to get a steamer for Russia, sailed instead for Japan. The Flyer crew, afraid that those teams would get credit for driving across Japan, decided to take a steamer for Kobe, Japan. On the voyage, the leather aprons with which the Flyer crew had replaced their metal fenders were removed by the Chinese crew to make sandals. The captain ordered the ship's carpenter to replace the aprons with canvas and, Schuster reported, "except for that our voyage was uneventful." As it turned out, the Flyer crew need not have worried about the newly added Japan segment.. The race committee ruled that the Protos would be penalized 15 days for not driving all the way across the U.S. and that the Flyer crew would be given a 15-day advantage for going to Alaska.
The trip across Japan from Kobe to Tsuruga was only 350 miles, but torturous miles they were. Japanese roads were designed for narrow carts, and the big cars could barely negotiate the sharp turns and steep hills. What should have been an easy two-day drive turned into a four-day ordeal punctuated by delays for religious processions, detours, wrong turns, and skids into ditches. Although it was commonly thought that the Japanese worked for coolie wages, one group of workmen insisted on 50 yen ($25) for manning a towrope to let the Flyer down a steep hillside.
Sailing from Tsuruga on May 16, the Flyer and its crew finally arrived in Vladivostock in a gloomy rain on May 18. The other cars were all there, but the eccentric Count De Dion, his team having already driven and won the Peking to Paris race the year before, decided he had much to lose and little to gain by continuing on, and pulled his team out of the race.
Gasoline was extremely scarce in Russia, and the Protos and Zust teams had lined up most of the existing supplies. Schuster was thus forced to cash his last letter of credit to buy 400 gallons of gasoline at exorbitant prices ($1.00 to $1.25 per gallon). Most of this was then shipped ahead by rail to be stored along the route where the team could retrieve it in the days ahead. This was necessary because there were no filling stations, and gasoline would not be commercially available until the cars reached Europe. The teams stocked up on food and supplies and were ready to go on May 22. "You are mad," a Russian officer told them. "You will never get through." It rained during 17 of the next 20 days and, recounted one driver, "we drove out into a dismal, flat, rain-drenched country, over or rather through a road that was a streak of mud as far as the eye could reach." The Flyer drove in low or second gear with chains on the rear wheels.
In one of the most memorable events of the race, the Flyer came upon the Protos so deep in the mud that only the tops of the rear wheels showed above the mire. The three Germans and a Russian officer/guide were trying to pry it out, but with the churning of the wheels it was only sinking deeper. After a brief debate among themselves, the Flyer crew passed a towrope to the Germans and managed to pull the Protos to solid ground. Lt. Koeppen, the German team captain, uncorked a bottle of champagne and poured drinks as thanks for what he called "a gallant, comradely act."
Finally, unable to make any progress in the muddy cart tracks, the Flyer crew took to driving along railroad tracks, a strategy they had successfully used—at great cost to the wheels, tires, and springs—on several stretches in the U.S. Two tires quickly blew out, and four more were worn to the cords in the next 150 miles. The organizers had ruled that the cars would not be permitted to fit special wheel flanges that would allow them to drive on the rails but that driving on the ties was permitted.
Soon, however, the pounding on the ties began to take an even greater toll than the tires and springs. A sharp noise signaled a six-inch crack in the Flyer transmission housing and the stripping of six gear teeth from the drive pinion. Schuster then made a five-day trip to Harbin where he cabled the factory to send a new transmission by way of Europe. Meanwhile, the crew made makeshift repairs—new teeth were welded to the drive pinion at a blacksmith shop—and slowly pushed on.
Mechanical devices, much less automobiles, were virtually unknown in Manchuria and Siberia, and lubricants were unavailable. Thus the crew was forced to buy 40 lbs. of Vasoline in Chita to quiet the gears and allow them to keep moving. At Irkutsk, completely out of money, Schuster again wired the factory for more. He received it, but Thomas warned him that he was disinclined to pour any more money into this adventure. Also at Irkutsk when the mud was washed from the car, he discovered a broken motor support. Schuster replaced it with a piece of boiler plate from the railroad shops, but the break had thrown the motor out of line, making it difficult to shift gears.
It rained so constantly through Siberia that the road was a continuous bog. The car frequently got stuck, and laborers or horse teams had to be hired to pull it out. Near Kansk was a swollen river with a quicksand bottom and no bridge; there the Flyer crew hired four teams of Cossacks' horses to rush the car across a fording spot. The next day they came upon a river so deep it could not be forded, so the crew hired villagers to make a log raft to float the car across.
Deep ditches across the roads were frequent hazards in Siberia. On one occasion, completely worn brake drums failed to stop the Flyer in time at one of these ditches; there was a sudden snap, and the left side of the car sagged. The frame was broken, creating an awkward problem in the middle of nowhere. Finally, angle iron was secured from a railroad shop and bolted to the broken frame.
The Protos had been in the lead across most of Russia, but finally, near the village of Kolnokowa, the Flyer caught up with and passed the German competitor. However, a few days later, on July 1 in Omsk, 3408 miles from Vladivostock, the makeshift transmission repairs on the Flyer gave out. The new transmission had been shipped two weeks earlier aboard the SS President and should have been waiting. It wasn't, so again the crew laboriously forged new teeth at a blacksmith shop and welded them on. This cost three days, but on July 4, the Flyer was back on the road. The Protos, too, had run into trouble and was obliged to wait in Kansk for five days until a new rear axle could be shipped from the factory in Germany.
Schuster, fearing that the transmission would soon fail permanently, sent two crew members (two mechanics from teams that had dropped out had joined the Flyer crew) to check all the railroad depots in the area for the missing transmission while the car pushed slowly on toward Perm. There he received word that the missing transmission had been located at Kasan, 350 miles ahead and more or less on the route west. However, the mud was so bad that the car could never be shifted out of low, and three days out of Perm—still 215 miles from Kasan—the transmission failed for good.
Schuster then used the last of his money to arrange relays of farm wagons to fetch the 600-lb. transmission. It took five days, by which time Schuster, walking with the wagons day and night, was sick with chills and a high fever. Installing the transmission took another day, and on July 18 the team finally reached Kasan where they took a steam ferry across the Volga River. A wrong turn, a leaky radiator, and another break in the frame slowed the Flyer, but finally at Gorky they reached the relatively smooth pavement of some of the oldest roads in Europe.
But there were problems with these roads, too. When driven at speed on a good surface, the Flyer wobbled all over the road; the repaired motor support broke again and was out of alignment with the clutch and transmission. The tires were worn through, and the radiator was still leaking. Thus, the team had to stop for several days in Moscow to make more repairs.
The Flyer team reached St. Petersburg on the afternoon of July 22, four days behind the Protos; three days later, the Flyer crossed the border into Germany. The radiator sprang yet another leak and was removed for more repairs at the ancient fortress city of Konigsberg. The crew reached Berlin on July 27, and there heard the disheartening news that the Protos had arrived in Paris the night before. Rolling along perfectly smooth road outside of Hanover, the car slowed down and finally coasted to a stop. The makeshift clutch shaft installed in Moscow had worn away completely, again necessitating complete disassembly and repair. The 30-lb. assembly was hauled to a machine shop many miles away where it took another half day to make and install a new part.
At noon the next day, having had little food or rest, the Flyer crew drove into Cologne, looking forward to a washup and a good meal. "Not here, not here," said the head waiter of the Dom Hotel, shaking his head and waving the motley crew out of the restaurant. After an unsatisfying meal at a small cafe, they left the city and crossed the Rhine into Liege, Belgium, to spend the night.
Leaving early on July 30, they followed the Meuse River and crossed into France at Fumay. Accelerator to the floor, they attained a speed of 50 mph, the highest since they had left the United States. Approaching Paris late in the afternoon, they were stopped by gendarmes who refused to let them pass without headlamps (they had broken weeks before in Siberia). A passing Frenchman gallantly offered one from his bicycle. When the lamp could not be detached, the bicycle was lifted onto the car, and the journey was resumed amid cheering crowds.
At 6:00 P.M. on July 30, the Thomas Flyer pulled up in front of the offices of Le Matin and, with the credit for going to Alaska and the penalty against the Protos, was declared the winner of the longest automobile race in history by 26 days. The only other car still in the race, the Italian Zust, finally reached Paris on September 17, missing second place by only three days.
Winning the race briefly spurred sales of the Thomas Flyer, but the euphoria was short-lived. In 1909, Henry Ford introduced the Model T, thus ending the age of expensive hand-crafted automobiles. A year later, only 913 Thomas Flyers were produced, and the following year the company left the business.
Note: The restored chassis of the competing Protos is on display in the Deutches Museum in Munich, Germany, and the restored Thomas Flyer is at the Harrah Automotive Museum in Reno, Nevada. The Zust was not preserved.
BIBLIOGRAPHY
Schuster, George with Tom Mahoney. The Longest Auto Race. New York: The John Day Co., 1966.
The New York Times. Various accounts between February and August, 1908.
THE PROGRAM
The Longest Automobile Race program consists of a main program, initialization section, summary section, 12 major subroutines, and five lesser subroutines.
In the initialization section (Lines 140–230), variables are dimensioned, and text and numeric data are read into variables in three subroutines. When the data are loaded, the program enters an endless loop (Line 220) to produce a seed for the Randomize function. This loop is exited when you press any key.
The main program (Lines 250–620) consists of two main sections. The first section (Lines 260–500) obtains data for the next section of the race, specifically weather (W), distance (D), and the number of days that it took the winning car to complete the segment in 1908 (TE). The current date, location, and summary information of the race to that point are then printed. If the racer has managed to limp along with an unfixed problem that developed on the road, repairs are made at this location (Lines 310–330).
If the next segment of the race is an ocean voyage, the ocean voyage subroutine (Lines 2290–2570) is called. If the next race segment is a normal land segment, the main program prints a description of the expected weather and road conditions, and establishes a time and distance goal (Lines 450–470).
Next, three subroutines that accept input from the user are called: the amount of fuel to be put in the car and spotted at villages ahead (in many locations, the racing teams had to send cans of gasoline ahead by train), the desired driving speed, and the desired number of driving hours per day.
The second major section of the main program (Lines 520–620) loops through each day of the race. For each day, subroutines that deal with weather conditions, mechanical breakdowns, and accidents and special situations, are called. After this, the program calculates daily and cumulative distance traveled and gasoline consumption. If a race segment is completed, the program branches back to the beginning of the main program to start the next segment.
In the gas-and-oil subroutine (Lines 640–710), you are asked how many gallons of fuel you want to purchase. The price of gasoline varies between 17 and 39 cents per gallon (Line 650); the average is 25 cents. However, if you run out of gasoline on the road, the base price is 33 cents per gallon, although it can be as low as 23 cents or as high as 52 cents. In general, the best strategy is to buy enough gas for a segment at the outset. However, extra gas goes to waste, as it cannot be shipped ahead to the next race segment. In general, the car will get approximately 14 miles per gallon, but mileage varies by plus or minus 20% (Line 580). After calculating the total cost of the gas you want to buy, the program goes to the payment subroutine at Line 2660 (discussed later). If you don't have enough money to buy the amount of gasoline you want, you get as much as you can afford.
The subroutine to accept the desired speed (Lines 730–800) will accept any speed between 8 mph and 54 mph, the top speed of the Thomas Flyer. In snowy weather, the program limits the maximum speed to 30 mph. Of course, your average speed on the road will be lower than the speed you input, because you must slow down to go through villages, make detours, make rest stops, and deal with unexpected problems. The probability of a mechanical breakdown is related to speed by the formula at Line 790 and increases rather quickly as speed exceeds 35 mph. You must, of course, balance the risk of mechanical problems with that of driving too slowly to be competitive.
The driving-hours subroutine (Lines 820–920) accepts the desired driving hours per day (HP), establishing an upper limit of eight and a lower limit of two. If you have consistently been driving for an average of more than seven and a half hours, you are advised not to push yourself and your crew quite so hard. The probability of a problem resulting from driver fatigue (PF) is related to driving hours and starts to rise sharply when six and a half hours per day is exceeded (Line 910). The formula for this probability is:
PF = HP^3 / 1000 - .15
Cubing the hours causes the very sharp rise from nil at five hours per day to 6.6% at six hours, 19.3% at seven hours, and 36.2 at eight hours.
The date subroutine (Lines 940–1100) simply takes the day counter (TD%XC) and converts it into the proper month and day. If the date goes beyond August 31—one full month after the first car crossed the finish line in 1908—you are obliged to withdraw from the contest.
The weather subroutine (Lines 1120–1620) is the longest in the program. It is divided into five sections, representing major types of weather conditions, and a subroutine having to do with getting stuck in a ditch.
Each of the five major weather-subroutine sections is structured similarly. First, a random number is generated to determine if something nasty happens. For example, in the heavy snow section (Lines 1150–1210), there is a 33% chance of hitting a blizzard of major proportions. In this case the speed factor (PW) ranges from .03 to .10; i.e., your actual speed will be only 3% to 10% of what you input. You also have a 17% chance of getting stuck in a snowdrift, in which case you are sent to the stuck-in-the-ditch subroutine. Under "normal" heavy-snow conditions, the speed factor is about .22 or 22% of what you input.
In regular snowy conditions there is a 10% chance of skidding off the road, but in all cases your speed is much reduced (Lines 1230–1270).
Rainy weather was a much greater problem in 1908 than it is today, because the dirt roads turned into virtual quagmires into which a car could sink 10 or 15 inches. There is a 20% chance of this occurring (Line 1300). Furthermore, if you do get stuck, getting out is usually rather time-consuming.
In the cloudy-and-mixed-weather section (Lines 1350–1470), there is a 1% chance of a sudden downpour, an 8% chance of coming to a river with no bridge, and a 92% chance of smooth sailing. Although a river without a bridge doesn't seem to be related to cloudy weather, in the actual 1908 race most of the rivers across which the contestants had to be ferried were reached during stretches of cloudy or mixed weather. The program gives you a choice of being ferried across (for a fee) or driving north to a bridge (an unknown distance away).
If you get stuck in a snowdrift, a ditch, or mud, you can usually find a farmer to pull you out for $5 to $20 (Line 1540). If you want to pay him to pull you out, the program calls the payment routine. If not, you and your mechanic have at it with prybars, shovels, and a winch. To get out by yourself takes at least one day and sometimes two (Lines 1610–1620).
The mechanical-breakdowns subroutine (Lines 1640–1910) is perhaps the most complex in the program. First, a random number is compared to the breakdown probability to determine if there actually is a breakdown (Line 1650). Then, the specific problem is determined by the random number functions in Line 1660; the first 13 malfunctions are twice as likely to occur as the last five.
1660 F = INT(1 + 15 * RND(1)) : IF F > 13 THEN F = INT(14 + 5 * RND(1)) 
The problem is then presented to you, and you are asked whether or not you want to fix it and which type of repair you want to use in the event that more than one is available. One is usually a new part and the other a homebrew approach. Each repair has a time and cost associated with it. If you have enough money, the repairs are made; otherwise the car must be nursed along to the next city at half speed, a procedure with a 60% chance of success. Also, if there is a second unrepaired malfunction, the combination of the two forces the car to be retired. In general, the only time you might not want to do a repair right away is when you are nearing the next city, because you won't lose much time at the reduced speed and also a sympathetic automobile dealer will usually fix your car for free (Lines 310–330).
The accidents-and-special-situations subroutine (Lines 1930–2270) is divided into three sections. The first determines whether or not there is an accident (Line 1940). As mentioned earlier, the probability of an accident is related to the average driving hours per day. If there is an accident—you dozed off and ran into something: a tree, hole, or farmer's wagon—you can try to fix it on the spot (costs time) or get a tow to the next village and get it repaired there (costs money). At the time of the accident, the farmer will tell you the cost of a tow to the next village, but, of course, you will not know how much the repairs will cost.
In the four race segments in which the roads are particularly bad or blocked with snow, you may be able to get permission to drive on the railroad tracks (Lines 2100–2170). While this will save you time—the speed factor is multiplied by 1.7—the constant pounding of tires on the uneven railroad ties is extremely hard on the car.
Although the wheels, tires, suspension, transmission, and chassis take the biggest beating, in the program the current overall probability of all problems is simply multiplied by 1.25, i.e., an increase of 25% (Line 2170).
In the two race segments in central Russia between Chita and Omsk, very few mechanical supplies of any sort were available in 1908. Gasoline, oil, grease, and all spare parts had to be carried on the cars or shipped ahead, or substitutions made on the spot. During this segment, the Thomas Flyer developed a serious crack in its transmission. The team requested that a replacement be shipped from the factory, but they had to push on to meet the transmission in Perm.
A portion of this adventure is simulated in the no-grease routine (Lines 2190–2270). Also, the time for a transmission repair is set to forty hours (Line 3510), which is five eight-hour workdays. The forty hours is converted to days in Line 1790 so it can be added to the cumulative travel time.
The ocean-voyage subroutine (Lines 2290–2570) simulates the five steamer voyages: San Francisco to Seattle, Seattle to Valdez, Valdez to Seattle, the long 21-day trip to Kobe, Japan, and the short voyage from Tsuruga to Vladivostock, Russia. There is not much decision-making on these segments. Your waiting time in port varies from one to four days and is produced by the formula in Line 2300.
A short subroutine takes care of time delays and hotel stays (Lines 2590–2640). It simply increments the day counters by TZ, a variable set in various other subroutines representing days needed for repairs, tows, river crossings, and port stays. For each day of the trip, except those on ships, you pay an average of $10 for food and accommodations for you and your mechanic.
All bills—repairs, tows, hotels, gasoline, and ferries—are paid in a four-line subroutine (Lines 2660–2690). The cost of an item (ZN) is simply subtracted from your cash reserve (Z). If you don't have enough money to pay your bills and can't get it from home, an indicator (A) is set to 1 and program execution is returned to the place the bill was incurred. The consequences of not paying your bills can range from mild (if you can't pay for as much gasoline as you want, you are given as much as you can afford) to severe (unpaid repair and hotel bills take you out of the race).
If you run out of money, you can wire Mr. Thomas at the factory in Buffalo for more (Lines 2710–2950). In 1908, Mr. Thomas was wildly enthusiastic about the race before it started and while the cars were in the U.S. However, as the months wore on his enthusiasm turned to disenchantment, and he became much less willing to supply additional funds to the crew. The growing disillusionment of Mr. Thomas as well as his somewhat temperamental nature is simulated in the program.
You can go back and ask for money three times before Mr. Thomas gets totally fed up. You can get up to $1000 on each of the first two requests and up to $500 on the third. But if you don't say the right things you may get less or you may have to wait for the money. Lines 2790 to 2830 pick apart the contents of your telegram to Mr. Thomas in three-letter groups. I won't spoil the fun of playing the game by telling you what the telegram must say, although close analysis of the program will give you the answer.
The three subroutines between Lines 2970 and 3510 read numeric and alphabetic data into the proper variables. The subroutine at Lines 3530–3570 checks for a yes or no answer to an INPUT statement. The telegraph and warning beeper subroutines make simple sounds, the "Ready to go?" subroutine halts the program until a key is pressed, while the pause subroutine creates a short pause in program execution.
The simulated race can end in one of two ways: You make it to Paris or you don't. If you make it, the routine at Lines 3740 to 3870 tells you how long it took and where you placed in the race. If you don't make it, a consoling message is printed, and you are given a chance to try again.
PROGRAM VARIABLES
A Answer of user (0 = Yes, 1 = No)
A$ Answer to string input query, user input
AP Telegram-politeness indicator
AT$ 3-letter group from telegram
AS Telegram-urgency indicator
C(n) Road conditions by location, index of C$(n), n = 1 - 20
C$(n) Road-conditions descriptor, n = 1 - 20
D Distance of segment
DA Distance, cumulative within segment
DC Distance, cumulative
DD Distance, daily
DX(n) Distance of segment, n = 1 - 20
F Mechanical failure, index for FA$, FB$, FC$, FL, FT
FA$(n) Mechanical-failure descriptor, n = 1 - 18
FB$(n) Mechanical-failure fix descriptor, n = 1 - 18
FC$(n) Mechanical-failure 2nd fix descriptor, n = 1 - 18
FD$ Mechanical failure, hours or days descriptor
FL(1,n) Mechanical-failure cost of 1st fix, n = 1 - 18
FL(2,n) Mechanical-failure cost of 2nd fix, n = 1 - 18
FQ Mechanical-failure, how to fix, user input
FT(1,n) Mechanical-failure time for 1st fix, n = 1 - 18
FT(2,n) Mechanical-failure time for 2nd fix, n = 1 - 18
FU Mechanical failure, fix time
FX Mechanical-failure indicator
GF Gasoline base price per gallon
GG Gasoline reserve
GM Gasoline used by day
GP Gasoline price
HC Hours per day, cumulative
HP Hours per day to drive, user input
I Temporary index
J Journey-segment number
JV Ocean-voyage indicator
K Temporary indicator and index
LA$(n) City, n = 1 - 20
LB$(n) State or country, n = 1 - 20
MD Day of month
MO$ Month
PB Probability of mechanical breakdown
PF Probability of fatigue problem
PW Probable speed factor due to weather and road conditions
RN Random variable for random number
RQ Random variable for hours
SP Speed, user input
T Time-into-race segment

TD Time, cumulative
TE Time of 1908 winning car to complete segment
TL Time, cumulative of 1908 race leader
TT Temporary date indicator
TX(n) Time of 1908 winning car to complete segment, n = 1 - 20
TZ Time delay
W Weather on the trip, index of w$(n)
W$(n) Weather descriptor, n = 1 - 6
WX(n) Weather, probable at each location, n = 1 - 20
X Temporary variable
X$ Temporary string variable
Z Cash balance of racing team
ZN Cash expenditure during race 
Note: all variables use the following measurement units:
D	Distance	Miles
G	Gasoline	Gallons
H	Time		Hours
P	Probabilities	0 to 1
T	Time		Days
Z	Money		Dollars and cents


THE GAME
The Orient Express places you aboard that famous train bound from London, England to Constantinople in February 1923. As a secret agent your assignment is to make contact with an arms dealer who has tired of his life of crime, and arrest the killer of one of his former associates.
Some of the passengers on the train (all of whom are historical characters who actually rode the Express in their day) have information that can help you complete your assignment. As you work your way through the mystery, you participate in many of the things—delicious meals, stops at stations along the way, and occasional delays due to snow, derailment, and bandits—that made the Orient Express an unforgettable experience for those who rode it.
Solving the puzzle is not easy. You will probably want to make notes about meaningful clues and take some time to think—hours perhaps—before talking to the Turkish police (who will help you) at Uzunkopru. Bear the following in mind as you play the game:
* You must identify and protect the sender of the note and identify and arrest the killer of Baron Wunster.
* Five notorious arms dealers, all of different nationalities, are currently operating in Europe under an uneasy truce. Each of them deals in a different type of weapon, and all are known to have different tastes and habits.
* Not all of the passengers with whom you speak have useful information. You cannot talk to passengers during sleeping segments of the trip.
* Unless you have extraordinary deductive powers, it will probably take you at least an hour of play to solve the mystery. (Of course, you can cheat and do some sleuthing in the program listing, but that will probably take you almost as long and be a lot less fun.)
So grab your notebook and your ticket, and start asking questions. Remember, a man's life is at stake!

THE STORY
What image comes to mind at the mention of the Orient Express? Adventure? Luxury? Intrigue? Reliability? Awe? The famous train was all of these things and much more. Very few people ever traveled on the Orient Express, even at its peak, because the cost was prohibitive for all but the super rich. However, no form of public transportation has fascinated more authors, journalists, and filmmakers than the Orient Express. Thus, it has assumed a dimension almost larger than life. D.H. Lawrence had Lady Chatterley and her lover travel on the Orient Express. Agatha Christie, who was, in fact, a regular traveler on the Orient Express, used it as the setting for one of her most compelling Hercule Poirot stories, Murder on the Orient Express. Graham Greene's Stambol Train is about the Orient Express. Eric Ambler also used it as the setting for The Mask of Dimitrios, and one of the most accurate descriptions of the postwar train is found in the final chapters of Ian Fleming's From Russia with Love. And there are scores of others. How did this magnificent train come into existence and how did it achieve such fame and notoriety? In the 30 or so years following 1825, when the first steam railroad was put into operation in England, every country in Europe began building its own railroad system. Political conditions were unsettled, and the threat of war hung heavy in the air. Hence railway builders would deliberately use track widths and rolling stock incompatible with those of their neighbors to thwart the movement of invaders by rail. Transcontinental travelers thus had to change trains at every border, and frequently used a ship or stagecoach to make connections.
Moreover, railroad coaches had evolved from horse-drawn carriages and were quite uncomfortable. Trains had no lavatories, no restaurant cars, no connections between coaches, no corridors, no lighting, hard seats, and little heat. Although progress was being made in Europe, it was in America that the real advances in rail travel were taking place. There, consistent with the democratic principles on which the country had been founded, railroad cars had open seating in contrast with the tiny boxed-in compartments found on European trains. Distances in the U.S. were longer, so provision had to be made for eating and other necessities. The three most important advances in American railroading sprang from necessity. First, much track in America had been poorly laid, so derailments were common. To overcome this problem, the fixed wheel-and-axle design was discarded, and railroad cars were equipped with bogies, swiveling four-wheel trucks with independent springs. Second, American trains were much longer and heavier than European trains, and the locomotive brakes required a very long distance to stop a train. So, for greater efficiency, George Westinghouse developed a system of compressed air brakes. The third advance was George Pullman's development of a combined parlor/sleeping car. Georges Nagelmackers, son of a wealthy Belgian banker, journeyed to the U.S. in 1869 and was very impressed by American railroads and particularly by Pullman's luxurious cars. By the time he returned to Europe in 1870, Nagelmackers was obsessed with the idea of establishing luxury, long-distance, through rail service throughout Europe.
His indulgent father was impressed with his son's enthusiasm and proposed to King Leopold II of Belgium that he would forgive the King's substantial overdue bank loans if the King would agree to head the list of subscribers to the venture. The King, seeing a way out of a difficult financial situation, agreed, and the new company of Nagelmackers et Cie. gained an endorsement. Soon their stock sales promotion had every social climber in Belgium clamoring to get aboard.
The new company's first train was to run from Paris to Berlin by way of Belgium. Five cars, ordered from a coach-building company in Vienna, arrived in early July to begin service later in the month. Then, on July 19, 1870, France declared war on Prussia. Discouraged, but still determined, Nagelmackers negotiated a route from Ostend, Belgium, through France, and down to Brindisi. The route was very successful—for one year. Then, on September 17, 1871, the French opened a tunnel through the Alps under Mount Cenis. Rights were reserved for French-owned rail-roads, so Nagelmackers was forced to continue using the much longer (18 hours) route through the Brenner Pass. As losses mounted, the service was reduced. With only ten cars as assets and debts far exceeding his capital, Nagelmackers disbanded the company and formed a new one under a name that was to become world famous: La Compagnie Internationale des Wagons-Lits. The company was struggling along, only slightly better off than the old one, when Nagelmackers received a letter inviting him to come to London to "discuss matters of mutual commercial interest." The invitation was from Colonel William Mann of Perkins, Ohio. Although charming and urbane, Mann was fundamentally dishonest. He once ran a tavern—profitable only because he didn't pay his bills. Later he sold stock in a non-existent oil field, collected taxes for the federal government (he turned in $4.7 million and pocketed $5 million), and ran several railroad-related swindles. His last misadventure in America was an attempt to compete with George Pullman using Mann-designed boudoir cars. Rather than having seats that converted into beds, each Mann car was divided into two separate sections, one for sitting and one—with real beds—for sleeping. The cars accommodated only 16 passengers, half the number who could share a Pullman, and cost more to build; thus they were quite unprofitable. Mann soon admitted defeat and took two of his cars to England where he held lavish receptions to drum up interest in them. The European railroad executives were unenthusiastic, except for young Nagelmackers who swallowed hook, line, and sinker everything Mann told him about his grandiose plans. Moreover, he even agreed to make his company a subsidiary of the Mann Boudoir Sleeping Car Company.
Nagelmackers, with boundless energy, traveled around Europe trying to sell cars to kings, nobles, and anyone else he thought could afford one. He quickly sold more than 50 cars and, in the process, became more convinced that there was a need for luxury train service across Europe. By now completely disenchanted with Mann, who was in London enjoying himself on the money that was rolling in, Nagelmackers and his financial backers bought him out for $5 million and reinstituted the company under its old name in 1876.

Railroad executives were not convinced that the luxury service Nagelmackers described would be profitable, so they granted him only a few short-term contracts to attach some of his cars to various trains between Paris and Vienna, Paris and Cologne, Ostend and Berlin, and some other routes of less consequence. To the amazement of everyone but Nagelmackers, the cars were well patronized and frequently sold out. With some assistance from the influential King Leopold II, Nagelmackers started negotiating with many European countries, states, and kingdoms for a route from Paris to Constantinople. It took him almost a year to reach agreements with the eight national railway companies involved: the Eastern Railroad Company of France, the Imperial Railways of Alsace-Lorraine, the Kingdom of Württemburg State Railways, the Grand Duchy of Baden State Railways, the Royal Bavarian Lines of Communication, the Imperial and Royal Austrian State Railways, the Royal Rumanian Railways, and the Austrian Lloyd Shipping Company (for the last section by sea to Constantinople).
The route selected by Nagelmackers ran from Paris through Strasbourg, Munich, Salzburg, Vienna, Budapest, and Bucharest to Giurgiu on the Danube in Rumania. From there, the passengers were obliged to take a ferry across the river to Rustchuk, Bulgaria, where Nagelmackers had made a somewhat shaky arrangement for a special train to take them on to Varna (a port on the Black Sea coast). From there, a steamer took the passengers on an 18-hour sea voyage to Constantinople. Scheduled time was 81 hours and 40 minutes eastbound and 77 hours and 49 minutes westbound.
The service had no formal name, but newspapers quickly dubbed it the Orient Express, and Nagelmackers decided to make the inaugural run on October 4, 1883 under this name. The train was made up of two sleeping cars, a restaurant car, a luggage van, and a mail van. Each sleeping car had five compartments, each of which accommodated four people in comfortable bench seats by day and four berths at night. Washbasins and toilet compartments were at one end of each car. The large number of journalists invited on the inaugural run furnished many memorable accounts of the occasion. Nagelmackers spared no effort to ensure the success of the trip; elaborate food, excellent wine, beautiful crystal and linen, and impeccable service combined to create an ambience of unmistakable elegance and grandeur. In addition, many official receptions and welcomes were held along the way. Hungarian minstrels boarded the train at Szegedin and played vigorously for more than two hours without a stop. Passengers were even invited to the castle of the rather morose King of Bulgaria. Thus the most famous train of all time was put into service. After the euphoria of the inaugural trip wore off, the Orient Express settled into a regular routine. By 1884, it had become a daily service as far as Budapest and, a year later, to Bucharest with several alternative routings onward. By 1889, a link of track near Nish, Bulgaria, was finished, which meant that finally the same coaches could travel all the way from Paris to Constantinople. The route then became important for mail as well as passengers. Nagelmackers died of a heart attack on July 10, 1905, two weeks after his sixtieth birthday. He did not live to see the opening of the Simplon Tunnel, an incredibly important link through the Alps between Switzerland and Italy. Almost immediately, Wagons-Lits began to offer service between Paris and Venice. This became known as the Venice Simplon Orient Express (V-S-O-E) and is the only service still in operation today, thanks to its meticulous restoration by James Sherwood in 1982.
People often think of the Orient Express as one train running one route. In fact, the company operated more than 1000 coaches on routes throughout Europe and the Near East with such destinations as Lisbon, Madrid, Naples, Ankara, Beirut, Baghdad, Saint Petersburg, Berlin, Amsterdam, and London. From 1908 until the new communist regime appropriated the company's cars and property in 1919, Wagons-Lits operated all the Trains de Luxe on the Trans-Siberian Railway.
During the Great War (now called World War I), many Wagons-Lits services were halted, and because of the German occupation of Belgium, the company was forced to move to Paris. Prior to the war, the Simplon service terminated in Trieste, then a part of the Austrian Empire, because Austrian authorities would not permit international trains to traverse the Empire without stopping in Vienna. However, the Treaty of Versailles, which ended the War, specified that new international through routes be opened in Italy, Trieste, and the newly created country of Yugoslavia, formerly the southern part of the Austrian Empire.
Thus, a new and much faster southern route via the Simplon Tunnel and across Italy and Yugoslavia to Constantinople was inaugurated on April 11, 1919. A few years later, the route was extended on the western end to London, creating probably the single most popular route of the Orient Express. This route was in service until the Germans occupied France during World War II, and then reinstated from the end of the war until the last run on May 19, 1977. The train ran from London to Paris, through the Mont d'Or tunnel to Lausanne and Brig, through the Simplon Tunnel to Milan, Venice, and Trieste, and into Yugoslavia. A second train, originating in Munich, met the first train in Ljubljana, and continuing cars were joined for the run to Belgrade. At Crveni Krst the train was divided, some cars being routed to Athens and the main train going to Constantinople via Sofia, Bulgaria. The trip from London to Constantinople took exactly 96 hours and the train was rarely late. While the train was occasionally slowed by snow, it generally made up the lost time on the straight runs in France and Italy. One exception was in February 1929, when the train was marooned for six days in huge snowdrifts near Cherkes Keui, just 70 miles from Constantinople. Indeed, in its long history, the Orient Express suffered very few mishaps. Minor accidents occurred in January 1901, when a locomotive jumped the rails and ran into the restaurant hall of the Frankfurt-am-Main Central Station, and in November 1911, when the Orient Express ran into a stationary freight train near Vitry-le-Francois because of incorrectly set signals. No one was seriously injured in either of these accidents. On the other hand, holdups in the Balkan areas near the end of the run occurred with disturbing frequency in the early days of the Express. As political stability increased in the '30s, however, the number of railway robberies declined. On any given run of the Orient Express one could be certain that deals were being made, plots were being hatched, and fortunes were changing hands. The booking lists in the archives of the train company read like pages from the International Who's Who. Royalty from Europe and the East were frequent passengers on the Orient Express as were military officers, entertainers, musicians, bankers, industrialists, bishops, and, of course, spies. The train was known to be a hotbed of intrigue and mystery.
Basil Zaharoff, the notorious arms dealer, always reserved all the seats in compartment seven for himself when he rode the train. The dancer Margaretha Gertrud Zelle, otherwise known as Mata Hari, was a frequent passenger, and Lord Kitchener traveled on the train as a young military intelligence officer gathering information about Austrian and Turkish fortifications. But we'll never know the identities of most of the spies, secret agents, saboteurs, and couriers who repeatedly crossed the continent on mysterious missions. All of which leads us to speculate and wonder: What was it really like to travel the Orient Express?
BIBLIOGRAPHY
Barsley, Michael. The Orient Express. London: Macdonald & Co., 1966.
Cookridge, E. H. Orient Express. New York: Random House, 1978.
Sherwood, Shirley. Venice Simplon Orient-Express. London: Weidenfeld & Nicolson, 1983.
THE PROGRAM
The Orient Express program consists of a main program, initialization section, end-game section, nine major subroutines, and nine short subroutines.
In the initialization section (Lines 180–260), variables are dimensioned, and text and numeric data are read into variables in four separate subroutines. Before the data are loaded, the program enters a loop which increments the value of the seed for the random-number generator, RN. This loop is terminated when any key is pressed (Line 140). If the value of RN is above the acceptable maximum (32767), 65535 is subtracted until the value of RN is within the range acceptable to the Randomize statement.
The last function performed in the initialization section is the shuffling of 24 integers. These are used later to determine the order in which the conversations with various passengers occur. Shuffling is an important function in many games, particularly those involving cards. In mathematical terms, shuffling is defined as a random permutation, that is, generating the numbers from 1 to N in a random order without repetition. Consider this routine, commonly found in beginning programming texts, for shuffling 10 integers into M(1) to M(10):
10 FOR I = 1 TO 10
20    K = INT(1 + 10 * RND(1))
30    FOR J = 1 TO I
40       IF M(J) = K THEN 20
50    NEXT J
60    M(I) = K
70 NEXT I
A random number between 1 and 10 is generated in Line 20. This is then checked against all of the elements of M to see if it has already been used; if not, the current element of M, that is, M(I), is set equal to K. If it has been used, a new value of K is generated in Line 20. The routine is short, easy to understand, and horribly inefficient (the execution speed is proportional to the square of the numbers to be shuffled).
Consider this approach:
10 FOR I = 1 TO 10
20    M(I) = I
30 NEXT I
40 FOR I = 1 TO 9
50    K = I + INT((11 - I) * RND(1))
60    T = M(I)
70    M(K) = M(I)
80    M(I) = T
90 NEXT I
The program is two lines longer because of the necessity to load the array M(1) to M(10) with the integers 1 to 10 in Lines 10 to 30. However, the execution speed is much faster than the previous algorithm, as it is proportional to two times the numbers to be shuffled. The heart of the algorithm is found at Line 50. The first time through the loop, this function selects a random integer between 1 and 10; the second time through, between 2 and 10; the third time, between 3 and 10; and so on. The elements chosen are then exchanged with the values currently in those elements. If we think of the elements as cards, we could think of picking up one random card at a time from the deck, placing it on a pile, and then picking the next card. The final pile will thus be thoroughly shuffled. In the program, this subroutine is found at Lines 2760–2790.
The main program prints the scenario and then iterates through the 24 segments of the train journey. For each segment, the date is printed followed by the location and the arrival time. The scheduled arrival time is found in the data variable TA(n). The actual arrival time is determined by a random function at Line 310 and can be from 8 minutes early to 18 minutes late.
In some cases this function will produce a time like 271 or 1460. This problem is cured in the subroutine that prints out the time (Lines 3060–3090). The last two digits of the time are examined in Line 3070, and if they are found to exceed 59, one hour is added and 60 minutes are subtracted; this is accomplished by simply adding the integer 40 to the numeric value of the time. This subroutine then divides the time into strings representing hours and minutes and prints it in the correct format such as 3:11 or 15:00. The integer 10000 is added to the numeric value of the time so that the leading zeroes will be printed.
If an intermediate station is reached at night during sleeping hours, arrival and departure times are simply noted, and the program proceeds. If the stop is during waking hours, you are given a chance to get off the train and stretch your legs.
On the first segment of the trip out of London, you ask passengers to keep alert for information of value (Lines 520–560). Each segment of the trip has a series of data values which indicate the number of conversations with passengers that can take place (CN(n)), the meal to be served (ME(n)), and the potential hazards (HZ(n)). After the subroutines for each of these items are called in Lines 580–610, the program goes on to the next trip segment.
The breakfast and dinner subroutines (Lines 640–700 and 770–840) are similar. Each one asks if you are ready to go to the restaurant car for the meal and enters an endless loop until you press a key. The menu is then presented. Menu items are selected at random and printed on the screen. Items are centered by the LOCATE statement in Lines 690 and 820, which takes the length of the item, 80 (the width of the screen), divides by two, and moves the cursor to that location to start printing. At the conclusion of the meal, a loop, which waits until any key is pressed to clear the menu from the screen, is entered in the subroutine at Lines 2950–2970.
The subroutine to present the conversations you have with the passengers iterates through the conversations, if any, on the current trip segment. If a conversation is to be held, the number of that conversation, CS(CM), is selected from the previously shuffled list. In Line 910 the length of the string containing the conversation is checked. If it is fewer than 80 characters long, it is displayed on one screen line. If it is longer than 80 characters, the routine in Lines 920 and 930 starts iterating from the 79th character backward looking for a space. When one is found, the left side of the string up to that point (the first part of the conversation) is printed and, on the next line, the right side of the string from the space on is printed (the last part of the conversation).
Two subroutines for hazards—snowdrifts, bandits, and derailments—are nearly identical except for the dialog. There is a 65% chance of snow on three of the trip segments (Line 980). If it is snowing heavily, there is a 1% chance of getting stuck in a snowdrift.
If this happens, the trip is delayed for two days until the snow is cleared from the tracks. This routine could be made much more elaborate to simulate the time the train was stuck in a snowdrift for six days in 1929. However, that was an isolated incident, and every other time the train was stuck it resulted only in a delay and very little discomfort to the passengers.
On two trip segments in Bulgaria and Turkey, there is a 4% chance that bandits will board the train and rob the passengers. On the actual Orient Express robberies were an infrequent occurrence and, except for two instances in May and October 1891 when people on the train were kidnapped and held for ransom, bandits rarely hurt anyone, being content to steal money and jewelry.
On all trip segments there is a 2% chance of a derailment. In the event that this occurs, the locomotive, tender, and first mail coach will leave the track, and you will be stranded somewhere for a day until the track is repaired and a replacement locomotive obtained.
The probability of any of the above three hazards occurring in the program is much higher than it was in actuality. However, if the probabilities were reduced to the few thousandths of one percent that existed in reality, you might have to play the game tens of thousands of times to experience even a single misadventure.
The final major subroutine (Lines 1490–1690) checks the identities of the killer and defector that you input in the previous subroutine (Lines 1340–1470) with the actual identity. There are seven possible situations which can lead to any of five different eventual outcomes (see chart).
IF YOU DO THISTHEN THIS HAPPENSKiller identified asDefector identified asDefector killed by banditsYou killed by killerDefector wrongly arrestedKillerDefectorNoNoNoKillerNobodyYesNoNoNobodyDefectorNoYesNoNobodyNobodyYesYesNoNobodyKillerNoYesYesDefectorNobodyYesYesNoDefectorKillerNoYesYesThe correct dialog for the three possible nasty events (defector killed, you killed, and defector wrongly arrested) can be selected with just three IF…THEN statements (Lines 1500, 1600, and 1630). If you get both identities correct, the indicator A5 is set equal to 1 so that you receive a congratulatory message when you arrive in Constantinople.
The short subroutines (Lines 2760–3140) are all self-explanatory; they simply produce pauses in program execution, make train noises, check for yes/no answers, and the like. The end-game segment (Lines 3189–3330) presents an end-game message, displays a message of congratulations if you got both indentities correct, and asks if you want to ride again.
PROGRAM VARIABLES
A Answer of user (0 = yes, 1 = no)
A$ Answer to string-input query, user input
A1, A2 Answer to identity of defector and killer, user input
A3, A4 Actual identity of defector and killer
A5 Indicates if user identifications were correct
C$(n) Conversations of passengers, n = 1 - 24
CM Conversation number, index of CS
CN(n) Number of conversations per trip segment, n = 1 - 24
CP(n) Conversation indicator (0 = passenger, 1 = waiter, 2 = cook), n = 1 - 24
CS(n) Conversation number, n = 1 - 24
DA(n) Day of trip by trip segment, n = 1 - 24
HW Hazard, derailment indicator
HX Hazard, bandit-attack indicator
HY Hazard delay in days
HZ(n) Hazards on each trip segment, n = 1 - 24
I Index indicator
J Trip-segment indicator
K, KA Index indicators
LA$(n) City, n = 1 - 24
LB$(n) Country, n = 1 - 24
MB$(n) Meal, breakfast, name of menu item, n = 1 - 13
MD$(n) Meal, dinner, name of menu item, n = 1 - 25
ME(n) Meal indicator by trip segment, n = 1 - 24
N$(n) Names of passengers, n = 1 - 25
RN Random seed for random-number generator
T Time, temporary for printing
T$ Time, string variable, temporary for printing
TA(n) Time of arrival, scheduled, by trip segment, n = 1 - 24
TB Time of arrival, actual
TD(n) Time of departure by trip segment, n = 1 - 24
TN Time, minutes early or late
X Temporary variable
X$ Temporary string variable



THE GAME
In this simulation of Amelia Earhart's around-the-world flight attempt, you take the place of the most famous aviatrix of all time. Flying in the cockpit of a twin-engine Lockheed Electra, you face the same decisions and hazards Amelia Earhart faced in 1937.
Prior to each flight, you are given information about your physical condition, the distance to the next destination, and the current weather. Once aloft, you may encounter a variety of problems: headwinds, heavy rain, engine malfunctions, excessive fuel consumption, and navigation difficulties.
Of course, your skill as an aviator is unquestioned, but to increase your chances of survival, remember the following:
* To find out the condition of the field before each landing, you attempt to contact someone on the ground—sometimes successfully, sometimes not. Should the runway be excessively muddy, you have the option to turn back.
* In case of a malfunction, you are asked if you want to make repairs, which, of course, take time. Not making repairs, however, substantially increases the probability of a major problem in the future.
* Similarly, your engines and other mechanical components will last longer if they are maintained judiciously. Flying for more than 40 hours between engine overhauls dramatically increases the probability of malfunction.
* You must balance the relationship between fuel consumption and weight. At 150 mph, the Electra gets approximately two miles per gallon. Bad weather increases fuel consumption.
As she left New Guinea for Howland Island, Amelia Earhart flew under some of the worst conditions of the trip—as you will discover—and she had to turn back for the Gilbert Islands, a decision that ultimately led to her death. Can you learn from her mistakes and make it to Howland, Hawaii, and finally back to Oakland?

THE STORY
In the summer of 1920, on vacation from her pre-med studies at Columbia University, Amelia Earhart took a trip to California. She found the West exhilarating, but what she enjoyed most of all were the air meets, carnival-like affairs with stunt flying and barnstorming. She attended every air meet she could find and was finally rewarded with a chance to ride with the not-yet-famous barnstormer, Frank Hawks. She later recalled the flight: "By the time I had got two or three hundred feet off the ground I knew I had to fly." With some financial help from her understanding mother and against the wishes of her father, she bought her first plane, a secondhand, bright yellow Kinner Canary on her 25th birthday, July 24, 1922. She recalled: "The motor was so rough that my feet went to sleep after more than a few minutes on the rudder bar."
She did what flying she could afford for the next few years. She had dropped out of the pre-med program and taken jobs teaching English to foreign students in Boston and then doing social work at Denison House, one of America's oldest social settlements. Her salary of $60 a month didn't permit much flying, and, in fact, she was so short of cash that she arranged to lend her plane out for demonstrations so as not to be charged hangar storage, which she said, "would have annihilated my salary."
At Denison House in May 1928, she received a phone call from publishing heir and public-relations promoter George Putnam asking if she was interested in doing something dangerous in the air. She recalled, "At first I thought the conversation was a joke and said so. Several times before I had been approached by bootleggers who promised rich reward and no danger. But the frank admission of risk stirred my curiosity. References were demanded and supplied—good references." And then Putnam dropped the bombshell that would change her life forever: "Would you like to be the first woman to fly the Atlantic?"
Amelia's reply was a prompt yes—provided the equipment was adequate and the crew capable. She went to New York that same night and met Putnam. It turned out that he was looking for a female passenger—someone with social grace, education, charm, a pleasant appearance, and not necessarily a pilot. Still, Amelia showed Putnam her pilot's license, the first granted to a woman in the U.S. However, she came away from the meeting feeling that Putnam was not impressed with her credentials.
As it turned out, her impression was dead wrong, and three days later she was formally asked to make the flight. Indeed, Putnam was far more impressed with Amelia than he initally let on, and over the next two years he repeatedly proposed marriage, which she, just as consistently, turned down. Late in the fall of 1930, at the Lockheed factory in Burbank, California, Putnam asked Amelia to marry him. Her resistance worn down, she casually accepted, and they were married on February 7, 1931. In a departure for the 1930s, Amelia continued to use her maiden name, preferring to be called "AE." Similarly, she always called Putnam "GP."

Although AE did not pilot the Atlantic flight, she was appointed honorary captain. As it turned out, this demanded far more courage than anyone anticipated. The plane—called "Friendship"—was a Fokker trimotor seaplane that had been purchased from Commander Richard E. Byrd by Mrs. Frederick (Amy) Guest. Byrd agreed to act as technical consultant for the flight, while pilot Wilmer L. "Bill" Stultz and mechanic Louis "Slim" Gordon prepared the plane itself.
All went according to plan, and on June 3, 1928, the Friendship, carrying Stultz, Gordon, and Earhart, left Boston Harbor on the initial flight leg to Halifax, Nova Scotia. On June 5, the trimotor reached Trepassey, Newfoundland, and was readied for the transoceanic flight leg.
Unfortunately, a long spell of bad weather set in, and the trio was stranded in Trepassey for 13 frustrating days. Faced with absolutely nothing to do, Stultz gave in to his one weakness, alcohol. For the next 12 days Amelia spent as much time with him as possible playing cards, talking, taking him for long walks on the beach, and otherwise trying to distract him from the bottle.
This was not the first time she had had to deal with alcoholism. Years earlier she had helped her mother hold their family together when her father became an alcoholic. When her parents were finally divorced, it was Amelia who paid all his bills and continued to think of him as an upright and virtuous man.
When, over the North Atlantic, a weather "window" finally opened on June 17, Stultz was totally inebriated and unable to rise from his bed under his own power. Putnam later recalled that "AE did what I suppose either was the bravest or silliest act of her whole career …. She simply got hold of her pilot and all but dragged him to the plane. It was a fine-drawn choice. He wasn't in good shape, but perhaps—once he took off—his flying instinct, which was so sure, so complete, would come uppermost."
Stultz tried to take off three times and aborted each time when the plane failed to reach the required 50 mph for liftoff. Finally, on the fourth try, Stultz managed to reach 50 mph, in spite of the two outboard engines "coughing salt water." However, from the moment of takeoff, Stultz drew from a deep reserve of skill and resolve, keeping the Friendship on course for 20 hours and 40 minutes and making an excellent landing at Burry Port, Wales, on the morning of June 18.
As she was not the pilot, Amelia expected the trip to be nothing more than an interesting adventure, after which she would slip back into a life of social work and anonymity. However, it was she who received most of the attention at receptions in Southampton and London. There was to be no return to her old way of life.
From then on, her life became a whirlwind of publicity tours, article writing, and, occasionally, flying. Putnam frequently arranged lecture tours consisting of as many as 27 or 28 engagements in a single month, with barely enough time to get from one to another.
Although she consoled herself that she was doing the causes of both aviation and women some good, she was sorely disappointed that because of her "success," she actually had less time to fly than before. Indeed, in 1932 she confided to some of her friends in the Ninety-Nines, a women's flying group, that she felt a fraud at times because of her lack of experience. As author Vincent Loomis observed in his book, Amelia Earhart: The Final Story, "There was little doubt that she was sincere in wanting to promote the cause of women in aviation, but there was not much regard for her ability as a pilot and she knew it. It was time to make a true record flight."
And make it, she did. Not just one, but many. On May 20, 1932, Earhart piloted a Lockheed Vega across the Atlantic, becoming the first woman to do so. Although her goal had been to land in Paris, she flew through five wicked hours of stormy North Atlantic weather and was forced to land in a meadow near Londonderry, Ireland. Nevertheless, five years to the day after Lindberg made the first solo flight across the Atlantic, she duplicated his feat. A few months later, on August 24, 1932, she set the women's transcontinental speed record, flying nonstop from Los Angeles to Newark in 19 hours and 5 minutes.
A year later, in July 1933, she entered the Bendix east-to-west transcontinental race. She was the third competitor to finish and the first woman. Six days later, flying back to Newark, she broke her own record, making the cross-country flight in 17 hours and 7 minutes.
In January 1934, six Navy aircraft made the first Pacific crossing from the mainland to Hawaii. Amelia resolved to do the same flight—solo—as soon as possible, but a heavy lecture schedule prevented her from attempting it until a year later. On Christmas Day 1934, Amelia's faithful Vega was lashed to the aft tennis deck of a Matson cruise ship bound for Hawaii. Shortly after the first of the year, she and the plane were ready for the flight to the mainland. Unfortunately, the weather was not ready; torrential rains doused everyone's spirits for nearly a week. Finally, on the afternoon of January 11, 1935, the weather cleared enough for Amelia to slip out on what she announced was a test flight. Of course, it was no test flight and, after flying through the night and landing at Oakland, California, 2400 miles later, Amelia Earhart became the first person, male or female, to fly solo across any part of the Pacific Ocean. Now she was a legend in truth as well as in Putnam's public-relations campaigns.
Earhart made one more record flight, a 2185-mile trip from Mexico City to Newark nonstop in 14 hours and 19 minutes on May 8, 1935, before turning her attention to preparing for and financing a round-the-world flight attempt.
Amelia was increasingly uncomfortable flying single-engine planes over large bodies of water, so she decided she must have a twin-engine plane for the round-the-world attempt. Moreover, special fuel tanks and a fuel-management system would have to be fitted for the long Pacific Ocean flight legs. Also, a Sperry autopilot was to be installed to give Amelia some relief on the longer flight legs.
While Putnam was busy trying to raise money and obtain political support, Paul Mantz, AE's technical advisor, began to prepare the plane, and Amelia began as tight a flight-training regimen as she could squeeze between her lecture tours. (She gave 150 lectures in 1936.) She also had to learn to fly the Lockheed Electra, a relatively large twin-engine, 10-passenger transport plane.
In August and September 1936, Amelia, along with Mantz and mechanic Bo McKneely, made several long-distance shakedown flights. It was a good thing that they did. On one flight the fuel system didn't work properly, and the recently-installed navigation hatch blew open.
As the planning progressed, it became quite apparent that Amelia would not be able to fly the Electra and navigate at the same time. Thus it was decided that she would take along a navigator, at least for the Pacific Ocean flight legs. Harry Manning, a ship's captain who had explained the rudiments of celestial navigation to AE on the way back from England in 1928, was selected as the navigator.
Amelia decided to give Manning a small practical test of his abilities, and in early January 1937 she took him far out over the Pacific and asked him to plot a course back to Los Angeles. On the return, they hit the California coast about 200 miles north of Los Angeles. AE claimed the navigation was in error, while Manning said Amelia flew off course and tended to drift consistently to the left when trying to follow a heading. In any event, both of them agreed that an assistant navigator would be a wise precaution on the Pacific flights.
The best choice for an assistant navigator seemed to be Fred Noonan, one of Pan Am's finest navigators—at least until just two months earlier when the airline had fired him for drinking on the job. Pan Am manager Harry Drake recalled of Noonan, "Many were the nights I carried him home and rolled him into bed dead drunk." When Noonan was sober he was one of the ablest navigators in the world, and he promised Amelia that he would stay sober for the trip.
Originally, the round-the-world flight was intended to proceed from Oakland, California in a westward direction, beginning with the three long Pacific flight legs. Preparation was finally completed in early 1937, and the takeoff planned for March 15. The crew was assembled in Oakland in early March, but as it had been so many times in the past, the weather was uncooperative.
Finally, at 4:00 P.M. on March 17, the Electra was pulled from the hangar, and at 4:37 it lifted off for Hawaii. Poor weather returned as night fell, but Amelia handled the plane well while Manning and Noonan took star sightings, manned the radio, and continually plotted and replotted the course.
As the Electra neared Hawaii, the radio operators at Makapuu asked for a radio transmission one minute long from the aircraft to provide a fix on its position. Noonan held down the telegraph key, but the generator could not deliver the power required for such a long transmission and burned out. Fortunately, a second generator powered most of the other electrical gear on the aircraft, so the loss was not too serious.
The Electra touched down at Wheeler Field 15 hours and 52 minutes and 2410 miles after leaving Oakland. Early the next morning, the Electra was flown to Luke Field, which had a longer runway. There 590 gallons of high-octane military fuel were added to her tanks, bringing to 900 gallons the total fuel on board for the 1800-mile flight to Howland Island.
At 7:35 A.M. on March 20, with Manning and Noonan aboard, AE started the long taxi down the runway. As the plane gained speed, suddenly it pulled to the right, and ten seconds later it lay in a crumpled heap on the side of the runway. Witnesses differ in their accounts of the accident. Some claim a tire blew out. Amelia believed the right shock absorber gave way. But Paul Mantz thought that AE was jockeying the throttles—something he had warned her not to do many times in practice flights.
The plane was taken by ship back to California where—$25,000 and five weeks later—it was repaired and readied for another flight attempt. Manning decided to quit the adventure, giving as his reason that his leave time from his company was up. Much later he admitted that he had felt that "Amelia was responsible for the crash in Hawaii. She overcorrected to the left, then to the right."
The repairs delayed departure until May. That meant that AE would be making the Atlantic crossing in late June and the Caribbean flights in early July. Normal weather conditions for that period were considered unfavorable, so the direction of the flight was reversed. It would be made from west to east—from Oakland across the U.S., down to South America, across the Atlantic, across Africa and the Arabian Gulf to India, across Southeast Asia down to Australia, then to New Guinea, Howland Island, Hawaii, and back to the U.S.
Early on May 21, Amelia, Putnam, Noonan, and McKneely climbed into the Electra for another shakedown flight. Without a word to the press or anyone else, the round-the-world flight attempt was underway. The flights from Oakland to Burbank to Tucson went off without a hitch. An engine fire on the ground at Tucson caused some minor damage to the rubber fittings but was cleaned up in a few hours.
The next morning a ferocious sandstorm temporarily blocked the way out of Tucson, but the Electra finally reached New Orleans on the night of May 22. On Sunday morning, May 23, AE took off for the 688-mile flight to Miami, where she settled in for a final week of preparation. The plane was fully serviced, checked, and rechecked; long-range weather forecasts were collected; and thousands of details were attended to.
On June 1, 1937, at 5:56 A.M., Earhart and Noonan lifted off from Miami bound for San Juan, Puerto Rico. Gorgeous weather was their welcome companion, and they set down in San Juan at 1:10 p.m., right on schedule. Getting up at 3:45 A.M. on June 2, Amelia hoped for a dawn departure, but she was not able to take off until nearly 7:00 A.M. on the flight to Caripito, Venezuela. The flight was short, 624 miles, but AE had to buck 30 mph headwinds the entire way.
Heavy black rain clouds hung thick about Caripito as the Electra lifted off early on the morning of June 3. Again, strong headwinds cut the average speed, and it took nearly 4 1/2 hours to cover the 610 miles to Paramaribo, Dutch Guiana.
A very early departure from Paramaribo the next day left AE and Noonan without a current weather report; nevertheless, after some ten hours of flying, the town of Fortaleza, Brazil, 1332 miles away, came into view. A fuel-gauge leak had to be fixed, and because Pan Am had excellent facilities there, AE decided to have an engine overhaul in Fortaleza in preparation for the Atlantic crossing, rather than at the jumping-off airport in Natal, Brazil.
The next day they took to the air at 4:50 A.M. and arrived, 270 miles later, in Natal at 6:55 A.M. The weather was unsettled all the way, and a tropical deluge caught the plane just as it landed. Amelia had hoped to leave that evening for Africa, but the rain squalls and muddy field prevented their departure. She finally got off at 3:15 A.M., using a secondary grass runway because a perverse wind was blowing directly across the longer, lighted runway. Noonan had been drinking heavily with his old Pan Am buddies, and observers at Natal sensed a growing tension between pilot and navigator that belied their outward cordiality.
Headwinds prevailed for most of the way. Then came a stretch of doldrums, some clear skies, and finally, in the words of AE, "the heaviest rain I ever saw. Tons of water descended, a buffeting weight bearing so heavily on the ship I could almost feel it." Although Dakar, French West Africa, was their objective, when they reached the coast a thick haze blanketed the landscape and there was no sign of civilization. Noonan thought that they should turn south, a correct judgment, because, as they later learned, they were 80 miles north of Dakar. However, AE decided to turn north, and half an hour later they found themselves at St. Louis, Senegal.
The following day, June 8, they flew the 163 miles to Dakar, where they were forced to lay over to repair a broken fuel gauge. AE also decided to have an overall engine check there. From June 9 to 14, they hopped across the African continent in six flights, varying in length from 340 to 1150 miles. A variety of problems were faced and overcome: weather, navigation, language, minor malfunctions, and fuel.
On June 15, the pair flew from Assab, Eritrea, to Karachi, India. A few hours out, the mixture control lever jammed, preventing AE from regulating the quantity of fuel consumed by the right engine. To economize, she reduced her speed dramatically. Nevertheless, they covered the 1920 miles in 13 hours and 10 minutes and became the first flyers ever to make a non-stop flight from the Red Sea to India.
In 1937, Karachi aerodrome, the main intermediate point for all air traffic from Europe to India, Australia, and the Far East, was one of the biggest in the world. AE and Noonan spent two days in Karachi having a major engine overhaul and replacing many small but important items for the first time on the trip.
On June 17, AE piloted the Electra 1390 miles to Calcutta, India. Despite a series of severe rain squalls, the Electra averaged 163 mph, making the trip to Calcutta in 8 1/2 hours.
Now, in the middle of the monsoon season, AE faced a number of risky situations. On June 18, the field at Calcutta was thoroughly soaked, making a takeoff very dangerous. However, there was a momentary break in the weather, and she knew that she might not get another chance to get out for several days or even weeks. She described the takeoff: "The plane clung for what seemed like ages to the heavy sticky soil before the wheels finally lifted, and we cleared with nothing at all to spare the fringe of trees at the airdrome's edge." A bit over two hours later she put down at Akyab, Burma, refueled, and took off for Rangoon. However, the weather grew increasingly hostile, until the pair found themselves in monsoon rains so savage that they beat patches of paint off the wings. After trying to get through for two hours, AE gave up and retreated to Akyab.
On June 19, the pair set out from Akyab bound for Bangkok, Siam, but again moonsoon rains forced a landing at Rangoon. Horrible weather continued to plague them as they barely managed to get through the following day to Bangkok for refueling, and then on to Singapore.
Early on June 21, they flew to Bandoeng, Java, where AE decided to lay over two days to let the local KLM mechanics give the Electra a good going over. At 3:45 A.M. on June 24, as AE was warming up the plane, she found that an instrument refused to function. Repairs took a good part of the day, and they did not get off until 2:00 P.M. AE reached Saurabaya, Java, late in the day but, because of continued problems with the instruments, she was forced to return to the much better facilities at Bandoeng for more repairs the next day.
The instrument problems seemed finally cured, and on June 27, Earhart and Noonan left Bandoeng for Australia. Bucking strong headwinds most of the way, AE was forced to put down at a tiny airstrip at Koepang on the island of Timor. Early the next morning they set out across the Timor Sea, again bucking strong headwinds, and landed at Port Darwin, Australia, four hours later. There they were pounced upon by a medical inspector and quarantined on the plane for ten hours.
At 6:29 A.M. on June 29, the pair took off for Lae, New Guinea. They covered the 1200 miles over a portion of the Indian ocean dotted with small islands in 7 hours and 43 minutes. Adverse wind conditions and threatening clouds held the flyers at Lae for two days. In addition, Noonan was unable because of radio difficulties to set the chronometers, which were vital to accurate navigation.
Discouraged by these problems and steadily losing faith in Noonan because of his drinking, AE worked out a revised flight plan with the assistance of Harry Balfour, the Guinea Airways radio operator at Lae. Amelia tried unsuccessfully to persuade Balfour to go with her in addition to or instead of Noonan. The new routing was slightly north of the original course but passed over Nauru Island, which, because of its giant phosphate mining lights, was one of the few islands visible at night.
AE took off from Lae at 10:00 A.M. on July 2 and reached Nauru 11 hours later, right on schedule. From there she turned slightly south to Howland. However, her old bugaboo, consistently drifting left when following a bearing, raised its ugly head again. Thus, eight hours later when she thought she was about 100 miles out of Howland, she was indeed 100 miles short but also 170 miles north. After briefly searching and finding no sign of Howland, she made a desperate about-face in an attempt to reach the Gilbert Islands four hours to the west.
However, she was again north of her intended course, so instead of hitting the Gilberts she reached Mili Atoll, one of the southernmost atolls of the Marshall Islands chain. As she tried to put down on a long stretch of coral at Barre Island, the landing gear caught on the coral, the plane was wrenched to a stop, a wing was torn off, and Noonan was thrown forward, injuring his forehead and knee.
Earhart and Noonan were aided by the Marshallese, but word of their landing spread, and several days later they were picked up by the Japanese military, who occupied the Marshalls. On July 14, the flyers and the wrecked Electra were put aboard the Koshu, a small Japanese survey ship. On July 19 the Koshu reached Truk Island, where Earhart and Noonan were transferred to a Japanese Navy seaplane and flown to Saipan, Japanese headquarters in the Pacific.
There they were accused by the Japanese of spying, and were mercilessly questioned. Between interrogations, they were held in small damp cells in Garapan prison where, on a diet of weak soup, both became ill with dysentery. Resenting the treatment, Noonan eventually lost his temper and threw his bowl of soup at a guard. He was immediately taken out and beheaded. Amelia's strong willpower kept her going for 14 months until finally, in August 1938, she died of dysentery.
In 1935, Charles Lindberg had given up flying and moved to England after the kidnapping and death of his son. That same year Wiley Post was killed in a crash on a flight with Will Rogers in Alaska. A few years earlier Eddie Rickenbacker had given up flying to become an airline executive, and Blanche Stuart Scott had given up her role as "Tomboy of the Air" for a career in radio and the movies. Thus, with the death of Amelia Earhart in 1938, the golden age of aviation came to a close.
BIBLIOGRAPHY
Earhart, Amelia. Last Flight. New York: Harcourt, Brace and Company, 1937.
Loomis, Vincent V. Amelia Earhart: The Final Story: New York: Random House, 1985.
THE PROGRAM
The Around-the-World Flight main program is only 29 lines long (Lines 230–510); most of the calculations and dialogue are contained in eight major subroutines, 19 sub-subroutines, an initialization section, and an end-of-game summary section.
In the initialization section (Lines 160–200), variables are dimensioned and initial values are entered by means of two subroutines. I have, of course, used city and country names as they were in 1937; most of the African names are different today.
Three lines (130, 140, 200) are used to get a seed for the Randomize statement without the user having to enter a number between -32768 and 32767. The variable RN is set to -32500 and then, in Line 140 and 200, RN is incremented by 1 until any key is pressed. The length of the input buffer, LEN(INKEY$) will be zero until a key is pressed. After a key is pressed, LEN(INKEY$) will be greater than zero, and RN will have some value greater than -32500. Line 200 checks the value of RN to see that it is not out of range (above 32767) and, if it is, subtracts 65535 as often as necessary to bring RN into the range -32768 to 32767. It is then used as the seed for RANDOMIZE.
For the most part, the main program simply calls one subroutine after another. Very short operations are done in the main program. These include printing the current location, airplane condition, and weather; determining if there is a delay in takeoff; resetting the day and date; and fueling the plane.
The date subroutine (Lines 530–620) determines and prints the month and date based on the number of days into the flight (DY) from the starting date of May 20, 1937.
The aircraft-repairs subroutine (Lines 640–710) looks to see if there has been a malfunction in a previous flight leg (M > 0). If so, you are asked if you want to make repairs. (Hint: You are well-advised to do so. Amelia Earhart always made necessary repairs, even to the smallest items, as soon as possible. Not making repairs substantially increases the probability of major problems on future flight legs.) If a repair is to be made, the time (in hours) to fix it is a direct function of the facilities of the airport; a minor repair will take three hours at a well-equipped airport and nine hours at a poorly-equipped one (Line 690). If the repair time is five hours or more and the next destination is more than 600 miles away (more than four flying hours) or if the repair time is nine hours or more, you will not be able to take off the same day (Line 700).
The major-overhaul subroutine (Lines 730–830) is similar to the repairs subroutine. The program advises you to have a major overhaul "sometime soon" if flying time is between 39 and 60 hours and "as soon as possible" if flying time is more than 60 hours. You are also permitted to have a major overhaul at any of four very well-equipped airports: Miami, Fortaleza, Karachi, and Bandoeng. A major overhaul is not possible at airports with fair or poor facilities.
What is the probability of mechanical trouble? This is a function that took some thought and finally turned out to be quite simple. The mechanical condition of the plane is determined by the total number of flying hours and the speed flown. Although it is possible to push the plane to its limit, the engines and other mechanical components will last longer if they are used with, as Amelia put it, TLC. On the other hand, you can't fly too slowly, or fatigue becomes an overwhelming factor. Hence, the mechanical condition can be represented by cumulative distance times average speed. This is a better measure of wear and tear on the plane than just hours flown. Condition (PC) is normalized to 1.0 for 6000 miles at 150 mph (Line 1500), or 40 flying hours. On her round-the-world flight attempt, Amela tried to have a preventative overhaul approximately every 40 flight hours.
However, you may be tempted to fly longer intervals between overhauls or may find yourself at an airport that does not have the facilities for a major overhaul. What then? Until the recommended overhaul interval is reached, the plane can be considered very reliable. (See major engine-problem routine at Lines 1490 to 1610). At one-half the overhaul interval there is a slim 3% chance of malfunction, and even at 80% of the interval, the chance of a problem has risen to only a little over 5%. However, beyond the overhaul interval, the probability of a malfunction rises dramatically; fly 1.3 times the recommended interval and the chance of a problem is nearly 78%, while flying 1.5 times the interval increases the chance of failure to 92%. Obviously, the probability can never exceed 100%.
If we plot these probabilities (see graph on next page), we see a very familiar curve. Although it can be expressed several ways, the tangent function is one of the simplest. The upper and lower limits of the tangent function are ?/2 and -?/2, but we want the probability to range between 0 and 1. Okay, that's easy to fix by dividing the answer by pi and adding 0.5. However, we want the input variable to range between 0 (no flight hours) and 2 (a risk-taker flying twice the recommended interval before servicing). There are several pairs of constants that make the probability of a problem equal to 10% at the scheduled maintenance point (my estimated figure for Amelia's Lockheed Electra). I finally settled on the following equation (Line 1510) in which PC represents the plane condition (ranges between 0 to 2 or more, depending upon speed and hours flown) and MP represents the probability of a mechanical problem (varies between 0 and 1):
MP = ATN(14 * PC - 17) / 3.14159 + .5
This probability is compared to a random number between 0 and 1 (Line 1520) to determine if there is an actual failure. If there is a failure in one engine, you have a 33.3% probability of being able to nurse the plane along to the next airport on one engine, a 33.3% chance of having to go back to the airport from which you just took off, and a 33.3% chance of a forced landing (Line 1570).

The forced landing routine (Lines 1630–1720) first checks to see if you are over water; if so, you don't have a prayer. If you are over land, you have an 80% chance of surviving a crash, although the crash ends the round-the-world flight.
Minor malfunctions, of which Amelia Earhart saw many, are annoying but seldom fatal (Lines 1740–1880). On the other hand, if a previous malfunction was never fixed, the combination of two or more minor malfunctions is equivalent to losing one engine. If you have just one minor malfunction, you are given an opportunity to push on or to return to the airport from which you took off. The longer you fly with a minor malfunction, the greater the probability that it will cause major problems—up to 5% if you cover the entire flight distance. Hence, if you are less than one-third of the way to the next location, you probably should turn back. Amelia usually lived with her minor malfunctions and turned back only once on her round-the-world flight attempt, when she had serious instrument problems between Bandoeng and Saurabaya, Java. This situation is re-created in the program (Lines 2270–2320).
Another serious problem facing the flyer is that of fuel consumption and weight (Lines 1900–2020), which, of course, are interrelated. More fuel means longer flying time, but it also means more weight and higher fuel-consumption. The Electra had dramatically different fuel consumption rates depending upon its speed; this is a key calculation (Line 1910). The Electra could cruise at between 120 and 170 mph. Amelia preferred a speed of just over 150 mph whenever possible to balance fuel consumption with flight time (and pilot fatigue). It would reduce the fun of playing the game to print the exact relationships here; but at 150 mph, the Electra gets approximately two miles per gallon. Amelia also reported several serious problems with the fuel/air mixture control system. A problem in this system requires you to throttle way back because fuel consumption increases enormously.
At Lae, New Guinea, Amelia stripped nearly everything nonessential out of the Electra in order to save precious weight and increase fuel range. This is simulated in Line 1970.
Another problem related to the fuel load is that the takeoff distance is lengthened when the plane is heavier (Lines 1080–1250). This is a major factor at airports with short runways made of grass and dirt. When these fields are wet, which is frequently the case in Brazil and Southeast Asia, the plane may not be able to get off with a heavy fuel load. Indeed, in monsoon conditions or after days of heavy rain, the plane may be unable to break out of the mud at all—regardless of fuel load.
Another problem on takeoff is that of synchronizing the two engines. Amelia had serious problems with this and smashed the Electra on the takeoff from Honolulu on her first east-to-west round-the-world attempt (Lines 1200–1240).
Weather conditions affect the round-the-world flight attempt in many ways. Bad weather may prevent you from taking off at all (Lines 410–450). In the case of bad weather, you can elect to delay your takeoff for a day or more—often a wise option if a monsoon is raging outside. The weather aloft (Lines 1320–1420) can also be a headache. In the event of a monsoon, you have a 60% chance of getting through (or around) it and a 40% chance of having to turn back. In the Caribbean you will always face strong headwinds which lengthen flying times and increase fuel consumption; across the South Atlantic you face mixed weather conditions.
Weather also affects landings (Lines 2980–3200). If it has been raining and the field is soggy, you run a risk of getting a wheel stuck in the mud on a grass and dirt field. You should try to contact the tower by radio to learn the condition of the field before you land. If it is soggy, you are given the option of going back. On short flight legs this is feasible, but on longer flights you probably won't have enough fuel.
One unusual problem that Amelia faced on her round-the-world flight attempt was a navigator with a serious alcohol problem. Although Fred Noonan had supposedly gone on the wagon before the flight, he soon reverted to his old ways, particularly as the flight went on; tensions increased, and delays grew longer (Lines 920–1010 and 2040–2110). In the program, if your navigator is drunk when you are ready to take off, you have the option of waiting a day on the chance that he will be sober tomorrow. If you take off with him not fully functional, you have to rely upon dead reckoning and landmarks—feasible over land, much more difficult over water.
Seven special situations, some of which Amelia Earhart faced, are simulated in the program. The navigation was incorrect on the Atlantic crossing (Lines 2130–2200); this you must face, even if your navigator is stone sober. But it is not a serious problem; you simply hit the coast of Africa at the wrong place 95% of the time.
Out of Akyab, Burma, you will fly through a monsoon (Lines 2220–2250). Because you are following the coast, this again is not a terribly serious problem, except that you may have to land at an intermediate destination.
Already mentioned are the instrument problems on the Bandoeng to Saurabaya flight leg. Also in this part of the world, the Australian authorities refused to recognize the signature of a doctor on Amelia's vaccination records and quarantined her, Noonan, and the Electra for ten hours at Port Darwin (Lines 3220–3240).
Your most serious problem is on the flight leg from Lae, New Guinea, to Howland Island (Lines 2340–2680). Your only visible guidance comes from the arc lights at the mines at Nauru. If your navigator is functional (Noonan wasn't), you have a 30% chance of finding Howland; if not, your chance is only 2%. If you turn back for the British Gilbert Islands, you have a 1.5% chance of finding them and a 98.5% chance of winding up—as Amelia did—at the Marshall Islands.
Two situations which, unfortunately, Amelia did not face are the flight legs of Howland Island to Honolulu (Lines 2700–2770) and Honolulu to Oakland (Lines 2790–2960).
Five frequently used subroutines are found in Lines 3820 to 4010. They check for yes/no answers to questions, provide a pause, and make beeping noises to represent a radio signal, warning indicator, and alarm clock. Incidentally, if you want to speed up play of the game, you can lower the value of the FOR loop from 1500 to 1000 or 500 or even 0.
The end-of-flight summary (Lines 4030–4130) provides you with some overall statistics of your flight and that of Amelia Earhart, and gives you a chance to play the game again.
PROGRAM VARIABLES
A Answer of user (0 = Yes, 1 = No)
A$ Answer of user (Y or N)
AB Abort flight for one day indicator
C(n) Runway construction (n = 1 - 32, index of C$)
C$(n) Runway construction description (n = 1 - 3)
D Distance over a flight leg
DA Day of month
DC Distance (cumulative) total
DF Distance, maximum based on speed and fuel
DJ Distance over a flight leg, temporary
DM Distance (cumulative) since last maintenance
DX(n) Distance over a flight leg (n = 1 - 32)
DY Day into flight
F Facilities (index of F$)
F$(n) Facilities description (n = 1 - 4)
FU Fuel for a flight leg, gallons (user input)
FX(n) Facilities by location (n = 1 - 32)
I Index variable, temporary
J Location (current) index
JA Location (destination) index
K Index variable, temporary
LA$(n) Location, city name (n = 1 - 32)
LB$(n) Location, state or country name (n = 1 - 32)
M$(n) Malfunction description (n = 1 - 11)
MO$ Month
M Malfunction indicator (index for M$)
MD Miles flown prior to a malfunction on flight leg
ME Miles yet to fly after a malfunction
MJ Malfunction of instruments over Java indicator
MP Malfunction of engine probability
MQ Malfunction not fixed indicator
NC Navigator condition (scale of 1 to 100)
ND Navigator condition (0 = functional, 1 = not)
PC Plane condition (needs servicing when PC = 1.0)
PD Plane condition based on distance and time (DM * DM / TM)
R(n) Runway length (n = 1 - 32, index of R$)
R$(n) Runway length description (n = 1 - 3)
RF Radio frequency change indicator
RN Random probability of finding Howland Island also Randomize seed at start of program
S Speed over a flight leg (user input)
SA Speed over a flight leg, actual
SQ Speed, reduced because of fuel (user input)
SW Speed of wind over a flight leg
TC Flight time (cumulative) total
TE Flight time over a flight leg, expected actual
TF Flight time, maximum based on fuel and speed
TG Ground time, total at one location
TM Flight time (cumulative) since last maintenance also time in minutes at end of program
TP Ground time for overhaul
TQ Ground time for repairs
TR Flight time, temporary
W Weather, probable, at airport
WA Weather, actual, at airport (index of W$)
W$(n) Weather conditions description (n = 1 - 6)
WX(n) Weather, probable, at each airport (n = 1 - 32)
X$ Temporary string variable
X Temporary variable for random number
Y Temporary variable
Z$(n) Type of crowd (n = 1 - 6)
Note: all variables use the following measurement units:
D	Distance	Miles
S	Speed		Miles/hour (mph)
T	Time (air)	Hours
T	Time (ground)	Days


THE GAME
In Tour de France, you are a bicycle racer whose objective is to win the famous three-week bicycle road race around France. The competition is fierce in this most grueling of all races: You must overcome physical pain, mechanical difficulties, rough terrain, and other problems.
Prior to the race, you are asked some questions about your physical condition and training. You are also given a chance to pedal your bicycle on a short practice run. To "pedal" your bicycle, strike two keys alternately on your keyboard. You can use the index finger of each hand or the index and middle finger of one hand. A well-practiced rider in excellent condition can pedal a bicycle at about 80 rpm.
Your bicycle is a 12-speed with ring gears (pedal) of 52 and 40 teeth, and cog gears (back wheel) of 13, 15, 17, 19, 21, 23, and 25 teeth. (See Table 1.) In your highest gear, 52/13, you will travel 8.61 meters for each pedal revolution, while in your lowest gear, 40/25, you will travel 3.45 meters. Your high gears are best for the flat, open road, while your low gears are necessary for climbing the steep mountains.
Cog Gear13151719212325Ring Gear528.617.456.595.885.324.87405.755.064.554.093.753.45TABLE 1. Meters progressed for ring/cog combinations
Here are a few tips to help you place among the top finishers:
* Always use the highest gear possible for the terrain you encounter.
* You can have the computer do some of your pedaling, but it is an inconsistent performer, so you may be better off doing your own pedaling.
* There is a sprint at the end of each stage. The computer counts down the kilometers starting 10 km from the end of the stage. You must decide when to start your sprint. Start too soon and you may tire before you reach the finish line; start too late and you will not gain much time.
The Tour de France is probably the toughest athletic contest in the world One quarter of the starters never finish the race. But the others—despite collisions, concussions, gashes, and even broken bones—continue to compete, for simply to finish the Tour is a feat any cyclist can be proud of.

THE STORY
What is the most popular sporting event in the world? The World Series? Wimbledon? The Olympic Games? Hardly. The World Soccer Cup? Getting warmer. The Indianapolis 500? Almost (it is the most popular one-day event). The Tour de France? Bingo! Every year, more than 20 million fans line the roads to catch just a quick glimpse of the bicycles flashing by in this most competitive race.
The Tour, which lasts three weeks, is a race of at least 4000 kilometers (2500 miles) winding through France, the Pyrenees, and the Alps, to the traditional finish line on the Champs-Elysèes in Paris. The riders who compete in the Tour de France are among the toughest and most courageous athletes in the world; they have to be to survive the formidable daily pace, full-speed sprints, 60 mph spills, treacherous weather, and fickle equipment.
The Tour de France was created in 1903 by Henri Desgranges as a promotional device to sell newspapers, and today it is still owned by I'Equipe, a sports paper. But over the years, the Tour has become practically a sovereign state with its own motorcycle police force, its own traveling bank, and more than 2000 full-time participants (officials, mechanics, trainers, doctors, chauffeurs, technicians, salesmen, reporters, and photographers) in addition to the 170 or so riders.

Although it is theoretically possible to enter the Tour de France as an individual, it is rarely done, not only because of the high cost, but because of the support personnel and equipment required. Thus, in recent years, all of the entries have been teams—each one consisting of ten competitors and a veritable army of support troops.
Many other countries have bicycle tours, but the majority of them are relatively unimportant to the professional teams because of length (too short), time of year (before or after the main European season), or location (Africa, Asia, and East Europe pose unmanageable logistical problems). Thus, only three tours remain significant—those of Spain, Italy, and France—and, of these three, the Tour de France reigns supreme.
The route of the Tour changes each year and, for a price, a small town or village can buy a few moments of recognition on European television by becoming an evening stopover point—the end of one stage and the beginning of the next. In these small towns, shops and banks close, and all of the townspeople turn out to welcome the riders as they struggle in at the end of the daily stage. Even more exciting is the half hour in the morning before the departure on the next stage: Young and old turn out in full racing regalia to glide on their bicycles among the riders, children seek autographs, and riders chat with their fans.
The price a town must pay to start the Tour is substantial—about a half million dollars. Therefore the race usually starts in a major city, not necessarily in France. Frankfurt was the starting city in 1980, Nice in 1981, and Basel in 1982. More recently, the organizers have been promoting the idea of a region—rather than a city—hosting the race start. Thus in 1983 the race began in the southeast of Paris, Val-de-Marne Department, and in 1984 the race began north of the capital in the Seine-Saint-Denis Department.
As the route of the Tour changes from year to year, so does the length. It is generally about 4000 kilometers long, although in 1968 it was stretched to a staggering 4664 kilometers. Sometimes the route is continuous, with each new stage starting at the end of the preceding stage, although in recent years there have been some notable breaks, including a 300-kilometer train trip between Stages 22 and 23 in the 1984 race.
Generally, one stage is run each day, although this is not a hard-and-fast rule. Occasionally, a time-trial stage may be run after one of the shorter flat stages. During time trials, racers compete against the clock, starting at one-minute intervals and race completely on their own to the finish line. The time trials are regarded as particularly painful events because a rider cannot use the slipstream or draft effect of his competitors, and because tactics are secondary to pure concentration and sheer physical effort.
Sometimes there may be one or two rest days—usually just one which comes two-thirds of the way through on July 14, Bastille Day. Distances to be covered in each stage are quite different, ranging from 350 kilometers in a flat stage to as little as 20 kilometers in a time trial or one of the high mountain stages.
Although most time trials are held over fairly short distances, there are some that range longer in length. One of the most prestigious long distance events is the Hour Record time trial. In this event a racer is challenged to cover the maximum amount of distance possible in one hour. Points are awarded for winning and placing in all the time trials and race stages. Thus, for determining the overall Tour winner (calculated by a complex formula including total elapsed time and points for stage wins), time trials loom as important events.
To get a feel for an actual race, let's accompany the riders in the 1984 Tour. Seventeen teams entered the 1984 race, each with ten riders. A short prologue stage was held on Friday, June 29, two days before the official start. This was a time trial held near Paris that took the winner, Bernard Hinault, only 6 minutes, 39 seconds to complete. The tenth place rider was only 14 seconds behind the leader, and most riders agreed that this was just a small warm-up and not indicative of the race to follow. Nevertheless, Hinault got to wear the coveted yellow jersey (awarded to the winner of each stage) for the start of the actual race.
The first "real" stage of the 1984 Tour started from Seine-Saint-Denis on Sunday, July 1. The route wound 249 kilometers over secondary roads towards Louvroil in the Nord Department. The day was hot, and would have been oppressively so except for a headwind that was strong enough to cool down the passion for breakaways. Moreover, the road was narrow, rarely allowing more than three men abreast; thus, escape from the pack was effectively blocked. During this stage, the riders seemed most concerned with staying out of each other's way and avoiding the grazing contacts that can cause mass spills. Nevertheless, on a tight corner at the 78th kilometer, Jean-Rene Bernaudeau fell, scraping a knee. Before the day was over, six other riders crashed, injuring shoulders, legs, arms, and heads.
Jaime Vilamajo was fined 75 francs and penalized 10 seconds for receiving a bag of food at kilometer 158, 16 kilometers beyond the feeding zone, a designated stretch where riders can grab a light sack of food. Another rider was fined 50 francs for stopping on the left side of the road, instead of the regulation right, when he had a flat tire. In the old days, each rider carried a spare tire strapped to his back. However, as it took about three minutes for a rider to change his own tire and it takes a team mechanic only 30 seconds, today a rider with a flat simply waits at the side of the road for his team mechanic to come along and change the tire. These days, riders don't even dismount but simply stand, straddling the frame of their bicycle, while a tire is changed or a minor mechanical problem is fixed by a mechanic.
The second day of the 1984 race consisted of two stages, a 51-kilometer team time trial and an 83-kilometer stage through predominantly flat country near the Belgian border. During the afternoon stage, there was a strong sidewind, and Belgian rider Adri van den Haute, running 96th in the standings, perhaps sparked by the proximity to his native land, made a strong breakaway and built an astounding 6 minute and 23 second lead. Crowds love a breakaway, and a great cheer greeted him as he entered Douai, about midway through the stage. However, as the kilometers wore on and the sidewind turned into a rainy headwind, his lead slowly diminished, and he finally finished at Bethune with a 1 minute, 3 second lead.
The next day in Stage 5, Paulo Ferreira, an unknown Portuguese rider, unexpectedly broke away at kilometer 3, just after the start of the race. Two other riders followed him and the three of them swapped the positions of setting the pace and riding the slipstream for the entire 207 kilometers of the stage from Bethune to Cergy-Pontoise. As their lead from the pack built up through 11 minutes, 19 minutes, and ultimately 27 minutes, they experienced the exhilaration of looking back over the small hills and seeing nobody following. Until this stage, there had never been more than 13 seconds difference between the total elapsed time of the first- and fourth-place riders. Now, three completely new riders were in the top three places—Vincent Barteau, Maurice Le Guilloux, and Ferreira—and there was more than a 17-minute gap to the former first place rider who had slipped to fourth place.
Stage 6 was a 202-kilometer run over flat country to Alençon. The stage was largely uneventful until, just ten kilometers from the end, two riders in the middle of the pack locked wheels, causing a mass crash of at least 30 other riders. "What's awful about bicycling," said Greg LeMond, the great American cyclist, "is that you're supposed to get up, get back on your bike, and finish. In any other sport they'd let you lie there for a while. What if you'd done something to your neck and they get you up and put you on your bike and break your neck and you're paralyzed the rest of your life?"
Except in the Benelux countries, helmets are not required for cycling in Europe. Nobody wears them, because they are too hot and, according to most riders, their protective value has not been proven. Race organizers like to point out that competitive cycling is quite safe: "After all," they say, "only six riders have died from injuries in the last 30 years." Of course, this argument ignores the scores of non-fatal injuries sustained in nearly every race: broken legs and arms, dislocated shoulders, amputated fingers, concussions, gashes, and sprains.
Thursday, July 5, saw the first serious individual time trial—67 hilly kilometers from Alençon to Le Mans. Riders were started at two-minute intervals in the inverse order of their overall ranking. On a long time trial, a rider must not think about the distance traveled or the distance to go; rather, he must just focus on the next 20 meters; his attention cannot wander and he cannot relax. His back may be aching, his lungs bursting, and his legs wobbly, but he must pedal on.
Laurent Fignon of the Renault team finished with a time of 1 hour, 27 minutes, 33 seconds, with an average speed of nearly 46 kph. Sean Kelly, an Irish rider, was 16 seconds behind, and Bernard Hinault, an unpopular Breton who had won the Tour four times since his debut in 1978, finished 49 seconds off Fignon's time. Barteau was still in the lead, but Fignon had made up more than five minutes on his total time and was in fourth place overall.
The eighth stage on Friday, July 6 was a largely flat 192-kilometer ride from Le Mans to Nantes at the mouth of the Loire River on the West Coast. Pascal Jules of the Renault team won the stage, although overall he was well down in the rankings. The ninth, another flat stage, saw the cyclists "riding forever," as LeMond put it, "forever" being the 338 kilometers between Nantes and Bordeaux.
At the end of one of the bonus sprints on this long and boring stage, Hinault, accompanied by 20 other riders, made a breakaway and gained 30 seconds on the pack. It didn't take long for the Renault, Panasonic, and Kwantum teams to react. Their riders fell into team time-trial formations and pushed the pace up to 60 kph in an effort to catch the Hinault group. When a team is chasing over a flat road and can see the gap narrowing, the chasers have the psychological advantage. On this particular July day, some additional aid to the chasers came from an unexpected ally, the wind, which shifted from the left side to a headwind. In 20 kilometers the pack had caught the renegades, and things settled down for the remaining 200 odd kilometers. Jan Raas of the Kwantum team was the winner with a time of 9 hours, 40 minutes. The order of the first six riders had not changed since Alençon, and Barteau, surprisingly, was still in first place overall, with the favored Fignon in fourth place, trailing the leader by more than 12 minutes.
The tenth stage—the prelude to the mountains—was held Sunday, July 8. It covered 198 kilometers from Bordeaux to Pau in the foothills of the Pyrenees. Eric Vanderaerden was the stage victor. Fignon displaced Ferreira from third place but was still more than 12 minutes behind race leader Barteau.
Compared to previous years, the climb in the Pyrenees from Pau to the ski resort at the summit of Guzet-Neige (1480 meters high) was relatively benign. Asked why the new route was chosen, the organizers claimed it was to avoid the steeper peaks close to the Spanish border where Spanish Basques, eager for publicity, might possibly disrupt the race. Robert Millar of Scotland was the easy winner with Luis Herrera of Colombia 41 seconds behind him. Overall, the first three places remained unchanged, but Ferreira, who had been holding on to fourth place, proved conclusively that he was not a climber by finishing dead last, 59 minutes and 43 seconds behind Millar.
Next came a series of four stages through the Massif Central, France's mountainous heartland and the transition between the Pyrenees and the Alps. This is a region of hills, gorges, short climbs, and sharp descents. The roads are bumpy and narrow. Stressful climbs, sharp turns, and bold descents took their toll on the riders—both physically and mentally. Grenoble, the start of the tough Alpine stages, was reached on July 14, Bastille Day and the only rest day of the Tour. At this point, after 15 stages, Barteau was still leading with a total elapsed time of 73 hours, 52 minutes, 19 seconds. Fignon had worked up to second place, 10 minutes, 13 seconds behind; Hinault was third, less than two minutes behind Fignon; LeMond was sixth and Kelly seventh, both a bit over 14 minutes behind the leader; and Millar had pulled up to ninth place. Barteau had held up far better than his two companions on the Cergy-Pontoise breakaway; Le Guilloux had dropped to thirty-third while Ferreira, totally defeated by the mountains, was running dead last in the field of 140 men remaining in the race.
The next five days in the Alps would answer many questions:
Could the young Barteau hold onto his lead? Could Hinault win a fifth victory? Could Fignon duplicate his win of the year before? How would the American LeMond make out? Would the Scot, Millar, or the Irishman, Kelly, be any real challenge to the leaders? Would any of the Colombians, known for their mountain racing, be a factor in this race?
First in the Alps was a 22-kilometer individual time trial, followed by daily climbs to L'Alpe-d'Huez, La Plagne, Morzine, and Crans-Montana Mountain in Switzerland. Fignon won the time trial easily; Herrera was second, Delgado third, and Hinault fourth.
The first climb was 151 kilometers; the second, 185 kilometers; the third, 186 kilometers; and the fourth, 140 kilometers. In the first mountain stage, Barteau was unseated from his first-place position. (He continued to slip and finally finished the Tour in 28th place, exactly one hour behind the leader.) By the end of the second of these mountain stages, it was clear that Fignon would win the race unless he was injured or did something very stupid. Hinault was running second, almost nine minutes behind Fignon, but it was clear that he could not close the gap. LeMond was third, just a little more than one minute behind Hinault, and Millar was just 20 seconds behind him.
As it turned out, these places did not change from the second Alps stage, the eighteenth stage of the race, to the end of the Tour. On the other hand, the mountains exacted a terrible toll from the rest of the pack. Delgado, a fast Spanish rider, got a puncture just before the Morzine finish line, crashed, broke his shoulder, and left the race. Tonon, an experienced Italian rider, hit a spectator who had wandered onto the road with his bike; both were rushed to a hospital by helicopter, Tonon with a fractured skull, the spectator with "grave injuries." In all, 16 riders were forced to retire from the race with injuries during these four stages.
The twenty-first stage was another long one—320 kilometers, from Crans-Montana to Villefranche-sur-Saône, across the Beaujolais wine country. The riders, exhausted from their days in the mountains, appealed to the race organizers to shorten the stage; they won a reduction, and the first 30 kilometers were covered in team cars.
Little was at stake during this stage and during the ten hot and dreary hours, the riders decided to clown a bit. Barteau pretended to read a newspaper, Castaing did a giant crossword puzzle, Brun turned his handlebars up like a casual Sunday rider, and the pack goaded Cabrera, a timid little Colombian, to win two of the bonus sprints. Kelly was not having any of it; while Cabrera was playfully being allowed to win his first sprint, Kelly was right behind him, gaining an eight-second reduction in his overall time. By the end of the day, Kelly had worked his way up from seventh place to fifth. Kelly, desperate for a stage victory, kept pressing on and eventually won a mock victory at the midpoint of the stage.
The next day was a 51-kilometer time trial, and Kelly, determined to earn the coveted stage victory, went all out to win. His time was a sensational 1 hour, 7 minutes, 9 seconds; Hinault was second, 36 seconds behind; and LeMond third, 41 seconds behind. Only Fignon, last to start, was still out on the road. He finished the race with a long sprint in the same time as Kelly; when the timers calculated the time to thousandths of a second, they gave the race to Fignon by 48/1000 seconds. Disappointed and frustrated, Kelly had no use for the condolences of other riders.
Later that day, July 21, the riders boarded a train for Paris. For all intents and purposes, the race was over, although there was one last 196-kilometer stage run around the suburbs of Paris that would pass the Arc de Triomphe six times before it swept down the Champs-Elysées to the finish line at the Place de la Concorde. This was a sprinter's stage, and it was won by Vanderaerden, with Jules, Hoste, Hinault, and Kelly following.
Finishers: 124 out of 170. First: Laurent Fignon. Second: Bernard Hinault. Third: Greg LeMond. Fourth: Robert Millar. Fifth: Sean Kelly. First Colombian finisher: Luis Herrera, twenty-seventh place. Leading climber (polka-dot jersey): Millar. Points leader (green jersey): Franck Hoste. Leading neophyte (white jersey): LeMond. Top team by time: Renault. Top team by points: Panasonic/Raleigh.
Months later, as the season came to a close, Hinault came back to win two prestigious one-day classics; Barteau, being in great demand, rode several six-day races; and Sean Kelly was awarded the Super Prestige Pernod trophy as the season's top-ranked professional bicyclist. LeMond left the Renault team and signed a $1 million contract with the La Vie Claire team. Three other teams disbanded. And riders mounted their exercise machines to wait for the start of the next season.
BIBLIOGRAPHY
Abt, Samuel. Breakaway: On the Road with the Tour de France. New York: Random House, 1985.
Leete, Harley M., ed. The Best of Bicycling! New York: Trident Press, 1970.
Walton, Bill and Rostaing, Bjarne. Bill Walton's Total Book of Bicycling. New York: Bantam Books, 1985.
THE PROGRAM
The Tour de France program consists of a main program (with five sections and five associated subroutines), two introductory sections (with five associated subroutines), a closing section, and five utility subroutines.
In the introductory section (Lines 100–220), the title screen is displayed followed by a screen of instructions. While this screen is being displayed, data are read in subroutines at Lines 1430, 3050, and 3300. After all the data have been read, you are instructed to "Press any key to continue," and program execution proceeds.
In the pre-race data section (Lines 240–510), you are asked to enter information about your physical fitness, practice time, the amount of pedaling help you want from the computer, and the timing loop value for your computer. This last item is unique to this program and is needed for the pedaling routine.
Tour de France contains a pedaling subroutine (Lines 2890–3030) that simulates in an interesting way the actual pedaling of a bicycle. Specifically, it asks you to alternately press two keys (representing the two pedals on a bike). The program counts the number of keystrokes you make in a given period of time and computes a revolutions per minute (rpm) value. To pedal an actual bike, you must use both feet; so it is with the program:
2960 K = 0 : FOR I = 1 TO PT * PTM
2970 A$ = INKEY$ : IF LEN(A$) = 0 OR A$ = B$ THEN 2990
2980 IF A$ = LF$ OR A$ = RT$ THEN K = K + 1 : B$ = A$
2990 NEXT I
In the routine, you pedal for a certain amount of time (PT * PTM), which will be discussed later. The INKEY$ function polls the keyboard. If there has been no keystroke, the length of A$ is 0 and the routine goes to the next I. Also, if the current keystroke is the same as the previous one (A$ = B$)—two pushes with the left foot or two with the right—the routine continues and does not count that keystroke. The routine then tests (Line 2980) whether the keystroke is the same as one of the two pedals (LF$, RT$); if so, it is counted as one keystroke (K = K + 1). The value of A$ is then put into B$ and it becomes the previous keystroke.
The length of the timing loop (PT * PTM) consists of a fundamental pedaling-time (PT) value for your computer times a pedal-time multiplier (PTM). Variable PT will be different for different processor speeds. For example, a standard IBM PC (or clone) may be able to execute this routine 2000 times in ten seconds, whereas a Tandy 2000 or IBM PC AT may be able to execute it 3600 times. However, it is desirable for you to have the same amount of time to 'pedal' on the keyboard no matter what computer you are using. Hence, PT is a function of your computer and BASIC interpreter. (For a standard PC or clone, the value of PT should be about 2150.) The value of PT need be calculated only once (Lines 2820–2870). It is set equal to twice the number of times the computer executes a rather simple loop in 20 seconds. The real time (in seconds) is equal to:
60 * VAL(MID$(TIME$, 4, 2)) + VAL(RIGHT$(TIME$, 2))
The real time is always available in the string variable TIME$. For readability, colons are automatically inserted in this string between the hours, minutes, and seconds, so it returns string values such as 14:35:12 or 10:09:00. The right-hand part of the above expression takes the number of seconds and converts it to a numeric value. The left-hand part takes a string of two numbers starting with the fourth character of the string (minutes) and converts it to a numeric value, which is multiplied by 60 to get the number of seconds.
This loop is run until the current time is equal to the starting time plus 20 seconds. On an IBM PC, the loop is executed about 54 times per second. Thus, running it for a shorter time than 20 seconds leads to somewhat erratic values because the loop may start at any time within the initial second (1/100 to 99/100). Running it for 20 seconds means that the value of PT will be between, say, 2100 and 2200, that is, approximately plus or minus 2.5% of the exact value, a tolerable range for pedaling time.
The pedal-time multiplier is normally equal to one. However, if you elect to do a very long sprint (Lines 1000–1100), PTM could be as high as five, which leads to a very long and exhausting pedaling time.
The routine to select the gear range (Lines 620–830) is straightforward. If you select a gear range that is too high for the terrain, you will have to shift much more than you should, and appropriate penalties are accessed in Lines 820 and 830. In addition, using a gear range that is too high in the mountains increases physical exertion and the risk of collapse. Line 920 tests for these conditions and, if they exist, increases the probability of physical collapse by ten percentage points (from 11% to 21%). If nothing happens, probabilities are returned to normal in Line 940.
In the sprint routine (Lines 1000–1100), a counter, which counts down in 0.1-kilometer increments starting 10 km from the end of the race, is started (Line 1040). Pressing any key interrupts this countdown, and your sprint starts. Note that the countdown values overprint themselves (Line 1050) with the value at which you interrupt the loop being held on the screen.
Daily elapsed times for five other riders are calculated in Lines 1160 to 1180. The program assumes they are all in excellent physical condition and that they use the correct gear for the terrain. They have their share of delay-causing problems (1.4 * RND(1)) which tend to be in the same range as your delay time.
Event probabilities (Lines 1430–1490) are handled in the same generalized way as in the Marco Polo program, the difference being that Tour de France has three different sets of events: road hazards, mechanical breakdowns, and physical problems. Each of these sets of events has its own subroutine. Various events cause delays of between 0.1 hours (6 minutes) and 1 hour (physical collapse, assuming you recover). A few "events" are simply informative and cause no delay: a nice day in the French countryside, bicycle running like a charm, and feeling fit as a fiddle.
All the other subroutines either are straightforward and self-explanatory or are explained in the program notes for other programs.
PROGRAM VARIABLES
A Answer to input query, numeric
A$ Answer to input query, string
B$ Temporary string variable
CG Teeth on cog
CL Physical-collapse indicator
CR Crash indicator
DAY Day of race
DIST(d) Distance to cover (d = day)
DSP Distance of sprint
EN End time for timing loop
FIT Physical-fitness factor (.1 = poor, .5 = excellent)
GDGR Good gear indicator (0 = poor, 1 = good)
GQ Gear ratio x distance (for calculating performance of other riders)
GR Gear ratio
I Temporary iteration variable
K Temporary iteration variable
KPH Speed over route
KSR Speed of sprint
LF$ Left-pedal key
PAUSE Temporary iteration variable
PD Pedal indicator
PFRQ Pedaling frequency (1 = low, 10 = high)
PLACE$(d) Destination for day (d = day)
PM(n) Probability of mechanical problem (n = problem no.)
PMT Total probabilities of all mechanical problems
PP(n) Probability of physical problem (n = problem no.)
PPT Total probabilities of all physical problems
PR(n) Probability of road hazard (n = hazard no.)
PRT Total probabilities of all road hazards
PT Pedaling time
PTM Pedaling-time multiplier
RN Random number
RNG Teeth on ring gear
RPM Pedal speed
RPS RPM-speed multiplier
RT$ Right-pedal key
TDEP Time of departure
TDL Time for delays
TMSD Time to ride sprint distance
TMRD Time to ride route distance
TTM(r) Total time for stage (r = rider)
TTR(r) Total time for race to date (r = rider)
TTS Total stage time, leader
TTT Total race time, leader
TYPE(d) Type of terrain (d = day)
TYPE$(t) Type of terrain, description
WK Weeks of practice
WS Winner of stage
WSG(r) Stages won by each rider (r = rider)
WT Winner of race to date
X$ Temporary string variable
Note: Distances are in kilometers
Times in hours and fractions
Speeds in kilometers per hour



THE GAME
Applachian Trail places you in the boots of a hiker whose goal is to walk the entire length of the 2000-mile Trail from Springer Mountain, Georgia, to Mt. Katahdin, Maine. Your journey begins in April as soon as the southern part of the Trail is clear of snow, and you must reach the northern terminus before the early snowfalls block the Presidential Mountain Range in New Hampshire.
Along the way, you encounter the same hazards reported in the diaries of hundreds of hikers. Some are natural hazards—prolonged heavy rain, late snowstorms, poison ivy; others are physical problems—hypothermia, excessive weight loss, blisters; and still other problems involve difficulties with equipment—torn raingear, worn-out boots, and broken zippers. It is not easy to complete the Appalachian Trail, but your chances of success will be better if you remember the following:
* Careful planning is important. When deciding what to pack, you must make many trade-offs—generally among comfort, weight, and food.
* Your method of food supply has a great effect on the success of your hike. You must choose one of the following methods:
A. Bury caches of food along the trail. This has to be done prior to your hike and requires a great deal of planning.
B. Purchase food as you go along. This is the cheapest method, but requires time-consuming off-trail excursions.
C. Have a friend send food to post offices along the way. This is one compromise that works well for many hikers, but this method also requires a great deal of planning.
D. The nutritional value of your food is important. You must decide how many calories you want to replenish each day and how to get them from each of the five food groups.
Prepare carefully and deal intelligently with the obstacles you encounter, and five million steps later you can join the elite group of fewer than 2000 hikers who have completed the Appalachian Trail. Happy hiking!

THE STORY
The Appalachian Trail is a continuous footpath that roughly follows the crest of the Appalachian mountain range through 14 states from Springer Mountain in northern Georgia to Mt. Katahdin in the central Maine wilderness.
In 1922, the first mile of the trail was cut and marked in Palisades Interstate Park in New York. Fifteen years later, in August 1937, the trail was proclaimed complete when the last two stretches—the south slope of Mt. Sugarloaf in Maine and a dense section near the Davenport Gap in Tennessee—were finally cut and marked. Over the years many sections have been relocated, particularly in the Great Smoky Mountains and Shenandoah National Park, but the total length of the trail remains a bit over 2000 miles.
The Appalachian Trail Conference, organized in 1925 when the project was barely under way, coordinated the effort to build what is today the longest marked footpath in the world. Today the Conference continues to coordinate the efforts of the organizations and individuals who maintain and preserve the Trail. Although the U.S. Department of the Interior is responsible for the administration of the Trail, volunteers still play the major role in clearing, maintaining, and "operating" the Trail.

The Appalachian Mountain system is not an unbroken range, but consists of many mountain ranges often separated by deep valleys. Some of the more notable ranges include the Great Smokies, the Blue Ridge Mountains, the Alleghenies, the Catskills, the Green Mountains, and the White Mountains.
The Trail passes through 14 eastern states. West Virginia has the least Trail mileage of any state—5.2 miles with another 20.0 miles along its border with Virginia—while Virginia boasts the longest section of trail—464.7 miles. The most mountainous stretches are in Vermont and New Hampshire. The roughest stretches are in Pennsylvania and New Jersey, and the worst weather is generally thought to occur in Maine.
Myron H. Avery was the first person to walk the entire length of the Appalachian Trail, starting in Maine in the 1920s when the Trail was still in its formative stage and finishing the last section 14 years later in the fall of 1936. Another early hiker who walked the entire trail, again in several sections, was George W. Outerbridge, who started in 1932 and finished in 1939.
When in 1948 Earl Shaffer set out to walk the entire Trail in one continuous trip, most people thought the task quite impossible and him foolhardy to try it. Until that time, the Trail had been in existence for some 11 years and only six or seven people had walked the entire length, each doing so in a series of relatively short hikes over a period of years.
Shaffer had served 41/2 years in the Army in World War II, most of it in the Pacific theater, and had a yearning to spend some time alone in the wilderness. He prepared himself by doing jujitsu exercises and abstaining from smoking. He carried what was considered at the time a light load in a rucksack and set out from Mt. Oglethorpe in Georgia on April 4, 1948. He carried mostly dried foods augmented by food purchased along the route.
Shaffer had ordered a complete set of guidebooks and maps, but they did not arrive in time for his trip. Thus, he relied upon the trail markers, often quite poor, his compass, and instinct to find his way. The trail was in bad condition because maintenance had been curtailed during wartime; indeed, entire sections were obliterated by nettles, poison ivy, and briars, and logging had destroyed many blazed trees and markers.
Nevertheless, with a great deal of perseverance Shaffer managed to reach Mt. Katahdin in Maine on August 5, 1948, just 124 days after setting out. He averaged 16.5 miles per day, but because of detours and leaving the trail for food and supplies, his actual average daily mileage was probably closer to 18 or 19. This is a remarkable average, even for hikers today carrying lightweight equipment on a well-marked trail.
Seventeen years later, in 1965, when he was 45, Shaffer hiked the Trail again, this time from Mt. Katahdin to Springer Mountain. He thus became the first person both to hike the Trial continuously and to hike it continuously in both directions. On his second hike, he left on July 19, 1965 (after black-fly season in Maine) and reached Springer Mountain in freezing weather on October 25, exactly 99 days later. His average daily mileage was a spectacular 20.5, a rate few hikers have exceeded since.
Another early through hiker was Gene Espy, who, at age 24 in 1951, hiked from Mt. Oglethorpe, Georgia, to Mt. Katahdin in exactly four months. Unlike some other hikers, he prepared no food caches and made no arrangements to be met anywhere along the way. Like most early hikers, Espy carried a fairly heavy load—45 pounds—even though he had only minimal extra clothing and equipment.
Espy is one of the few hikers who report having seen more than one or two rattlesnakes. In his diary he records killing nearly 20, the largest nearly 4 feet long. He also notes seeing four copperheads within a 20-minute period along one section of the Trail in Pennsylvania. These snake encounters made Espy a staunch proponent of carrying a strong walking stick.
Another notable early through hiker was Mrs. Emma Gatewood, better known as Grandma Gatewood, who, in the summer of 1955 at age 67, walked the entire Trail, thus becoming the sixth person and the first woman to complete it. Seventeen months later, in April 1957, she was back on the Trail again, completing it in September. Her first journey took 146 days, and her second took 142 days. Her pack of less than 20 pounds was probably the lightest ever taken on the Trail, and she rarely cooked a meal. Unlike many other hikers who chose heavy military boots, Grandma Gatewood wore lightweight men's Keds, wearing out six pairs in the course of her journey. Neither did she carry a tent, sleeping bag, nor regular backpack; instead she carried a blanket and a rain cape in a homemade shoulder bag. Also, contrary to the rules of hiking, she carried no guidebook, map, or compass.
Over the next seven years, Grandma Gatewood continued to hike various sections of the Trail, some in a north-south direction and, in 1964, when she was age 77, these sections totaled a third completion of the Trail. Moreover, she took time out in 1959 to walk the entire Oregon Trail in honor of its 100th anniversary.
The only other person to have completed the trail three times was also a woman, Dorothy Laker. In contrast to Grandma Gatewood's style, Dorothy Laker did a thorough job of planning for her hikes and carried the best equipment she could afford. It paid off, and she completed her first trip in 1957 in 161 days. Her second trip, which started on June 14, 1962, had to be aborted on October 17 at Mt. Moriah, New Hampshire. On her third hike she got an earlier start, May 4, 1964, and successfully completed the Trail 151 days later on October 2.
Nine years later, in 1971, Laker attempted to complete the last section of her second hike, setting out from Mt. Moriah on August 23, 1971. Unfortunately, she twisted her ankle badly in a boggy area near Saddleback and shortly thereafter a stretch of particularly cold, wet weather set in. She pushed on, but she fell while fording the swollen Kennebec River, ending her attempt to finish the Trail that year. Finally, the next year, more determined than ever, she finished the last 152 miles in a grueling 12-day effort.
There are nearly as many approaches to hiking the Trail as there are people who attempt to do it. Let's consider the various pros and cons of different approaches.
Shelter: There are campsites along the Trail, in most cases no more than a day's hike apart. At many of these campsites there are roofed shelters, generally three-sided with an open front. Shelter facilities are, according to the Appalachian Trail Conference, "primarily provided for the long-distance hiker who may have no other means of shelter. Persons planning short hikes are asked to consider this and plan to carry tents." All very nice in theory, but scores of hikers note that all too often the shelters are packed with Boy Scouts, day campers, or fishermen who have made a shelter their base of operations.
The obvious alternative to using trail shelters is to carry a tent, although many hikers in the fifties and sixties reported great satisfaction in discarding a heavy tent along the way by cutting it up to use as a groundcloth. However, tent design has made great strides since then, and lightweight, modestly roomy tents are now widely available. Needless to say, the larger the tent, the more it weighs, although there is something to be said for a tent large enough to accommodate both you and your pack.
Sleeping: Grandma Gatewood and some other early hikers swore by blankets, but again, the latest lightweight sleeping bags weigh very little more than a single wool blanket yet are considerably more versatile. The key questions today usually boil down to bag shape (mummy—very confining and very warm; rectangular—roomy but heavy; and semi-rectangular—a cross between mummy and rectangular) and insulation material (goose down—warm, lightweight, and expensive—or a synthetic material—heavier than down but cheaper and much faster to dry when it gets wet).
Many of the shelters have bedframes with cut and broken springs. These are murder on sleeping bags, not to mention uncomfortable. Hikers are well advised to carry a heavy groundcloth to protect sleeping bags from these hazards, as well as for those nights when they must sleep outside on the ground. The floors of shelters are often made from rough logs that are equally uncomfortable; hence, an air mattress or foam pad is a practical necessity.
Cooking: For the most part, the campfire is an item of nostalgia due to the scarcity of dry wood and the danger of forest fires.
Indeed, open fires are not permitted anywhere along the Trail except in fireplaces provided at designated campsites. Therefore, most people carry a small stove. The technology of stoves has also improved greatly during the last decade, and extremely lightweight units which burn a variety of fuels (white gas, propane, and butane) are now available. Some of these fuels, especially white gas, can be purchased easily along the Trail, while others can be carried in compact cylinders or fuel bottles.
Of course, some hikers dispense with cooking altogether and eat cold food on the Trail, stopping for an occasional hot meal at a restaurant or store along the way.
Food supply: The three common methods of obtaining food are buried caches, packages sent ahead and held at post offices, and purchasing needed supplies at stores along the route. Each has its advantages and disadvantages. Food caches require no time-consuming off-trail excursions. Furthermore, canned goods can be buried along with the usual dried and concentrated foodstuffs, thereby giving the hiker a substantial dinner and breakfast when he digs up a cache. Depending upon how many caches are buried—some hikers bury as many as 50—the food load carried by the hiker can be potentially very light.
Purchasing food is the cheapest method of supply, because stores stock ordinary groceries rather than expensive trail mixes. On the other hand, this method requires many off-trail excursions, some of which can be quite long, and the food carried can be relatively heavy.
Food sent to and held at post offices along the way is a compromise; the hiker can send lightweight camp-supply meals and augment them with food purchased from stores, usually found near the post office.
No matter what the method of resupply, most hikers' diets are unbalanced and quite different from what they normally eat. Almost invariably the trail diet is deficient in fruits and fresh vegetables and abundant in grains and fibers. Because he is walking all day, the hiker burns up far more calories than he would in the course of a normal day at home. All these factors mean that he is calling upon his body to make some fairly radical adjustments in a short period of time. Some people's bodies adjust better than others', but nearly everyone experiences diet-related problems to some extent.
Water: It is advisable to carry a canteen or water bag to assure a supply of potable water. In many areas along the Trail the water is unsafe for drinking, and a considerable distance may pass before potable water can be found. All water obtained from unprotected or open sources should be purified by boiling or by chemical treatment before use.
Pack: Hikers constantly debate the relative merits of the external versus internal frame pack. The external frame pack rides farther away from the back and is cooler on hot days. Sleeping bag and mattress are usually carried on the outside and can be attached to the pack frame in a way that gives optimum weight distribution. Because these items are carried on the outside, an external frame pack generally holds more, but it also weighs more.
Everything normally is put inside of an internal frame pack, although some hikers still tie a sleeping pad to the outside. Proponents say that an internal frame pack keeps a hiker's things drier and is lighter and more compact than an external frame pack.
Footwear: Boots, say some hikers, make or break the trip.
Grandma Gatewood wouldn't agree, but in this she is clearly in the minority. Probably the major debate about footwear these days is leather versus synthetics. Many hikers still swear by a heavy handcrafted pair of one-piece leather boots, while others like a synthetic blend, alone or in some combination with leather, for its ability to breathe and dry quickly.
It is rare that a pair of boots, even the best custom-made pair, will last the entire trail without needing at least new soles. New soles usually last about 800 to 1000 miles; the rocky areas of Pennsylvania and New Jersey will do in a second pair; and the mountains of New England will finish off a third.
Raingear: When it rains on the Appalachian Trail it often comes down for days or weeks at a time. Thus, no matter what kind of raingear he carries, the hiker gets wet as the water seeps under his clothes, down his neck, and into his boots. Therefore, one approach is to not carry any raingear at all and to dry off when stopping at night but not otherwise. Most people still attempt to keep partially dry and carry a poncho or rain parka, and some hikers even carry rain pants.
Hazards: Most through hikers report that the first thing non-hikers ask about is snakes. In fact, snakes avoid human contact and many hikers have walked the entire Trail without seeing a single one. Nevertheless, it is probably better to err on the side of caution, and practically every hiker carries a 1 oz. snakebite kit.
For the most part, other animals also avoid humans, except if they have been fed by people (as have some of the bears in the Great Smoky Mountain National Park) or if they have been successful in the past finding food open in packs (raccoons, porcupines, and skunks usually do). Mice, which make their homes in many of the shelters, are always a problem.
But by far the most dangerous animals are the dogs found roaming about the small towns from Georgia to Pennsylvania. Not afraid of humans, they are perhaps the worst enemies hikers face on the trip. Against curs, as well as many other animals, the best defense is to avoid them and the second defense is a heavy hiking stick.
For many hikers, the worst hazard along the Trail is the poison ivy, oak, and sumac. In some stretches it is impossible to go around the thickets of poison ivy, and the hiker who has any susceptibility at all will probably come down with a case.
Probably the most common injury is a twisted ankle. The many rock scrambles, stream crossings, and boggy areas offer ample opportunity to put a foot down on an unstable surface.
A long hike is rough on equipment, and most hikers rip, tear, and wear out socks, pants, shirts, zippers, straps, stuff sacks, tents, groundcloths, and practically everything else at an amazing rate. It is vital to carry a small sewing kit and make repairs at the first sign of a rip. Worn socks should be replaced immediately to avoid blisters, whereas other items can be replaced later.
Trail markings: In theory, from each blaze on the Trail it is possible to see the next one. In practice, it isn't so. The Trail often has long sections where there are few opportunities for orientation or checking the route. The Trail guidebooks advise hikers never to proceed more than a quarter mile (roughly five minutes of hiking) without noticing some Trail indication. The cardinal mistake is an insistence on going forward when the route seems obscure or dubious.
Major stretches of the Trail are relocated almost every year because of commercial or residential development. Thus, even the latest maps and guidebooks are invariably out of date. The hiker must remain alert to the painted blazes and, if they deviate from the guidebook, should follow the blazes in preference to the printed data. In practice, this means that he will almost inevitably get lost—or at least stray from the Trail—more than once during the trip.
A decision to walk the Trail is not something to be undertaken lightly. A major physical and mental commitment is needed—a commitment to being alone and independent for three to seven months; a commitment to overcoming boredom, discomfort, weather, and hazards; a commitment to forcing the body to do more than it has ever done before; and a commitment to enjoying the challenge and adventure of a lifetime.
BIBLIOGRAPHY
Appalachian Trail Guides. Appalachian Trail Conference. Harpers Ferry, WV, 1984.
Fletcher, Colin. The New Complete Walker. New York: Knopf. 1982.
Hare, James R. (ed). Hiking the Appalachian Trail (2 vols). Emmaus, PA: Rodale Press, 1975.
Look, Dennis. Joy of Backpacking. Sacramento, CA: Jalmar Press, 1976.
Manning. Harvey. Backpacking: One Step At a Time. Seattle, WA: REI Press, 1972.
THE PROGRAM
At over 550 lines, the Appalachian Trail program is by far the largest in this book. There are two reasons for this: First, such a trip requires a tremendous amount of personal preparation—food, clothing, equipment, physical conditioning—which, in the program, requires over 175 lines of code. Second, walking the Trail is a complex undertaking, requiring many decisions and trade-offs. For example, you may set a brisk hiking rate for yourself. However, this means you will burn more calories and have to eat (and carry) more food. In turn, this means that your load is heavier, which slows you down and causes you to burn even more calories.
Not all of the possible interactions have been included in the program and you may wish to modify it to include others. Some suggestions for doing this are included in the description of the program.
Because this program uses many of the same techniques and routines as other programs in this book, only those that are unique or suitable for modification are discussed.
You are asked to make decisions about seven major items of equipment: tent, pack, sleeping bag, foam pad, stove, boots, and raingear (Lines 550–910). If you opt for an internal frame pack, everything you take must fit inside (Line 680), whereas with an external frame pack, your sleeping bag and foam pad may be carried on the outside (Line 670). I have assumed a volume of 3000 cu. in. for clothing, food, toilet supplies, eating utensils, guidebooks, etc. If you feel this is too little or too much, the volume can be changed. Also, the descriptions of the main items can be changed in the data statements (Lines 4740–5080). Each item requires four pieces of data: name, weight (ounces), price (dollars), and volume (cu. in.).
Actually, prices are not used, except to give you some idea of the cost of everything if purchased new. However, as many hikers seem to stay on rather limited budgets, it would be easy to add a routine to make sure that you stay within a certain total cost.
With respect to the food to be carried, you are asked to specify the percentage of each of five food groups that you want to eat (Lines 1050–1200). Note that the screen is cleared at the beginning of this routine. This allows all five food groups to be listed on the screen and the cursor to be moved beside each group so you can enter its percentage in your diet (Line 1150).
It takes different weights of various types of food to produce one calorie of energy. For example, one gram of protein produces four calories, while a gram of fat produces nine calories. Thus, depending upon how many calories of energy you want to replenish each day, you must eat a certain weight of food. This calculation of food weight (FWT) is made in Line 1340.
Because fat produces the most calories per gram, the lightest food load would consist of 100% fat. Obviously, no body could actually digest this, and it would be a disastrous choice. However, currently the program does not check for a balanced diet. Although you occasionally get indigestion (subroutine at Line 2590) it is a random occurrence and happens whether or not you have specified a balanced diet.
The main program is extremely short, 13 lines, and simply calls a series of subroutines to deal with hiking pace and mishaps (Lines 1560–1690). Currently the program checks on the hiker every three days (Line 1570). This could just as easily be done more or less often, or could be a function of distance. You might think that checking on a hiker every x miles might make more sense than every x days. However, after studying the accounts of scores of through hikers, it became apparent that far fewer things happened to faster hikers, while slower ones were plagued with problems. Thus, it seems that something happens every x days whether you are covering 8 or 28 miles a day.
Note that many mishaps are a function of date or distance or both. For example, you can't have snow in New England (Line 1660) until you reach New England (distance > 1545 miles) and until September 13 (time in days > 166).
Sometimes in a program you want events to occur periodically as a function of a variable that is not increasing uniformly. For example, in this program, you have the opportunity to establish a new hiking pace and a new diet every 400 miles. But, depending upon initial hiking pace and mishaps, you may be walking a different distance every day. Thus, we put in a counter, STV, which is multiplied by 400 and compared with your cumulative mileage every three days.
1680 IF D > (STV + 1) * 400 THEN GOSUB 1820
The variable STV is incremented by 1 in the first line of the subroutine; thus, the second time around, Line 1680 will look for 800 miles, and so on. Naturally, with this approach you will rarely hit a multiple of 400 miles on the button, but you will never go more than three days beyond the specified distance.
Many of the subroutines which deal with mishaps (Lines 2060–3320) have a counter that indicates how many times that mishap has occurred. For example, the statement in Line 2460, IF HZ(I) > 1 THEN RETURN. This is used to determine the maximum number of times that particular mishaps can occur. On the actual Trail, there is no limit to the number of times a snake can curl up in your boot or how often you can slip on rocks. Hence, if you wish, you can eliminate some or all of the tests for values of HZ.
The remaining subroutines are more or less straightforward, although one particularly messy formula ought to be explained. It is found in Line 1250 with a variation in Line 3970, specifically:
CD = INT(WB * 11.5 + WB * DINPT * .3 + (WB + WP) * DINPT * .21 + WB * (15 - TW) * .22) 
This formula calculates your daily usage of calories. The first element of calorie usage is daily body maintenance (basal metabolism) of 1150 calories per day per 100 pounds of body weight, i.e, WB (body weight in pounds) times 11.5. Actually, women have a basal metabolism of 1100 calories per 100 pounds, and men 1200; you can easily make this correction, since the program asks for your sex in Line 210.
The second element is calories burned due to walking. This is proportional to the rate of walking times the time of walking (which, of course, is distance). According to studies done at Carnegie-Mellon University, the average person burns 90 calories per 100 pounds of body weight per hour at a walking speed of 3 mph. Thus, the second element in the formula equals 0.3 times body weight (in pounds) times rate (mph) times time (hours).
The third element is the calorie usage due to climbing. Assuming a body efficiency of about 30%, you use about 110 calories in raising every 100 pounds of total weight (body weight plus pack weight) each 1000 feet in elevation. Since, on average, the Trail involves a climb of 200 feet per mile, factoring these values together leads to the third element of the equation: 0.21 times (body weight + pack weight) times distance.
The fourth element of daily calorie usage is that from non-walking chores (cooking, dishwashing, eating, dressing, writing, etc.). If most of these activities are reasonably non-strenuous, calorie usage will be about 22 calories per 100 pounds of body weight per hour. Assuming nine hours of sleep (24 - 9 = 15), we subtract walking hours from 15 (your 15 waking hours) and multiply those hours by 0.22 times body weight.
There are many interesting modifications that can be made to this program to make it more realistic, but I leave it to you to discover these and incorporate them into the program.
PROGRAM VARIABLES
A Answer to input query, numeric value
A$ Answer to input query, string
CADD Calories added due to carrying weight of food
CAL Calories to eat per day, user input
CALOFF Calories of weight lost per day
CD Calorie usage per day
COST(n) Cost of item in pack (n = 1 to 7)
CST(n) Cost of item in pack, temporary (n = 1 to 4)
CT Total of food groups
D Distance into hike, cumulative
DB Distance when sole put on boot
DDAYS Distance walked in 3 days
DINPT Distance per day, calculated from player input
DLC(n) Distance from one location to the next (n = 1 to 21)
DM Distance per day, theoretical from player input
DMAX Distance per day, maximum due to physical condition
DY Days of food to be carried
FD(n) Diet percentage of each food group (n = 1 to 5)
FOOD Type of food resupply
FWT Food weight (oz.)
HZ(n) Hazard indicator (n = 1 to 25)
I Temporary iteration variable
ITEM$(n) Item to pack (n = 1 to 7)
ITM$(n) Item to pack, temporary (n = 1 to 4)
IVY Sensitivity to poison ivy, player input
J Temporary iteration variable
LC$(n) Location name (n = 1 to 21)
MD Day of month
MO$ Month name
PC Physical condition, player input
R(n) Reduction in walking rate due to mishaps (n = 1 to 10)
RAIN Feelings about rain, player input
RM Rate of walking multiplier
RN Random-number seed value
RT Rate-of-walking multiplier, temporary
RW Rate-of-walking, player input (mph)
SNO Snow indicator (number of times of heavy snow)
SP$(n) Categories of stuff to pack (n = 1 to 7)
STK Walking stick (0 = no, 1 = yes)
STV Stop to get new input variable (400 - mile markers)
T Time into hike (days)
TD Time, temporary (days)
TM Time delay due to mishap (days)
TS Time since last weight-loss calculation
TSLOW(n) Time slowed down by mishap (n = 1 to 10)
TT Temporary indicator that date has been printed
TW Time of walking per day, player input (hours)
U Changes of underwear
VL(n) Volume of item in pack (cu. in.), temporary (n = 1 to 4)
VOL(n) Volume of item in pack (cu. in.) (n = 1 to 7)
VOL1 Volume of tent, stove, and raingear
VOL2 Volume of sleeping bag and mattress
WADD Weight added to pack for food
WB Weight, body (lbs.)
WHT(n) Weight of item in pack, temporary (oz.) (n = 1 to 4)
WP Weight of pack (oz. in input section, lbs. in hiking section)
WT(n) Weight of item in pack (oz.) (n = 1 to 7)
WTLOSS Weight loss since last weight-loss calculation
WTLOST Weight loss, total
WTOZ Weight in oz. (for printing only)
WTPND Weight in lbs. (for printing only)
X$ Temporary string variable
X Temporary average miles per day



THE GAME
In Subway Scavenger, you are a messenger hired to pick up and deliver packages all over New York City. Starting at 9:00 A.M., your log will show five deliveries and five pickups. You start from your office in the Port Authority Bus Terminal at 8th Avenue and 42nd Street and work until quitting time. During the course of your day, you face typical New York subway hazards—stuck doors, track fires, and unsavory characters—but the clock is your biggest enemy. The following rules govern your progress through your delivery schedule:
* When you arrive at a station on foot, you are told which trains stop at that station. You buy a token for $1 and board whichever train you wish.
* At each station, you can either get off or stay on. If you get off, you can then take another train (if the station is an interchange point) or make a delivery or pickup (if the station is within walking distance of your destination). Remember that express trains don't stop at all stations. The following clues should help non-New Yorkers:
o » Brooklyn Academy of Music is abbreviated BAM.
o » Rockaway Boulevard in Woodhaven (Queens) is on the A Train line.
o » Harlem is serviced by the A, B, and D Lines.
o » The World Trade Center is an easy walk from Chambers Street.
o » The New York Stock Exchange is an easy walk from Wall Street.
o » Grand Street and Canal Street run through Chinatown.
* The game is easier if you make a map as you go along.
By the time you complete a few games of Subway Scavenger, you will feel like a native New Yorker—and probably be qualified for a high-paying job as a subway courier. Write if you get work!

THE STORY
The first underground subway system in the world went into service in London, England in 1863. Other early subway systems include those of Glasgow (1886), Budapest (1896), Boston (the first in the United States, 1898), Paris (1900), Berlin (1902), New York (1904), Madrid (1919), Tokyo (1927), Moscow (1935) and Chicago (1943). Toronto's subway, completed in 1954, was the first in Canada.
Some subways consist of only a single line, but most, such as the Métropolitain in Paris, the New York Subway System, and the London Underground, are networks. By far the largest underground transportation system in the world is that of New York City, which includes 230 route miles of track and 465 stations. But development of the system did not occur quickly or easily.

As immigrants poured into New York in the early 1800s, the City grew so fast that street congestion soon became a major problem for pedestrians and drivers of horse-drawn wagons, omnibuses, and carriages. As a result, several mass-transit systems were proposed for New York City, with a subway suggested as early as 1864. However, it was an elevated railway that got the approval of both backers and politicians, and the first one, a cable-operated affair along Ninth Avenue, went into operation on February 14, 1870.
The cable frequently broke, disrupting service, so, on October 27, 1871, the line installed a steam locomotive to pull the cars. At the same time, a passing track was built in the center of the line, enabling trains to run in two directions. Running time over the entire route from Dey Street (near the Battery at the southern tip of Manhattan) to 29th Street was 28 minutes. The success of this line—more than 5000 fares daily—convinced a legion of skeptics that the "el" was the panacea for all of Manhattan's street-level traffic problems, and for the next 20 years the els spread like cucumber vines all over the City.
The disadvantages of the elevated railways were that they were noisy, smelly, dirty, and a detriment to the neighborhoods over which they rolled. An inventor, Frank J. Sprague, had a solution: electricity. Sprague had built an experimental electric car and won the attention of Jay Gould, the great New York railroad financier. Sprague persuaded Gould to take a ride in his experimental car. Anxious to show it off, Sprague enthusiastically yanked the controller to set the train in motion. But he pulled the controller too abruptly, and a fuse blew. The noise, which sounded like a bomb exploding, completely unnerved Gould, who instantly abandoned all interest in electric traction. Sprague was forced to look elsewhere for backing.
"Elsewhere" turned out to be Chicago, Illinois, Richmond, Indiana and St.Joseph, Missouri. Sprague's electrified, multiple-unit trains worked so well in these cities that in 1898 Brooklyn's steam-operated els began converting to electricity, and by 1903 all of New York's els were re-equipped with Sprague locomotives. More important, electric locomotives opened the possibility of building underground railways in Manhattan, an idea that had previously been dismissed because of the danger of smoke and steam in long underground runs.
Ground was broken in March 1900 for the first underground line in New York, a five-mile run from City Hall downtown up the East Side to Grand Central Terminal at 42nd Street. Rather than using the London and Glasgow method of boring an underground tunnel, New York's planners used the open-trench approach that had been employed successfully in Budapest. Using this approach, a huge, deep trench was cut; a roof was made of steel girders; and fill and paving were added above the roof. While this method was infinitely cheaper, easier, and faster than boring a tunnel, it was not popular with shopkeepers who wondered if the din and disruption would ever end. Eventually it did, and the first subway was put into service on October 27, 1904.
By this time, the promoters had vastly extended their plans, and the line, the Interborough Rapid Transit (IRT), extended from City Hall to 145th Street and Broadway in upper Manhattan. The length of the route was 13 1/2 miles, and the travel time was 26 minutes. Extensions and other lines were soon opened to meet increasing public demand for service. By 1912, a tunnel to Brooklyn was opened, and a few years later, one took trains under the Harlem River to the Bronx.
Meanwhile, the directors of the Brooklyn Rapid Transit (BRT) Company, a holding company that owned several els in Brooklyn, were enviously watching the success of the IRT. To grab a piece of the subway pie, they proposed to the city an ambitious plan to build a new subway from lower Manhattan up Broadway to the Queensboro Bridge, connecting it with tunnels to both Brooklyn and Staten Island. The directors of the IRT and newly-formed Hudson-Manhattan Tubes Company weren't happy about this, particularly when the City announced a splitting of the routes in what became known as "the Dual (IRT-BRT) Contracts." The BRT (later the BMT) benefited the most, getting 87.8 route miles all over Manhattan, Queens, and Brooklyn. The tunnel to Staten Island, incidentally, was never built.
The third big line to be built was the Independent Subway (IND), City-owned and operated right from the start. Although known for years as simply the Eighth Avenue Subway, that was a misnomer because the IND actually encompassed six basic routes: Washington Heights, Bronx-Grand Concourse, Coney Island, Queens-Manhattan, Sixth Avenue-Houston St., and Brooklyn-Queens crosstown. A seventh was added in 1939 to service the World's Fair at Flushing Meadow. Unlike the Victorian IRT with its mosaic-decorated stations or the BMT with its flamboyant rolling stock, the IND was a no-nonsense, modern line with bright, spacious stations, well-engineered cars, and speedy express runs.
In June 1940, New York City purchased the privately-owned Interborough Rapid Transit (IRT) and the Brooklyn Manhattan Transit (BMT) and combined them with the City-built Independent Subway System (IND) under the jurisdiction of the New York Transit Authority (TA). Today more than 6100 cars, connected in trains of from 3 to 12 units, operate day and night over 27 routes and make nearly 6400 trips on an average weekday. The lines use 12 bridges and 11 underwater tunnels and carry approximately one billion passengers per year.
In 1978, the New York City Transit Authority (TA) became a subsidiary of the Metropolitan Transportation Authority (MTA), the nation's largest transportation system. MTA vehicles carry nearly two billion riders per year, 6.3 million on an average weekday, or 57% of the population in its operating area. This exceeds the combined ridership of the systems of Chicago, Boston, and Philadelphia—the second, third, and fourth largest people movers in the country. With nearly 8000 rail cars, the MTA has a train fleet larger than all of America's other rapid-transit and commuter railroads combined.
The New York TA is charged with the operation of the subway system and surface bus fleet. The subway system alone employs nearly 28,000 workers and operates its own police department. Although accidents, track fires, delays, and crime regularly make the nightly news, the TA steadfastly maintains that the subway is actually one of the fastest and safest ways to travel around the city.
Just ask Rebecca Morris. Hailing from Youngstown, Ohio, with degrees in library science and English literature, Rebecca is not the sort of a person you would expect to find in the record books—particularly not for being the first woman to ride every inch of track from Brooklyn to the Bronx, from Queens to Manhattan, in one marathon odyssey. But, in the fall of 1973, she did—on 67 trains in 26 hours and 36 minutes.
Herman Rinke was the first person to tour the entire system for a single 5-cent fare. In 1940, just days before the three lines were unified under TA control, he rode for 25 hours. Since that day, more than 70 other people—recorded in an unofficial file at the TA Public Relations Department—have ridden the entire system. The 1961 subway map notes that a Flushing youth rode all the routes for a single token in 25 hours and 36 minutes. On April Fool's Day of 1966, the MIT Rapid Transit Club used a computer to route their attempt but failed to beat the best time to date, 24 hours and 56 minutes, set by Geoffrey Arnold in 1963. But on August 3, 1967, James Law and six high school buddies rode the entire system in 22 hours, 11 minutes, a time still cited in the Guinness Book of World Records.
People are fanatic about many facets of the subway. Bob Leon takes pictures of every transit nook and cranny. Howard and Suzanne Samuelson run an antique store devoted exclusively to transit material. Don Howard is a walking encyclopedia of transit lore, as are Hugh Dunne and Stan Fischler. Most of them look nostalgically back on earlier days—days of kerosene marker lanterns, days when people came to New York to ride the IRT, and days before graffiti.
In 1985, the TA set a goal of having 28% of the cars clean and graffiti-free. They succeeded, but just barely. Another goal for 1985 was to have working lights and loudspeakers, functioning climate control, accurate destination signs, and readable maps on 90% of the subway fleet. While these goals—particularly with respect to maps—were not quite realized, the TA made notable strides in meeting most of them. In 1985, for example, 78 of the TA's 465 subway stations were repainted.
Of the subway fleet of 6125 cars, 760 have been in service since the 1940s. Although in the past, the TA had purchased 200 to 400 new cars per year, these purchases were severely curtailed during the City's fiscal crisis in the mid-seventies. However, a contract was recently negotiated to purchase 1375 new cars from Japan, with the older cars being phased out as the new Japanese-built R-62 cars are delivered. The first 260 cars were delivered under this contract in 1984, and they will continue to be delivered at the rate of roughly 250 per year through 1988.
When the subway first opened in 1904, the fare was a nickel, which was a relatively large amount at the turn of the century. However, the fare did not change for over 50 years, and by 1956 the 5-cent fare was a real bargain. In contrast, over the next 30 years the fare was raised eight times until it reached its current level of $1.
As the fare has increased, so has the number of people who try to beat it by putting slugs in the turnstiles. Indeed, as of the end of 1985, the TA was collecting more than 13,000 slugs per day, resulting in a financial loss of almost $3 million per year. In an attempt to thwart cheaters, the TA has changed the design of the token to one with a stainless-steel center that looks like a "bull's-eye," an apt name as they are targeted at slug users. In mid-1986, all 2600 turnstiles at 749 entry locations were changed to accept only the new token.
The next time you're in New York, ride the subway. There is no better or faster way to get around—and after you master Subway Scavenger you'll really know how to do it.
BIBLIOGRAPHY
Annual Report (1984). Metropolitan Transportation Authority, 347 Madison Ave., New York, NY 10017.
Fischler, Stan. Uptown, Downtown. New York: Hawthorne Books, 1976.
New York City Subway Map (Spring 1985). New York City Transit Authority, 370 Jay St., Brooklyn, NY 11201. (Note: If you request a subway map from the TA, include a #10 business-size self-addressed, stamped envelope.)
THE PROGRAM
At first glance, the Subway Scavenger program may look quite complicated, because of both its length and the complexity of many program statements. In fact, the program is shorter than it seems and is relatively easy to understand—as well as being exceptionally versatile and powerful.
Its versatility and power stem from its general framework, which could be used to represent almost any kind of system with intersecting nodes. In this particular version, the framework is used to represent the New York City Subway System. However, it could just as easily accept data from any other subway (London, Tokyo, Moscow, San Francisco, etc.), train (Amtrak, BritRail, etc.), bus, or, for that matter, pedestrian system (Disneyland, a large building, manufacturing plant, etc.). It could even be used to model a mixed-mode system like a university with foot, auto, and bus transportation. Nor is the framework limited to transportation problems; it could also be used to simulate electronic-message traffic over a data network or a mixed system using voice, data, and manual transmission of messages.
While the Subway Scavenger program is more than 570 lines long, more than 300 of them are data statements. Thus the program itself is of modest length. Indeed, when the player instructions, prompts, and minor subroutines are stripped out, the main program is only about 80 lines long.
Before discussing the program itself, it is important to be familiar with the three main types of data. First are the data about the nodes of the system, in this case the subway stations. To each node (or station) we must assign a number (STA), and we probably want to give it a name as well (STATION$(STA)). We must also know how many lines of transportation (subway lines) intersect the node (STANU(STA)) and which ones they are (STATR(STA, n)).
Second, to each line of transportation, we must assign a number (TR) and possibly a name (TRAIN$(TR)). In addition, we must know how many nodes it intersects (TRSTOP(TR)) and which ones they are (TRSTA(TR, n)). For convenience, we may also want to know the starting and ending point, so we can differentiate point-to-point routes from circular or continuous ones. In fact, the New York Subway System has only point-to-point routes, unlike the London Underground which has a mixture of circular and point-to-point routes.
Third, once the system is described, we must know what is to be transmitted (in this case, packages carried by a human being). To each package, we must assign a number (PKG) and, optionally, a name (PKGDES$(PKG)). We must also know where it is coming from and where it is going in terms of the nodes of the system (PKGSTA(PKG, n)). We don't really care which subway line it is carried on as long as it reaches its destination. In some cases, the building to which a package is to be delivered can be reached from more than one subway station. Naturally, it is usually preferable to use the closest station, because you spend less time walking. However, in some cases it is more efficient to walk a few extra blocks if you can reach a destination without having to ride out of your way to a station at which you can transfer to a closer line.
The main program consists of six major sections. The first one, "Arrive at station," (Lines 340–510) prints the name of the station at which you have arrived and the names of the trains that stop there. You can arrive on foot or by train. If you arrive on a train and that station is the end of the line, you must get off.
Otherwise, you can choose to get off or stay on the train.
If you get off the train, you must decide what to do next: make a pick-up, make a delivery, check your logbook, or catch another train. If you decide to catch another train, the program branches to the "Trains coming" section (Lines 530–670). Line 550 picks a random train to arive at the station:
550 RN = INT(1 + STANU(STA) * RND(1))
Recall that STANU(STA) is the number of trains that stop at a particular station; thus, RN will be an integer between 1 and STANU(STA). In Line 560, RN is used as the argument of STATR(STA, RN) to recover the actual number of the train:
560 TR = STATR(STA, RN)
The next two lines check to see if the current station (STA) is at one end of the line or the other for train TR. If so, that station is eliminated as a possible destination for train TR. Otherwise, train TR could have as its destination either end of the line (selected in Line 590). If you decide to board a particular train, the routine in Lines 640–660 performs the important function of determining just where that train is along its route. This may sound unnecessary; after all, the program knows you are at station STA. However, station STA may be the fourth stop for train 1 and the twelfth stop for train 2, and so on; it is this index value that is determined by Lines 640–660:
640 FOR I = 1 TO TRSTOP(TR)
650 IF TRSTA(TR, I)< >STA THEN NEXT I
660 TRSTX = I
First, Line 640 iterates through all the possible stops for train TR. In the data, these are station numbers. Line 650 compares each station number (TRSTA(TR,I)) with the current station STA and, if a match is not found, goes on to the next one. When a match is found, Line 660 assigns the index value I to the train station identification index, TRSTX.
Next, the "Train travel" routine (Lines 690–730) adds or subtracts one from TRSTX depending upon which way you are traveling, and determines what the next station will be. This routine also calls the "Trip hazards" subroutine (Lines 1210–1500) which deals with sticky doors, muggers, track fires, and so on. After determining the next station, the program simply branches back to the "Arrive at station" section.
If you decide to make a pickup or delivery at a given station, the routine at Lines 750–880 determines whether or not that is a valid option (Has it been made already? Is your destination close enough to the station?) The subsequent routines simply update your logbook and check to see if all the pickups and deliveries have been made. If more deliveries remain, a list of nearby subway stations is displayed, and you must walk to one of them.
Throughout the program, two "costs" are assigned. First is the cost of tokens ($1 each), which is added each time you arrive at a station on foot to take a train (subroutine at Lines 1100–1190). If you run out of money, the game ends.
The second "cost" is time. Activities and events that take time are travel (two to three minutes between stations, Line 720), waiting (one minute per train, Line 610), walking and delivery (two minutes per block, six minutes per delivery, Line 910), delays due to malfunctioning doors (Line 1250) and track fires (Line 1480), and lunch (Line 5210). If the total time exceeds eight hours (or nine hours in the easier version), your day has ended at 5:00 P.M. (or 6:00 P.M.), no more deliveries can be made, and the game ends.
The subroutine in Lines 5560–5650 shuffles the list of packages. Shuffling is discussed in detail in the description of the Orient Express program. However, you should note that in addition to shuffling a list of integers (PN(n)), this program shuffles four other variables that are associated with the list (package names, destinations, etc.). Thus, we see that shuffling can be a general function that is not limited to a list of integers.
Note the music routine in Lines 5670 to 5700. This plays the first two bars of "Give My Regards to Broadway" and is explained in the chapter on the BASIC language in the back of the book.
PROGRAM VARIABLES
A Answer to input query (most often logbook no.)
A$ Answer to input query, string
B Answer to query about station to walk to
DELTOT Total number of deliveries completed
DES Train destination (1 = north or west end of line, 2 = south or east end of line)
DORP(n) Delivery or pickup flag (n = package no.) (0 = open, 1 = delivery, 3 = pickup, 4 = done)
H$, HP, HR Hours, for printing
I Temporary iteration variable
J Temporary iteration variable
K Temporary shuffling variable
LGMAX Highest entry in logbook to date
LGPKG(n) Logbook number (n = package no.)
LUN Lunch indicator (0 = no lunch, 1 = had lunch)
MIN Minutes of elapsed time from start
MN Minutes, for printing
PERS Person indicator (0 = on foot, 1 = on train)
PKGDES$(n) Package destination name (n = package no.)
PKGSTA(n, s) Subway stations near package destination (n = package no., s = station no.)
PKSTDS(n, s) Distance from package destination to subway station (n = package no., s = station no.)
PKSTNU(n) Number of stations near package destination (n = package no.)
PN(n) Package number
PRLG Line printer indicator (0 = off, 1 = on)
PS Total packages
RN Random number
STA Station number
STANU(s) Number of trains that stop at station (s = station no.)
STATION$(s) Station name (s = station no.)
STATR(s, t) Trains that stop at station (s = station no., t = train no.)
STNS Total stations
TK Token indicator (0 = company money, 1 = own money)
TKMAX Maximum amount of money available for tokens
TM Maximum minutes to play (480 hard, 540 easier)
TM$ Maximum time to play (5:00 hard, 6:00 easier)
TOKEN Number of tokens used
TR Train number
TRDES$(t, 2) Stations at each end of a line
TRAIN$(t) Train name (t = train no.)
TRNS Total trains

TRSTA(t, p) Stations that train stops at (t = train no., p = stop no.)
TRSTOP(t) Number of stops made by train (t = train no.)
TRSTX Train station index
TRX Train heading (1 = south or east, -1 = north or west)

X$ Temporary string variable


THE GAME
In Hong Kong Hustle, you are the Tai Pan of the largest international trading house in Hong Kong. It is June 30, 1997, and China is due to take over the Colony on July 1. You have just learned that the Chinese intend to confiscate much of the property of the major trading houses. Your objective is to collect 15 bags of gold and jewels, which you have stored around the city, get them to your boat before midnight, and escape.
You disguise yourself as a factory worker and set out from Repulse Bay, using only public transportation, to visit the locations in your notebook. Here are some hints to help you in your quest to remain the wealthiest trader in Southeast Asia:
* At the beginning of the game, your boat is docked near the Macau Jetfoil Pier. You can safely move it once to another pier near Tsuen Wan in the New Territories, but to move it more than once would be very dangerous.
* You may encounter members of the Green Triad, Hong Kong's organized-crime faction. For the most part, they are interested only in money, but it is best to avoid them.
* You will find the game extremely difficult until you develop a map of the transit routes of Hong Kong. If you have a map the colony, you can navigate more easily. If you don't, you can develop your own by riding the various buses, ferries, and trains from one end of the line to the other.
* You will find that most, but not all, of your destinations can be reached by more than one transit line. Generally, travel on the MTR (Mass Transit Railway) and the Canton/Kowloon Railway is faster than travel on buses and trams.
* You will probably want to complete all pickups on Hong Kong Island before moving your boat to Tsuen Wan, which is a better base of operations in the New Territories. Pickups in Kowloon can be made equally well from either pier.
Hong Kong Hustle is, perhaps, the most challenging game in this book. Completing the assignment, therefore, is especially rewarding. And as you ride the transit system you can be planning how to spend all that gold—if you succeed. Good joss!

THE STORY
Hong Kong Island was a small uninhabited rocky island at the mouth of the Pearl River until the 1830s when, during the days of the tea and opium trade, British sea captains discovered its magnificent protected harbor. Its name derives from two Chinese characters "Heung Kong" meaning fragrant harbor. Some historians suggest that the name might have been inspired by the scent of opium-laden ships in the harbor. Others think the name may have been a reference to the incense and joss stick industries on the south and west coasts of the island. The origin of the name, however, was unimportant to the British who settled on the island and made it an important port for all Far East trade.

During the Nineteenth Century, Britain concluded three treaties with China relating to Hong Kong: the Treaty of Nanking, signed in 1842 and ratified in 1843 under which Hong Kong Island was ceded in perpetuity; the Convention of Peking in 1860 under which the southern part of the Kowloon Peninsula and Stonecutters Island were ceded in perpetuity; and the Convention of 1898, under which the New Territories and outlying islands (comprising 92% of the total land area of the colony) were leased to Britain for 99 years from July 1, 1898.
Hong Kong and the Kowloon Peninsula are relatively small—35 square miles—while the New Territories and outlying islands (235 of them) comprise a much larger land area—377 square miles. Although the British settled Hong Kong, today they represent just 2% of the population, with most of the remaining 5.3 million residents being Chinese.
It was the fact that the New Territories are subject to a lease that caused the current British Government to enter into negotiations on the future of Hong Kong with the People's Republic of China in the late 1970s. The Chinese Government has consistently taken the view that the whole of Hong Kong is Chinese territory. Its position for many years was that the question of Hong Kong fell into the category of unequal treaties of the past; that it should be settled peacefully when conditions were right; and that pending a settlement, the status quo should be maintained.
Of course, subtle hints were dropped from time to time. All of Hong Kong's water and a substantial amount of its food come from China and the New Territories, and it would be difficult for the residents of the island to exist without them. But, officially, the position was that the matter should be settled through diplomatic channels.
In the late 1970s, as the duration of the New Territories lease decreased, concern about the future of Hong Kong began to be expressed both in the colony itself and among foreign investors. In particular, there was increasing concern about individual land leases granted in the New Territories, all of which were set to expire three days before the expiration of the New Territories lease in 1997. It was clear that the short duration of these leases and the inability of the Hong Kong Government to grant new ones extending beyond 1997 would deter future investment and undermine confidence.
The British Government determined that the situation would become untenable by the mid-1980s if nothing was done. Thus, the Governor of Hong Kong visited Peking in March 1979 and attempted to solve the specific question of leases in the New Territories. He was not successful and not much happened for another two years. Then, finally, in 1982 Chinese officials indicated to a visiting British delegation that they were prepared to enter into negotiations over Hong Kong. Accordingly, Prime Minister Margaret Thatcher met with Chairman Deng Xiaoping on September 24, 1982, and jointly they "agreed to enter into talks through diplomatic channels with the common aim of maintaining the stability and prosperity of Hong Kong." During these negotiations, Hong Kong and British delegates explained in detail the legal and commercial systems which prevail in Hong Kong and the importance to these systems of the British role and link. Following extensive discussion, however, it became clear that the continuation of British administration in any form after 1997 would be unacceptable to the Chinese.
The British then agreed to explore the possibility of a bilateral arrangement coupled with a high degree of autonomy under Chinese sovereignty to ensure lasting stability and prosperity for Hong Kong. Discussions intensified after April 1984, resulting in a Joint Declaration issued on September 26, 1984.
The declaration formally states that China will resume the exercise of sovereignty over Hong Kong Island, Kowloon, and the New Territories as of July 1, 1997. Hong Kong will be established as a "Special Administrative Region" called Hong Kong, China, which will be under the direct authority of the Central People's Government of the People's Republic of China. The Hong Kong Special Administrative Region will be vested with executive, legislative, and independent judicial power, and laws currently in force in Hong Kong will remain basically unchanged.
The government of Hong Kong will consist of officials nominated by the Central People's Government. Local Hong Kong inhabitants, British, and other foreign nationals may be employed as advisors and even hold certain (unspecified) posts in various government departments.
Because free trade has made Hong Kong what it is today, it will retain its status as a free port and a separate customs territory. Nor will it be taxed by China. In the interim, the British will continue to govern Hong Kong with the important provision that land leases can be written through the year 2047.
Reaction to the pact is mixed. Most people in Hong Kong have no other place to go and, even if they did, would have difficulty getting a permanent visa. Hence, they tend to think that Hong Kong should accept the agreement and try to make the most of it. Some British managers and administrators in Hong Kong are quietly making contingency plans, but many intend to stay and give it a try. Hong Kong-born Chinese in Britain and other parts of the world have been quick to condemn Britain's negotiations as a "giveaway" and a "farce." As one said, "Hong Kong people are trying to convince themselves that the agreement will bind China, but it's just not true. China will do what she likes as she always has in the past." Another expressed concern that "there is nothing to prevent Hong Kong from being ruled by the mainland."
Chinese officials, of course, declare that the people of Hong Kong have nothing to fear. On October 3, 1984, Deng Xiaoping told a group of visiting Hong Kong delegates, "The Chinese Government will not change its policy, nor can anyone else change it." He went on, "We have kept our word in external affairs even during periods of chaos. It is the tradition of the Chinese nation to honor its commitments."
All of which sounds good, critics say, except that when July 2, 1997, rolls around, Hong Kong will no longer be considered an "external affair" by China. As for China honoring its commitments, skeptics urge the people of Hong Kong to ask scores of American wheat farmers what happened to their three-year contracts with that country when its harvests improved in 1985. Or to ask the managers of the Ameripex International Philatelic Exposition about China's withdrawal from the exposition on opening day to protest the participation of Taiwan.
Today, Hong Kong is still a thriving, cosmopolitan city of many contrasts—elegant shops and crowded street markets, first-class restaurants and outdoor food stalls, luxury hotels and teeming tenements, bustling factories and peaceful duck farms, noisy discos and ancient temples. After Tokyo, it i the main commercial hub of the Far East, and, as the Tourist Association brochure proclaims, it is "one of life's great adventures."
BIBLIOGRAPHY
China Daily (Sept. 27, 1984, Oct. 4, 1984), Beijing, China.
Hong Kong Discovery Guide. Hong Kong Tourist Association, Connaught Centre, Hong Kong. 1986.
Hong Kong Standard (Sept. 27, 28, 29, 1984), Kowloon, Hong Kong.
Places of Interest by Public Transport, Hong Kong Tourist Association. 1985.
THE PROGRAM
The Hong Kong Hustle program is built upon the same basic framework as Subway Scavenger. It has one important addition, namely, allowing for variable-length journey segments. In Subway Scavenger, each trip on a train was assumed to last only two or three minutes.
However, it was not feasible to use such a narrow time range for journeys in the Hong Kong simulation, because some trips could be as short as two minutes (tram, MTR), while others could be as long as 20 minutes (ferry, bus over the mountains).
Another less important change was incorporated in Hong Kong Hustle, specifically the option to allow the player to walk from one transit stop to another (assuming, of course, that the stops are within walking distance).
The length of time between transit stops is contained in the data statements for each transit line. Note that the first data statement for each transit line is the same as the data for the trains in the subway program: the name of the transit line, the number of stations, and the identification number of each station. A second data statement contains the frequency of service (which is not currently used in the program) followed by the time (in minutes) between stations on the line.
These data are used in the travel routine (Lines 690–740), specifically, Line 720. Note that if the vehicle is traveling in a "forward" direction (from the beginning of the line to the end), the time (TRT(t, s)) associated with the previous stop is used. However, if the vehicle is traveling "backwards" (from the end of the line to the beginning), then the time associated with the next stop is used.
The following example should make it easier to understand this concept:
IndexBus Stop No.Time to next stop11522433844755If a bus is traveling from Stop 2 to Stop 4, for example, the elapsed time between Stop 2 to Stop 3 (four minutes) is stored as Time 2, and the time between Stop 3 to Stop 4 (eight minutes) is stored as Time 3.
Thus, the total time for the bus to go from Stop 2 to Stop 4 is Time 2 plus Time 3, or 12 minutes. On the other hand, if the bus is going from Stop 4 to Stop 2, it still takes 12 minutes, so we would not want to add Time 4 to Time 3 (15 minutes), but rather, Time 3 to Time 2.
The routine that allows walking from one transit stop to another (Lines 1130–1220) works like the one that lets you walk from a pickup location to two or more transit stops in Subway Scavenger. It, of course, also requires more data than that program requires. These data, STAWLK(s) and STAWK(s, x), are tagged onto the end of the data statement about each station, specifying station name and transit lines that stop at that station.
Hong Kong Hustle is a rather difficult game to complete successfully. There are several ways to make it easier. The easiest way is to lower the number of bags of gold and jewels to be collected.
This variable, BG, is currently set equal to 15 in Line 190. Try setting BG equal to 11 or 12, and see how you make out. Of course, if you become very proficient at the game, you can raise BG to 17 or 18 for a real challenge.
Another way to make the game easier is to extend the time deadline past midnight, say to 4:00 A.M. or 5:00 A.M. For each hour you want to extend it, add 60 to the constant 899 in Line 4630:
4630 IF MIN > 899 THEN 4650
Unfortunately, times after 12 midnight will not be displayed correctly, but if you feel ambitious, you can modify the routine to print the time (Lines 4680–4720) to allow for times later than 12 midnight.
A third way to make the game easier is to deal with packages in only Hong Kong Island (locations 1 to 9) or only Kowloon and the New Territories (locations 10–23). This is not an easy modification to make (you must both decrease the number of bags to be collected and change the limits of the FOR…NEXT loop in Line 4910 which shuffles the list of locations). In fact, it is probably easier to keep practicing with the current game than to try to modify it in this way, but the option is there for those who are especially ambitious and/or frustrated.
PROGRAM VARIABLES
A Answer to input query
A$ Answer to input query, string
B Answer to query about station to walk to
BAG Total bags currently being carried
BG Total bags to be collected
BGMAX Maximum number of bags that can be collected
BGTOTAL Total bags aboard sampan
BGX Maximum number of bags that can be carried
DES Destination of arriving transit vehicle
FR$(9) Alternate words for "friend"
H$, HP, HR Hours for printing
I Temporary iteration variable
J Temporary iteration variable
K Temporary iteration variable
LGPKG(n) Logbook number (n = package no.)
MIN Total minutes of elapsed time
MN Minutes for printing
PERS Person indicator (0 = on foot, 1 = riding)
PICK(g) Pickup flag (g = logbook no.)
PKGDES$(n) Package destination name (n = package no.)
PKGSTA(n, s) Transit stops near package destination (n = parlfAge no., s = stop c.)
PKSTOS(n, s) Time to walk from transit stop to package destination (n-package no., s = stop no.)
PKSTNU(n) Number of stations near package destination (n = package no.)
PLACE$(s) Place name (s = transit stop)
PN(n) Package number
PS Total packages
RN Random number
STA Transit stop number
STANU(s) Number of transport lines at transit stop (s = stop)
STATR(s, t) Transit lines that stop at transit stop (s = stop no., t = transit lines)
STAWK(s, x) Identification of transit stops within walking distance (s = stop no., x = index no.)
STAWLK(s) Transit stops within walking distance of another transit stop (s = stop no.)
STNS Total transit stops
TR Transit line number
TRAIN$(t) Name of transit line (t = transit line no.)
TRDES$(t, 2) Transit stops at each end of line (t = line no.)
TRFREQ(t) Frequency of service on line (t = line no.)
TRNS Total transit lines
TRSTA(t, s) Transit stops on a transit line (t = transit line no., s = stop no.)
TRSTOP(t) Number of stops on transit line (t = line no.)
TRSTX Transit stop identification indicator
TRT(t, s) Time between stops (t = line no., s = stop no.)
TRX Travel direction indicator
X Temporary numeric variable
X$ Temporary string variable
Note: "Package" refers to bag of gold or jewels to be picked up.


THE GAME
In Voyage to Neptune, you are in command of the first manned spaceship journeying from Earth to Neptune. The year is 2100, and manned space stations have been established at roughly 500-million-mile intervals along your route. These stations are at Jupiter (orbiting Callisto), Saturn (orbiting Titan), Uranus (on Ariel), and at several points midway between Saturn and Uranus, and Uranus and Neptune.
Navigation of your spacecraft is highly computerized, and you have a competent personnel officer on board to handle the inevitable people problems that will arise during a six-year journey. Your primary function as captain, therefore, is to maintain the delicate balance that will provide your ship with enough energy to reach its destination and return to Earth.
The following hints will help to speed you on your way:
* Your spaceship uses both solar energy and nuclear fuel. Because you cannot carry enough nuclear fuel for the entire trip, you also have on board a multi-celled breeder reactor, which takes the spent fuel from the propulsion engines along with a small amount of primary fuel and turns it—somewhat inefficiently—back into primary fuel for propulsion. You must decide how much fuel to use for propulsion and how many breeder reactor cells to operate on each leg of the trip.
* At each space station along the way, you may trade nuclear fuel for breeder-reactor cells and vice versa. You may not trade more fuel than you have; nor may you trade so many cells that your breeder reactor ceases to function.
* You may have problems with your engines along the way, but there is little you can do to lessen this possibility. Likewise, if you are unlucky, some of your fuel may decay.
If all goes well and you make judicious use of your resources, you can reach Neptune in just under six years with plenty of fuel left for your return voyage. Can you do it the first time or will you need a few trial runs?

THE STORY
Although fictional accounts of space voyages date back to the 1500s, the first serious rocket motor for space flight was not devised until the twentieth century. In 1903, K.E. Tsiolkovsky, a Russian pioneer of astronautics, proposed using a liquid-propelled rocket motor for space flight. The first rocket to employ an engine of this type was fired by Robert H. Goddard in the United States in 1926.
In Germany during World War II, Werner von Braun developed the V2 weapon, the first long-range liquid-fuel rocket. After the war, von Braun and most of the other German rocket specialists went to the United States, where they were instrumental in the development of rockets for satellite launches and space exploration.
Russia was also working on rockets and space vehicles and, on October 4, 1957, launched Sputnik I, the event that marked the real beginning of the space age. Other Soviet satellites followed and in 1958 the United States launched its first satellite, Explorer I, which provided the first information about the Van Allen radiation belts that surround the Earth.
In January 1959, the Soviet satellite Luna I was the first successful lunar probe, bypassing the moon at 3728 miles. A year later another Soviet satellite was the first to circle the moon. On April 12, 1961, the USSR launched the first manned spacecraft, Vostok I, with Yuri Gagarin aboard. The flight made one complete circuit of the Earth at a height ranging from 112 to 187 miles, and lasted one hour and 29 minutes. Three weeks later on May 5, Alan Shepard became the first American space traveler, making a short 15-minute suborbital "hop" in a Mercury vehicle.
In the 1960s, the U.S. undertook a major program to put a man on the moon. Milestones in this project included docking maneuvers between Gemini spacecraft in December 1965; the first manned flight around the moon by Frank Borman, James Lovell, and William Anders in December 1968; and finally, the lunar landing by Neil Armstrong and Edwin Aldrin on July 20, 1969.
Space stations have had a somewhat controversial history since they were first proposed by Tsiolkovsky in the 1920s. Stations are felt by some to be the most efficient method of launching deep space probes, because the probe vehicle will not have to overcome the force of Earth's gravity. Others feel that the cost of space stations cannot be justified in view of the marginal benefits.
Skylab, the first and only American space station, was launched on May 14, 1973 and was manned by three successive crews for a period of 171 days. The Soviets have made a greater commitment to space stations and have launched several different types, which they have manned for periods exceeding one year.
The spectacular success of the Voyager 1 and 2 probes to Jupiter, Saturn, Uranus, and Neptune indicates that the technology required to send spacecraft to the outer planets is in place.
However, for manned planetary exploration, particularly beyond Mars, it seems that some system of manned or unmanned way stations will be necessary.

This computer program, Voyage to Neptune, leaps ahead to a time when a series of manned space stations have been established on the route to the outer planets. We are assuming stations at roughly equal intervals of 400 to 500 million miles. They are at Jupiter (orbiting Callisto, the largest Jovian moon), Saturn (orbiting Titan, a moon larger than Mercury), Alpha 1 (midway between Saturn and Uranus). Uranus (on Ariel, the innermost moon), and Theta 2 (507 million miles beyond Uranus).
The voyage itself is all fiction. Your spaceship has engines which can operate using both solar energy (captured by giant parabolic collecting arrays) and nuclear fuel. Because solar radiation diminishes as you get further from the sun and you will not be able to carry enough nuclear fuel for the entire trip, you also have a multi-celled nuclear breeder reactor which takes the spent fuel from the propulsion engines along with a small amount of primary fuel and turns it all back into primary fuel.
The space stations along the way usually have a small stock of engine-repair parts (you also carry spare parts), breeder-reactor cells, and nuclear fuel, which are available to you on a barter basis.
Your objective in the game is to make the 2700-million-mile trip to Neptune in six years or less. It is possible but far from easy. Bon voyage.
THE PROGRAM
The Voyage to Neptune program consists of five main program segments, initialization and summarization segments, and six short subroutines. At 169 lines, it is a relatively short program; nevertheless, the game is challenging and entertaining.
In the initialization section (Lines 100–160), the title is displayed and variables are initialized. A seed for the random-number generator is produced in Line 1570 and reduced, if necessary, to a valid value in Line 140.
The trip-segment counter (Line 190) loops through the trip segments until the seventh destination is reached, at which time program execution branches to the End Trip segment at Line 940.
The current-conditions section (Lines 220–360) prints the current location, condition of the ship, fuel supply, and performance during the last trip segment.
The trading section (Lines 380–550) allows you to trade nuclear fuel for breeder reactor cells and vice versa. Checks are made to make sure you are not trading more than you have or that you don't trade so many cells that your breeder reactor becomes inoperative.
The engine-power section (Lines 570–620) calculates the amount of power you receive from your solar collectors. Initially solar power meets 48% of your requirements, but that power decreases by 8% during each leg of the trip. You enter the amount of nuclear fuel you want to burn, and the program checks to be sure it is not more than you have.
In the breeder-reactor usage section (Lines 640–730), you enter the number of breeder-reactor cells you wish to operate. As the breeder cells need both primary nuclear fuel (5 pounds for each cell) and spent fuel from the engines (20 pounds for each cell), these conditions must be met.
The calculations section (Lines 750–840) is the heart of the program. Efficiency of the main engines is calculated in Line 760; it is the sum of the energy from the solar collectors plus the nuclear fuel. Maximum engine output is 104%. Rate of speed in mph and total distance in millions of miles are calculated in Line 780, while Line 790 utilizes speed and distance to calculate the time (in days) of this leg of the trip.
The amount of fuel produced by the breeder-reactor cells is calculated in Line 810; not being highly efficient, they produce from 16 to 33 pounds of fuel per cell.
This new fuel is added to the total fuel. There is a 20% chance that some of the fuel in storage will decay to an unusable state; this amount, if any, is calculated in Lines 820 and 830.
There is a 10% chance of an engine malfunction (Line 770); if it occurs, you are told about the problem, and the reduced efficiency of the engines is calculated (Lines 860–920).
The end-of-trip segment (Lines 940–1160) calculates the total time it took to reach Neptune, number of operational breeder-reactor cells, and remaining amount of fuel. Appropriate messages are printed about each factor, after which you are given a chance to play again or quit.
The subroutines to print the scenario (Lines 1180–1390); read location names and distances (Lines 1410–1440); calculate and print time in years, months, and days (Lines 1460–1530); temporarily break program execution (Lines 1550–1570); and print centered lines (Lines 1680–1690) do exactly what their names describe in a straightforward way.
The subroutine to extract the first letter of an input string (Lines 1630–1660) does just that using the familiar LEFT$ function. However, if the letter extracted is not uppercase (between A and Z), the function in Line 1660 converts the string to a numeric ASCII value, subtracts 32 (lowercase letters have ASCII values 32 higher than their corresponding uppercase letters), and converts the resulting value back to a string. While three distinct functions are performed, they can be accomplished with a single statement:
A$ = CHR$(ASC(A$) - 32)
There are several ways to make the game easier or more difficult. You can increase or decrease the propulsion efficiency of the nuclear fuel in Line 760. Dividing FUSEG by a value smaller than 40 will increase efficiency, while dividing by a value larger than 40 will decrease efficiency. In the same line, you can allow for engine speeds over 104% of normal if you wish. You can also improve the efficiency of the reactor by increasing either of the constants (16 or 18) in the first equation in Line 810:
FUBR = INT(16 + 18 * RND(1))
You can also change the barter price of fuel and breeder cells in Line 390, although doing so is a two-edged sword because sometimes you want to buy and other times to sell; best to leave it alone.
PROGRAM VARIABLES
A	  Answer to input query, value
A$	  Answer to input query, string
BREED	  Total breeder - reactor cells on ship
DIS(n)	  Distance between segments (n = 1 to 7)
DIST	  Cumulative distance traveled (million miles)
DY	  Days
EF	  Engine-efficiency malfunction value
EFF	  Engine efficiency
FD	  Fuel-decay indicator
FUBR	  Fuel produced by each breeder cell
FUDCY	  Fuel that decayed in storage
FUSEG	  Fuel used on trip segment
FUTOT	  Fuel, total available
MO	  Months
RATE	  Rate of speed (mph)
RN	  Seed for random-number generator
PLAN$(n)  Planet or satellite name (n = 1 to 7)
SEG	  Trip-segment counter
TIME	  Time of trip segment (days)
TM	  Time, temporary
TOTIME	  Cumulative total time of trip
UBREED	  Breeder-reactor cells in use
X$	  Temporary string
YR	  Years

BASIC CONVERSIONS
All of the programs in this book were written in standard Microsoft BASIC (also known as BASICA and GW BASIC) on an IBM PC-compatible computer with 512K of memory. All have been tested on a variety of PC-compatible computers.
The programs are set up for a display of 80 characters by 24 lines. All require only 72 columns of screen width, except Orient Express, which requires a full 80 columns. Thus, they cannot be easily used in a window environment unless you expand the window frame off the screen. I recommend that you run these programs directly from BASIC under MS-DOS without windows, desk accessories, or other operating-system overlays.
Some of the programs use the built-in speaker. If you have a computer with-out a speaker, don't despair; sound is not necessary to enjoy the journeys.
The memory requirements of the programs are as follows:
Program NameProgram Size in BytesMarco Polo18,761Westward Ho!16,508Automobile Race20,575Orient Express18,321Amelia Earhart20,826Tour de France17,686Appalachian Trail27,392Subway Scavenger37,562Hong Kong Hustle41,506Voyage to Neptune7,739All of the programs run on any IBM PC, PCjr, or PC compatible with 128K or more of memory. Remember, Microsoft BASIC itself occupies about 64K of memory; the rest of the memory space is used for the interpreted program code and data.
If you wish to convert the programs to another type of computer or another version of BASIC, be warned that this is a major undertaking. Although the programs use no unusual commands, machine language subroutines, or devious techniques, converting code from one machine to another can be tricky. If you are determined to try, here are some tips that may make your job easier:
* Memory. You should have at least 128K of memory (or at least 48K of program area after BASIC is loaded). 
* Display size. You should have an 80-character by 24-line screen. Anything smaller will require changes in practically every PRINT statement. 
* Enter the program one subroutine at a time. Test each one after it is entered and don't go on to the next until the current one is working. Above all, do not enter the entire program in one shot and expect it to work right away. 
* Try to understand what each statement does and how it relates to other parts of the program. Refer to the list of variables and the comment statements. A thorough understanding of the program logic will make your job much easier when you reach the inevitable debugging stage. 
* Depending upon the speed of your computer, timing loops may be too long or too short. Each program has a subroutine to make a short pause; these pauses should be one to two seconds long. You can experiment with different values in the FOR…NEXT loop to create an appropriate length pause. 
* All the programs have a subroutine to print a centered line, specifically: 
PRINT TAB((70 - LEN(X$)) / 2) X$ : RETURN
This prints whatever is in the string X$ centered on a 70-character line. If you are converting the program to one with a smaller screen, the constant 70 should be set equal to your screen width (or a bit less for better aesthetics), and the length of X$ cannot exceed the screen width.
Apple II Family
The main limitations in converting these programs to the Apple II family are memory size and screen size. You must have BASIC in ROM with 48K to 64K of free memory, and you must have an 80-column display.
As Applesoft BASIC does not have the IF…THEN…ELSE statement, all of the ELSE constructions must be changed. For example, in Marco Polo the following lines would have to be changed:
1140 IF JL > 20 THEN JL = JL - 10 ELSE JL = INT(JL / 2)
1150 GOTO 3510 : RETURN
Without the ELSE, these statements would become:
1140 IF JL > 20 THEN JL = JL - 10 : GOTO 1150
1145 JL = INT(JL / 2)
1150 GOTO 3510 : RETURN
Applesoft does not have INKEY$; instead GET X$ is used. Applesoft also does not have WHILE or WEND. All programs use INKEY$ in a WHILE…WEND loop to halt execution temporarily. The following is one such routine:
3730 PRINT "Hit any key to continue."
3740 WHILE LEN(INKEY$) = 0 : WEND : RETURN
Here is that same routine in Applesoft BASIC.
3730 PRINT "Hit any key to continue."
3740 GET X$ : IF LEN(X$) = 0 THEN 3740
3745 RETURN
Applesoft does not have the RANDOMIZE statement to vary the starting point of the random-number generator. For RANDOMIZE, you can substitute the following statements at the beginning of each program:
5 INPUT "Please enter a number between 1 and 2000";A
6 FOR I = 1 TO A : RN = RND(1) : NEXT I
You will find a few other minor problems in converting to Applesoft, but most of them will be in the area of aesthetics rather than function. Note that while Applesoft BASIC does not have direct equivalents for some commands like CLS, LOCATE, or PRINT USING, in many cases you can achieve the same effect by using an appropriate PEEK or POKE statement.
Commodore 64, 128; Atari 8-bit Series; Tandy Color Computer
Conversion to these systems is not recommended because of their 40-column screen widths. However, if you decide to go ahead anyway, you will find the versions of BASIC on these machines substantially similar to Applesoft BASIC, so most of the above comments pertaining to the Apple II apply.
Apple Macintosh
The following comments apply only to the Microsoft BASIC interpreter for the Macintosh and not to other versions of BASIC. All of the statements and commands in Macintosh Microsoft BASIC are virtually identical to those of IBM PC Microsoft BASIC. Line numbers are not necessary on the Macintosh except when they are referred to by other statements, but you would be well advised to leave them in. Obviously, the programs do not provide for mouse support, menus, or dialog boxes.
The Macintosh display is not a constant width because characters are proportionately spaced. You may have to reformat some of the PRINT statements in your program, since you have a choice of fonts on the Macintosh. Monaco 9 point is a suggested font that helps achieve results similar to the original.
Atari ST
Atari ST BASIC is very close to Microsoft BASIC in most regards. In ST BASIC, the argument for RANDOMIZE should be zero, not RN as it is in the programs. Instead of CLS to clear the screen, Atari ST BASIC uses CLEAR 2 (clear the output window). Instead of LOCATE Y, X, Atari ST BASIC uses GOTOXY X, Y (note that the arguments are in reverse order in the two statements). In place of INKEY$ to read a key press, the statement INP(4) should be used on the ST.
The SOUND statement of the ST is quite different from that of Microsoft BASIC. Your best bet is to leave out the sound. Or combine the information below with that in the ST BASIC Sourcebook, and work out the conversions for yourself.
MSX Computers
While MSX BASIC is virtually identical to Microsoft BASIC, these machines pose the dual problems of narrow screen width and, frequently, inadequate memory. If you have a fully expanded machine (48K or 64K) and are willing to divide most of the PRINT statements into two statements, you should have relatively few problems with BASIC itself.
Sound Routines for Microsoft BASIC
Several programs in this book utilize the speaker built into the computer to play a short melody or fanfare. The SOUND command is easy to use, but it is one of the most poorly documented commands in BASIC. The command takes the form:
SOUND frequency, duration
in which frequency is the desired frequency in hertz (cycles per second or cps), and duration is the time the tone is to be sounded in arbitrary units of 55 milliseconds in length. In other words, the command SOUND 100, 10 would play a 100 Hz tone for .55 seconds.
The value for frequency can range from 37 to 32767, although the upper limit of human hearing for most people is between 14,000 and 20,000 Hz. A greater limitation is the speaker built into the computer which, depending upon the computer, generally has a range of about 100 Hz to 15, 000 Hz.
Duration can range from a minimum of zero to an upper limit of 32767 (30 minutes). In general, the most useful range of duration values is from 1 to 12.
If you wish to utilize the SOUND command to play a melody, it is important to know the frequency of various notes. You will have additional versatility if you know the relationship between various notes as well.
Middle A, the note most used for tuning instruments, is 440 Hz. One octave above, A is 880 Hz and one octave down, A is 220 Hz.
All notes follow this pattern, i.e., the frequency is doubled each octave.
Another important relationship is between the notes in an octave. There are 12 equally spaced notes in an octave, which are related to each other by the following formula:
Freq(N + 1) = Freq(N) * (2^(1 / 12))
More useful for computing is an extension of that formula for all the notes in the scale:
Freq(N) = BaseFreq * (2^(N / 12))
Thus the program to assign the correct frequency values to the two octaves above middle C (frequency 261.63 Hz) is as follows:
10 FOR I = 0 TO 24 : Freq(I) = 261.63 * (2^(I / 12)) : NEXT I
The following table shows the frequencies for the middle two and one-half octaves on the piano. These are the notes that are most useful for programming.

NoteOctave 1Octave 2Octave 3C262524C# or Db277554D294588D# or Eb311622E165330660F174.5349698F# or Gb185370740G196392784G# or Ab207.5415830A220440880A# or Bb233466932B247494988C2625241048TABLE 1. Note frequencies (Hertz)
Note durations are more easily related to one another than note frequencies. For example, if we assign a duration of 8 to a whole note, a half note has a value of 4, quarter note 2, eighth note 1, sixteenth note .5, and so on. A more versatile approach is to assign a whole note a duration value of DUR, a half note DUR/2, and so on. This way, you can set DUR at the beginning of the program for any tempo you want.
You can use a similar method with frequencies and assign the base frequency in Line 20 above to FRQ; then by varying FRQ, you can transpose the melody to any key you wish.
Putting all these ideas together, you will be able to add sound easily to any program. For example, here is a short program that plays the first two bars of "Give My Regards to Broadway."
10 DIM FREQ(25)
20 FRQ = 262 : DUR = 12
30 FOR I = 0 TO 24 : '2 OCTAVES
40 FREQ(I) = FRQ * (2^(I / 12)) : 'FILL NOTES WITH CORRECT FREQUENCIES
50 NEXT I
60 FOR I = 1 TO 15
70 READ NOTE, LN : 'READ NOTES AND LENGTHS FROM DATA
80 SOUND FREQ(NOTE), DUR/LN : 'PLAY NOTES
90 NEXT I
100 DATA 0, 3, 2, 2, 4, 3, 5, 2, 7, 2, 5, 1, 4, 1
110 DATA 4, 4, 2, 4, 2, 4, 2, 4, 2, 4, 4, 2, 4, 2, 0, 1
If It Doesn't Work
When a program blows up, your first reaction may be to kick your computer and yell, "There ought to be a law against people who sell books full of programs that don't work!" However, after many years of experience, we have found that almost all the problems people have with published programs result from simple typing mistakes or lack of familiarity with the peculiarities of their machines. So if a program doesn't work, we strongly suggest that you have someone else check your program character-by-character or line-by-line against the one in this book. The reason for having someone else do it is that if you have typed something wrong because you read it incorrectly, you will tend to continue to see it incorrectly.
If you are having a problem with one of the programs, reason it through. For example, in Westward Ho!, if you always run out of food on the first trip segment, that would suggest that the starting quantity is too small. When the supplies-buying routine is executed, perhaps instead of multiplying the quantity per dollar by the dollars spent, the quantities have been added by mistake. Or maybe there is a typo in the variable name. Every program has a list of variables, and practically every statement in the listing is commented; thus, you should be able to pinpoint an error once you think it through.
If, after following these procedures, you identify what you are convinced is a genuine bug, please do the following:
* Describe the problem completely in writing.
* If you have a line printer, list the entire program, not just the statement you think is in error. Also, using the screen print feature, print one or more output screens that illustrate the problem.
* Send the above items with a self-addressed stamped envelope to: Basic Adventures Problem, David Ahl, 12 Indian Head Road, Morristown, NJ 07960.
Please note that I am absolutely unable to handle telephone inquires. Please understand that there are well over one million copies of my books in circulation and if just one-tenth of one percent of the readers called me for a half-hour debugging session…well, you get my point. I will, however, respond to all written inquires that adhere to the guidelines given above.
Bugs aside, I'm sure you will devise many ways to extend and improve the programs in this book. I would be pleased to hear from readers—in writing—with comments about this book and, most especially, with suggestions for programs you would like to see in my next book.
Until then, have fun trekking through this volume.

About the Author
David Ahl is the well-known author of more than 20 books covering the educational and recreational applications of computers, including the best-selling BASIC Computer Games and More BASIC Computer Games. In 1974, he founded Creative Computing magazine, the first consumer magazine devoted to personal computers. David has also written for such publications as National Geographic World, Travel Weekly, Omni, Science Digest, The New York Times, and The Christian Science Monitor.








The manuscript for this book was prepared and submitted to Microsoft Press in electronic form. Text files were processed and formatted using Microsoft Word.
Cover and interior text design by Becker Design Associates
Cover illustration by Scott McDougall
Principal typographer: Christopher Banks
Principal production artist: Becky Johnson
The screen displays were created on the IBM Personal Computer and printed on the Hewlett Packard LaserJet.
Text composition by Microsoft Press in Baskerville and display in Univers 49, using the CCI–400 composition system and the Mergenthaler Linotron 202 digital phototypesetter.

